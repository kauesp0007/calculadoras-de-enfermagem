<!DOCTYPE html><html lang="es-ES"><head><link rel="dns-prefetch" href="//googleads.g.doubleclick.net"><link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6472730056006847" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    
    <!-- Modularização: Caminhos apontando para a pasta es/ -->
    <link rel="preload" href="/menu-global.html" as="fetch" crossorigin="">
    <link rel="preload" href="/global-body-elements.html" as="fetch" crossorigin="">
    <link rel="preload" href="/es/footer.html" as="fetch" crossorigin="">
    <link rel="preload" href="/_language_selector.html" as="fetch" crossorigin="">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO: Título Otimizado em Espanhol -->
    <title>
      Calculadora del Método de Capurro: Edad Gestacional (EG) Neonatal
    </title>
    <meta name="google-adsense-account" content="ca-pub-6472730056006847">

    <!-- SEO: Meta Descrição e Palavras-chave Otimizadas -->
    <meta name="description" content="Calcule la Edad Gestacional (EG) del recién nacido con precisión usando la Calculadora del Método de Capurro Somatoneurológico. Herramienta esencial para enfermería y pediatría en la evaluación neonatal.">
    <meta name="keywords" content="Método de Capurro, edad gestacional, cálculo capurro, capurro somatoneurológico, evaluación neonatal, enfermería neonatal, pediatría, calculadora edad gestacional, test de capurro">
    <meta name="author" content="Calculadoras de Enfermagem">
    <meta name="robots" content="index, follow">

    <!-- Links Canônicos e Hreflang -->
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/es/capurro.html">
    <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/capurro.html">
    <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/capurro.html">
    <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/capurro.html">
    <link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/capurro.html">
    <link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/capurro.html">
    <link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/capurro.html">
    <link rel="alternate" hreflang="ja" href="https://www.calculadorasdeenfermagem.com.br/ja/capurro.html">
    <link rel="alternate" hreflang="zh" href="https://www.calculadorasdeenfermagem.com.br/zh/capurro.html">
    <link rel="alternate" hreflang="hi" href="https://www.calculadorasdeenfermagem.com.br/hi/capurro.html">
    <link rel="alternate" hreflang="ar" href="https://www.calculadorasdeenfermagem.com.br/ar/capurro.html">
    <link rel="alternate" hreflang="ru" href="https://www.calculadorasdeenfermagem.com.br/ru/capurro.html">
    <link rel="alternate" hreflang="tr" href="https://www.calculadorasdeenfermagem.com.br/tr/capurro.html">
    <link rel="alternate" hreflang="ko" href="https://www.calculadorasdeenfermagem.com.br/ko/capurro.html">
    <link rel="alternate" hreflang="nl" href="https://www.calculadorasdeenfermagem.com.br/nl/capurro.html">
    <link rel="alternate" hreflang="pl" href="https://www.calculadorasdeenfermagem.com.br/pl/capurro.html">
    <link rel="alternate" hreflang="sv" href="https://www.calculadorasdeenfermagem.com.br/sv/capurro.html">
    <link rel="alternate" hreflang="id" href="https://www.calculadorasdeenfermagem.com.br/id/capurro.html">
    <link rel="alternate" hreflang="vi" href="https://www.calculadorasdeenfermagem.com.br/vi/capurro.html">
    <link rel="alternate" hreflang="uk" href="https://www.calculadorasdeenfermagem.com.br/uk/capurro.html">
    <link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/capurro.html">
    
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="manifest" href="manifest.json">

    <!-- Open Graph Traduzido -->
    <meta property="og:title" content="Método de Capurro: Calculadora de Edad Gestacional Neonatal">
    <meta property="og:description" content="Calcule la edad gestacional de recién nacidos con la calculadora del Método de Capurro. Herramienta precisa para evaluación somatoneurológica.">
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/es/capurro.html">
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp">
    <meta property="og:type" content="website">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Método de Capurro: Estimación de la Edad Gestacional">
    <meta name="twitter:description" content="Herramienta gratuita para cálculo de Capurro (edad gestacional). Esencial para la práctica neonatal.">
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp">

    <!-- Links Globais -->
    <link href="/public/output.css" rel="stylesheet">
    <script async="" src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="global-styles.css" media="print" onload="this.media='all'">

    <link rel="preconnect" href="https://fonts.googleapis.com?display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&amp;family=Inter:wght@400;600;700&amp;display=swap" rel="stylesheet">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"
    /></noscript>

    <!-- Scripts do Google -->
    <script defer="" src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("consent", "default", {
        analytics_storage: "denied",
        ad_storage: "denied",
        wait_for_update: 500,
      });
      gtag("config", "AW-952633102");
      gtag("config", "G-8FLJ59XXDK");
    </script>

    <!-- Dados Estruturados (JSON-LD) Otimizados y Traducidos -->
    

    <!-- Estilos específicos da página Otimizados para Mobile (Mantidos) -->
    <style>
      /* --- Estilos Atualizados dos Cards --- */
      .criterion-section {
        background-color: #fff;
        border: 1px solid #94a3b8;
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        box-shadow: 0 10px 15px -3px rgba(26, 62, 116, 0.15), 
                    0 4px 6px -2px rgba(26, 62, 116, 0.1);
        transition: all 0.3s ease;
      }
      .criterion-section.incomplete {
        border-color: #ef4444; 
        box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.4);
      }
      .criterion-section:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 25px -5px rgba(26, 62, 116, 0.2), 
                    0 10px 10px -5px rgba(26, 62, 116, 0.1);
        border-color: #1e40af;
      }
      .criterion-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1a3e74;
        margin-bottom: 0.25rem;
        text-align: left;
      }
      .criterion-description {
        font-size: 0.875rem;
        color: #6b7280;
        margin-bottom: 1rem;
        text-align: left;
      }
      .radio-options-group {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        justify-content: flex-start;
      }
      .radio-options-group input[type="radio"] {
        display: none;
      }
      .radio-options-group label {
        padding: 0.75rem 1rem;
        border: 1px solid #cbd5e1;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.2s ease-in-out;
        background-color: #f9fafb;
        color: #374151;
        font-size: 0.95rem;
        text-align: center;
        flex: 1 1 auto;
        min-width: 120px;
      }
      .radio-options-group input[type="radio"]:checked + label {
        background-color: #2563eb;
        color: #ffffff;
        border-color: #1d4ed8;
        font-weight: 600;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .radio-options-group label:hover {
        border-color: #94a3b8;
        background-color: #f1f5f9;
      }

      /* --- Estilo da Caixa de Resultado --- */
      #resultado {
        background-color: #ebf8ff;
        border: 1px solid #1e40af;
        border-radius: 1rem;
        padding: 1.25rem;
        margin-top: 1.5rem;
        box-shadow: 0 10px 15px -3px rgba(26, 62, 116, 0.15), 
                    0 4px 6px -2px rgba(26, 62, 116, 0.1);
        color: #1a3e74;
        font-weight: 600;
        line-height: 1.5;
        text-align: left;
      }

      /* --- Estilo do Cartão de Instrução --- */
      .instruction-card {
        background-color: #eff6ff !important;
        border-color: #bfdbfe !important;
      }
      .instruction-title {
        color: #1e3a8a;
        font-size: 1.25rem;
        font-weight: 800;
        text-align: center;
        margin-bottom: 0.5rem;
      }
      .instruction-text {
        color: #3b82f6;
        font-size: 0.9rem;
        text-align: center;
        font-weight: 600;
      }

      /* --- Botão Lateral Flutuante (Direita) --- */
      .scroll-to-calc-btn {
        position: fixed;
        top: 150px;
        right: 0;
        z-index: 998;
        background-color: rgba(26, 62, 116, 0.85);
        color: white;
        border: none;
        border-radius: 15px 0 0 15px;
        padding: 1.5rem 0.6rem;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        transition: background-color 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 0.8rem;
      }
      .scroll-to-calc-btn:hover {
        background-color: rgba(42, 82, 152, 0.95);
      }
      .scroll-btn-text {
        writing-mode: vertical-rl;
        text-orientation: mixed;
        transform: rotate(180deg); 
        font-size: 1rem;
        font-weight: 600;
        white-space: nowrap;
        letter-spacing: 0.5px;
      }
      .scroll-btn-icon {
        font-size: 1.2rem;
      }

      /* Responsividade Extra */
      @media (max-width: 640px) {
        .criterion-section {
          padding: 1rem;
        }
        .radio-options-group label {
          width: 100%;
          margin-bottom: 0.25rem;
        }
        .scroll-to-calc-btn {
          padding: 1rem 0.4rem; 
        }
        .scroll-btn-text {
          font-size: 0.9rem;
        }
      }
    </style>
  <meta property="og:locale" content="pt_BR"><meta property="og:site_name" content="Calculadoras de Enfermagem"><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://www.calculadorasdeenfermagem.com.br/#organization","name":"Calculadoras de Enfermagem","url":"https://www.calculadorasdeenfermagem.com.br","logo":{"@type":"ImageObject","url":"https://www.calculadorasdeenfermagem.com.br/assets/logo.png"}},{"@type":"MedicalWebPage","@id":"https://www.calculadorasdeenfermagem.com.br/capurro.html/#webpage","url":"https://www.calculadorasdeenfermagem.com.br/capurro.html","name":"Calculadora del Método de Capurro: Edad Gestacional (EG) Neonatal","description":"Calcule la Edad Gestacional (EG) del recién nacido con precisión usando la Calculadora del Método de Capurro Somatoneurológico. Herramienta esencial para enfermería y pediatría en la evaluación neonatal.","isPartOf":{"@id":"https://www.calculadorasdeenfermagem.com.br/#website"},"primaryImageOfPage":{"@id":"https://www.calculadorasdeenfermagem.com.br/capurro.html/#primaryimage"},"datePublished":"2025-12-19T07:59:47.979Z","dateModified":"2025-12-19T10:29:05.498Z","author":{"@id":"https://www.calculadorasdeenfermagem.com.br/#organization"},"audience":{"@type":"MedicalAudience","audienceType":"Clinician"},"specialty":{"@type":"MedicalSpecialty","name":"Nursing"}},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.calculadorasdeenfermagem.com.br"},{"@type":"ListItem","position":2,"name":"Calculadora del Método de Capurro: Edad Gestacional (EG) Neonatal","item":"https://www.calculadorasdeenfermagem.com.br/capurro.html"}]}]}</script></head>
  <body class="bg-gray-50 text-gray-800 font-inter">
    <nav aria-label="Atajos de Accesibilidad" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
      <a href="/" accesskey="I" class="block mb-2">Ir al Inicio [Alt + Shift + I]</a>
      <a href="#main-content" accesskey="C" class="block mb-2">Saltar al contenido principal [Alt + Shift + C]</a>
      <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Activar barra de accesibilidad [Alt + Shift + A]</a>
      <a href="#backToTopBtn" accesskey="T" class="block">Volver Arriba [Alt + Shift + T]</a>
    </nav>

    <!-- Botão Flutuante Lateral (Direita) Traduzido -->
    <button id="scrollToCalcBtn" class="scroll-to-calc-btn" aria-label="Desplazarse a la calculadora">
      <span class="scroll-btn-text">Realizar cálculo</span>
      <i class="fas fa-chevron-down scroll-btn-icon" aria-hidden="true"></i>
    </button>

    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- Container para o Menu Global -->
    <div id="global-header-container"></div>
    
    <!-- Container para o Seletor de Idioma -->
    <div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position: relative; z-index: 100; padding-right: 2rem"></div>

    <main id="main-content" class="flex-grow p-4 sm:p-8">
      <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
        <nav class="breadcrumb" aria-label="breadcrumb">
          <ol>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="#">Calculadoras</a></li>
            <li>Método de Capurro</li>
          </ol>
        </nav>

        <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
          <!-- Título com ícone (Caminho da imagem ajustado para ../img/) -->
          <div class="flex flex-col md:flex-row items-center justify-center gap-4">
            <img src="../img/iconecapurro.webp" alt="Ícono Capurro" class="w-32 h-auto" width="128" height="128" loading="lazy">
            <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl m-0">
              Método de Capurro
            </h1>
          </div>
        </div>
        <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>
        <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
          Estimación de la Edad Gestacional
        </h2>

        

        <p id="intro-paragraph" class="font-inter font-normal text-black-custom text-base lg:text-lg mb-6 text-left">
          El método Capurro es una técnica utilizada en neonatología para estimar la edad gestacional de los recién nacidos, especialmente cuando no se dispone de la fecha de la última menstruación (FUM) ni de una ecografía temprana. El examen se realiza después del nacimiento y evalúa los signos físicos y neurológicos del bebé, asignando puntuaciones que permiten estimar la edad gestacional en semanas. Es aplicable a recién nacidos con al menos aproximadamente 29 semanas de gestación.
        </p>
        <!-- Imagem Centralizada (Caminho ajustado para ../img/) -->
        <div class="flex items-center justify-center mb-6">
            <img src="../img/capurroimagemes.webp" alt="Ilustración de los criterios del Método de Capurro" class="w-full max-w-2xl h-auto rounded-lg shadow-sm" loading="lazy">
        </div>
        <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
          <strong>Año de Creación:</strong> 1978
        </p>
        <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
          <strong>Autores:</strong> Dr. Haroldo Capurro Alzola y su equipo.
        </p>
        <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
          <strong>Área empleada:</strong> Salas de parto y unidades de
          cuidados intensivos neonatales (UCIN).
        </p>
        <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
          <strong>Criterios evaluados:</strong> Textura de la piel, pliegues
          plantares, formación del pezón, tamaño de la glándula mamaria, forma de la
          oreja (pabellón) y signo de la bufanda.
        </p>
        <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
          <strong>¿Quién lo utiliza?:</strong> Neonatólogos, pediatras y
          enfermeros neonatales.
        </p>

        <div id="conteudo">
          <!-- Card de Instrução no Topo (Traduzido) -->
          <div class="criterion-section instruction-card">
            <h3 class="instruction-title">Calculadora de Capurro</h3>
            <p class="instruction-text">Seleccione una opción para cada criterio y luego haga clic en calcular.</p>
          </div>

          <div id="form-container"></div>
        </div>

        <div id="resultado" class="resultado" aria-live="polite" style="display: none"></div>

        <div id="reference-section" class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
          <strong>Referencia:</strong><br>
          <p class="mt-2">
            CAPURRO, H. et al. A simplified method for diagnosis of gestational
            age in the newborn infant.
            <strong>The Journal of Pediatrics</strong>, v. 93, n. 1, p. 120-122,
            1978. DOI: 10.1016/s0022-3476(78)80153-x. Disponible en:
            <a href="https://doi.org/10.1016/S0022-3476(78)80153-X" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">https://doi.org/10.1016/S0022-3476(78)80153-X</a>.
          </p>
        </div>
                
      </div>

      <div class="flex flex-wrap justify-start gap-4 mt-6">
        <button id="btnCalcular" class="btn-primary" aria-label="Calcular Edad Gestacional">
          Calcular
        </button>
        <button id="btnLimpar" class="btn-primary" aria-label="Limpiar campos">
          Limpiar
        </button>
        <button id="btnGerarPDF" class="btn-secondary" aria-label="Generar PDF">
          Generar PDF
        </button>
        <button id="btnNandaNicNoc" class="btn-primary" aria-label="Buscar NANDA, NIC, NOC">
          NANDA, NIC, NOC
        </button>
      </div>
    </main>

    <div id="footer-placeholder"></div>
    <div id="global-body-elements-container"></div>

    <!-- Scripts -->
    <script>
      // Função para carregar HTML modular
      function fetchHTML(url, containerId) {
        fetch(url)
          .then((response) => (response.ok ? response.text() : Promise.reject()))
          .then((data) => {
            const container = document.getElementById(containerId);
            if (container) container.innerHTML = data;
          })
          .catch((error) => console.error(`Error al cargar ${url}:`, error));
      }

      document.addEventListener("DOMContentLoaded", () => {
        // Carrega módulos da pasta /es/
        fetchHTML("/es/menu-global.html", "global-header-container");
        fetchHTML("/es/_language_selector.html", "language-dropdown-wrapper");
        fetchHTML("/es/footer.html", "footer-placeholder");
        fetchHTML("/global-body-elements.html", "global-body-elements-container");

        const resultadoDiv = document.getElementById("resultado");
        const btnCalcular = document.getElementById("btnCalcular");
        const btnLimpar = document.getElementById("btnLimpar");
        const btnGerarPDF = document.getElementById("btnGerarPDF");
        const btnNandaNicNoc = document.getElementById("btnNandaNicNoc");
        const formContainer = document.getElementById("form-container");

        // Lógica do Botão de Scroll Lateral
        const scrollToCalcBtn = document.getElementById("scrollToCalcBtn");
        scrollToCalcBtn?.addEventListener("click", function () {
          const firstSection = document.getElementById("section-textura_pele");
          if (firstSection) {
            firstSection.scrollIntoView({ behavior: "smooth", block: "start" });
          } else {
            const conteudo = document.getElementById("conteudo");
            if (conteudo) {
              conteudo.scrollIntoView({ behavior: "smooth", block: "start" });
            }
          }
        });

        // Dados Traduzidos para Espanhol
        const capurroData = [
          {
            category: "Textura de la Piel",
            description:
              "Se evalúa la apariencia y la elasticidad de la piel del recién nacido.",
            nameAttr: "textura_pele",
            options: [
              { description: "Gelatinosa (0)", score: 0 },
              { description: "Fina y lisa (5)", score: 5 },
              { description: "Más gruesa (10)", score: 10 },
              { description: "Grietas superficiales (15)", score: 15 },
              { description: "Grietas profundas (20)", score: 20 },
            ],
          },
          {
            category: "Pliegues Plantares",
            description:
              "Se observa la presencia, profundidad y extensión de los pliegues en la planta del pie.",
            nameAttr: "pregas_plantares",
            options: [
              { description: "Sin pliegues (0)", score: 0 },
              { description: "Marcas mal definidas (5)", score: 5 },
              { description: "Marcas bien definidas (10)", score: 10 },
              { description: "Surcos en 1/2 anterior (15)", score: 15 },
              { description: "Surcos > 1/2 anterior (20)", score: 20 },
            ],
          },
          {
            category: "Formación del Pezón",
            description:
              "Se analiza el diámetro del pezón y la elevación de la areola.",
            nameAttr: "formacao_mamilo",
            options: [
              { description: "Invisible (0)", score: 0 },
              { description: "Diámetro < 7.5mm (5)", score: 5 },
              {
                description: "Diám > 7.5mm, borde plano (10)",
                score: 10,
              },
              {
                description: "Diám > 7.5mm, borde elevado (15)",
                score: 15,
              },
            ],
          },
          {
            category: "Tamaño de la Glándula Mamaria",
            description:
              "Se examina el tamaño del tejido mamario palpable.",
            nameAttr: "glandula_mamaria",
            options: [
              { description: "No palpable (0)", score: 0 },
              { description: "< 5mm (5)", score: 5 },
              { description: "5-10mm (10)", score: 10 },
              { description: "> 10mm (15)", score: 15 },
            ],
          },
          {
            category: "Forma de la Oreja (Pabellón)",
            description:
              "Se observa la forma de la oreja, su incurvación y la presencia de cartílago.",
            nameAttr: "forma_orelha",
            options: [
              { description: "Plana, informe (0)", score: 0 },
              { description: "Borde parcial (8)", score: 8 },
              { description: "Borde total (16)", score: 16 },
              { description: "Pabellón totalmente incurvado (24)", score: 24 },
            ],
          },
          {
            category: "Signo de la Bufanda",
            description:
              "Se evalúa la posición del codo cuando se lleva el brazo a través del tórax.",
            nameAttr: "sinal_xale",
            options: [
              { description: "Codo en línea axilar opuesta (0)", score: 0 },
              {
                description: "Codo entre línea axilar y esternón (6)",
                score: 6,
              },
              { description: "Codo en el esternón (12)", score: 12 },
              { description: "Codo más allá del esternón (18)", score: 18 },
            ],
          },
        ];

        function createForm() {
          formContainer.innerHTML = "";
          capurroData.forEach((item) => buildSection(item));
        }

        function buildSection(item) {
          const sectionDiv = document.createElement("div");
          sectionDiv.className = "criterion-section";
          sectionDiv.id = `section-${item.nameAttr}`;
          sectionDiv.setAttribute("role", "radiogroup");
          sectionDiv.setAttribute("aria-labelledby", `title-${item.nameAttr}`);

          const titleH3 = document.createElement("h3");
          titleH3.className = "criterion-title";
          titleH3.id = `title-${item.nameAttr}`;
          titleH3.innerText = item.category;
          sectionDiv.appendChild(titleH3);

          const descriptionP = document.createElement("p");
          descriptionP.className = "criterion-description";
          descriptionP.textContent = item.description;
          sectionDiv.appendChild(descriptionP);

          const optionsGroup = document.createElement("div");
          optionsGroup.className = "radio-options-group";

          item.options.forEach((option, index) => {
            const radioId = `${item.nameAttr}-${index}`;
            const radioInput = document.createElement("input");
            radioInput.type = "radio";
            radioInput.id = radioId;
            radioInput.name = item.nameAttr;
            radioInput.value = option.score;

            const radioLabel = document.createElement("label");
            radioLabel.htmlFor = radioId;
            radioLabel.textContent = option.description;

            optionsGroup.appendChild(radioInput);
            optionsGroup.appendChild(radioLabel);
          });

          sectionDiv.appendChild(optionsGroup);
          formContainer.appendChild(sectionDiv);
        }

        function calculateScore() {
          formContainer
            .querySelectorAll(".criterion-section.incomplete")
            .forEach((el) => el.classList.remove("incomplete"));

          const groups = formContainer.querySelectorAll(".criterion-section");
          let allSelected = true;
          let totalScore = 0;

          groups.forEach((group) => {
            const checkedRadio = group.querySelector(
              'input[type="radio"]:checked',
            );
            if (checkedRadio) {
              totalScore += Number(checkedRadio.value);
            } else {
              allSelected = false;
              group.classList.add("incomplete");
            }
          });

          resultadoDiv.style.display = "block";
          if (!allSelected) {
            resultadoDiv.innerHTML =
              '⚠️ <strong class="font-bold">Por favor, seleccione una opción para todos los ítems destacados antes de calcular.</strong>';
            resultadoDiv.className = "resultado bg-info-orange-light text-yellow-800";
            delete resultadoDiv.dataset.score;
            return;
          }

          const totalDays = 200 + totalScore;
          const weeks = Math.floor(totalDays / 7);
          const days = totalDays % 7;
          const gestationalAgeText = `<strong class="font-bold">${weeks} semanas y ${days} días</strong>`;

          resultadoDiv.innerHTML = `<p>Puntuación Total: <strong class="font-bold">${totalScore}</strong></p><p>Edad Gestacional Estimada: ${gestationalAgeText}</p>`;
          resultadoDiv.className = `resultado`;

          resultadoDiv.dataset.score = totalScore;
          resultadoDiv.dataset.scaleName = "Método de Capurro";
          resultadoDiv.dataset.classificacao = gestationalAgeText.replace(
            /<[^>]*>/g,
            "",
          );
        }

        function clearFields() {
          formContainer
            .querySelectorAll('input[type="radio"]')
            .forEach((radio) => {
              radio.checked = false;
            });
          formContainer
            .querySelectorAll(".criterion-section.incomplete")
            .forEach((el) => el.classList.remove("incomplete"));
          resultadoDiv.innerHTML = "";
          resultadoDiv.style.display = "none";
          resultadoDiv.className = "resultado";
          delete resultadoDiv.dataset.score;
        }

        btnCalcular?.addEventListener("click", calculateScore);
        btnLimpar?.addEventListener("click", clearFields);

        btnGerarPDF?.addEventListener("click", () => {
          if (!resultadoDiv.dataset.score) {
            alert('Por favor, haga clic en "Calcular" primero para generar el PDF.');
            return;
          }
          if (typeof gerarPDFGlobal === "function") {
            gerarPDFGlobal({
              titulo: "Estimación de Edad Gestacional - Método de Capurro",
              subtitulo: "Informe de Evaluación Neonatal",
              nomeArquivo: "informe_metodo_capurro.pdf",
              seletorConteudo: ".main-content-wrapper",
            });
          } else {
             console.error("Función gerarPDFGlobal no definida.");
          }
        });

        btnNandaNicNoc?.addEventListener("click", () => {
          const classificacao = resultadoDiv.dataset.classificacao;
          if (!classificacao) {
            alert("Calcule el resultado para buscar la conducta.");
            return;
          }
          const searchQuery = encodeURIComponent(
            `cuidados de enfermería para recién nacido con edad gestacional de ${classificacao} NANDA NIC NOC`,
          );
          window.open(
            `https://www.google.com/search?q=${searchQuery}`,
            "_blank",
          );
        });

        createForm();
      });
    </script>

    <script src="/lang-selector.js" defer=""></script>
    <script src="global-scripts.js" defer=""></script>
  
</body></html>