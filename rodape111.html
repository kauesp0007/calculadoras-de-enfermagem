<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rodapé - Calculadoras de Enfermagem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* As fontes do Google Fonts foram removidas para evitar erros de carregamento em ambientes srcdoc/PWA. */
        /* O navegador usará fontes padrão do sistema ou 'Inter' se disponível localmente. */

        /* Variáveis CSS para cores do site */
        :root {
            --cor-foco-acessibilidade: yellow;
            --espacamento-linha: 1.5;
            --espacamento-letra: 0em;
        }

        /* Fontes */
        .font-nunito { font-family: 'Nunito Sans', sans-serif; } /* Manter classes, mas a fonte será a fallback */
        .font-inter { font-family: 'Inter', sans-serif; } /* Manter classes, mas a fonte será a fallback */

        /* Cores Padrão do Site - Ajustadas para WCAG AAA (7:1 contraste) */
        body {
            background-color: #f9fafb; /* Cor de fundo principal mais clara */
            color: #1F2937; /* Cor de texto padrão - Ajustado para AAA */
            line-height: var(--espacamento-linha); /* Aplicar espaçamento de linha */
            letter-spacing: var(--espacamento-letra); /* Aplicar espaçamento de letra */
            font-family: 'Inter', sans-serif; /* Fonte padrão do corpo */
            margin: 0;
            /* Propriedades para fixar o rodapé na parte inferior da página */
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        /* Estilos para o modo escuro */
        @media (prefers-color-scheme: dark) {
            body.dark {
                background-color: #1a202c; /* Fundo escuro */
                color: #e2e8f0; /* Texto claro */
            }
            .dark .bg-white { background-color: #2d3748; }
            .dark .bg-blue-50 { background-color: #2a4365; }
            .dark .text-[#1A3E74] { color: #90cdf4; }
            .dark .hover\:text-[#1A3E74]:hover { color: #63b3ed; }
            .dark .bg-[#1A3E74], .dark .bg-blue-900 { background-color: #2c5282; }
            .dark .hover\:bg-blue-900:hover { background-color: #2b6cb0; }
            .dark .border-gray-300 { border-color: #4a5568; }
            .dark .footer-social-icon {
                background-color: rgba(255, 255, 255, 0.1);
            }
            .dark .footer-social-icon:hover {
                background-color: rgba(255, 255, 255, 0.2);
            }
            .dark .vertical-divider-footer-stretched {
                background-color: rgba(255, 255, 255, 0.3);
            }
            .dark .text-white { color: #e2e8f0; } /* Garante que o texto do rodapé seja claro no modo escuro */
        }


        /* Estilos do rodapé */
        .footer-social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            transition: background-color 0.3s ease;
            color: white; /* Cor do ícone SVG */
        }
        .footer-social-icon:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        /* Os ícones SVG agora herdam a cor branca do pai */
        .footer-social-icon svg {
            width: 20px; /* Tamanho do ícone SVG */
            height: 20px; /* Tamanho do ícone SVG */
            fill: currentColor; /* Garante que o SVG use a cor do texto pai */
        }

        /* Ajuste para a imagem do rodapé para garantir que ela se ajuste corretamente */
        footer img {
            max-width: 100%;
            height: auto;
            display: block; /* Evita espaço extra abaixo da imagem */
        }


        /* Estilos do divisor vertical */
        .vertical-divider-footer-stretched {
            width: 1px; /* Largura da linha */
            background-color: rgba(255, 255, 255, 0.3); /* Cor da linha */
            height: 100%; /* Estende a altura do div pai */
            margin-left: 1rem;
            margin-right: 1rem;
        }

        /* Classes para controle de visibilidade (necessárias para o layout responsivo do rodapé) */
        .hidden { display: none !important; }
        .md\:flex { display: none; } /* Sobrescrito por media query */
        @media (min-width: 768px) { /* md breakpoint */
            .md\:flex { display: flex; }
        }

        /* Estilo para foco visível (acessibilidade) */
        /* Garante que elementos focados pelo teclado tenham um contorno claro */
        a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible, textarea:focus-visible {
            outline: 2px solid var(--cor-foco-acessibilidade); /* Contorno amarelo para acessibilidade */
            outline-offset: 2px; /* Espaçamento entre o contorno e o elemento */
            border-radius: 0.25rem; /* Bordas arredondadas para o contorno */
        }

        /* Classe para conteúdo apenas para leitores de tela */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Estilos para o modal de configurações de cookies */
        .cookie-settings-modal {
            display: none; /* Escondido por padrão */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Fundo escuro semi-transparente */
            z-index: 100; /* Acima de tudo */
            justify-content: center;
            align-items: center;
            opacity: 0; /* Começa invisível para a transição */
            transition: opacity 0.3s ease-in-out; /* Transição suave */
        }
        .cookie-settings-modal.show {
            opacity: 1; /* Torna visível */
        }
        .cookie-settings-content {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 90%;
            color: #1F2937;
            transform: translateY(-20px); /* Começa um pouco acima para a transição */
            transition: transform 0.3s ease-in-out; /* Transição suave */
        }
        .cookie-settings-modal.show .cookie-settings-content {
            transform: translateY(0); /* Desliza para a posição final */
        }
        @media (prefers-color-scheme: dark) {
            .dark .cookie-settings-content {
                background-color: #2d3748;
                color: #e2e8f0;
            }
        }

        /* Estilos para o botão flutuante com feedback visual */
        #floating-cookie-btn {
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        #floating-cookie-btn:hover {
            transform: scale(1.05); /* Leve aumento ao passar o mouse */
        }
        #floating-cookie-btn:focus {
            outline: none; /* Remove o outline padrão, pois focus-visible já cuida */
            box-shadow: 0 0 0 4px rgba(255, 255, 0, 0.5); /* Anel de foco personalizado */
        }

        /* Estilos para o grid no rodapé */
        .footer-grid-container {
            display: grid; /* Sempre um grid */
            grid-template-columns: 1fr; /* Padrão: uma coluna para telas muito pequenas */
            gap: 1rem; /* Espaçamento padrão */
            align-items: start;
        }

        @media (min-width: 640px) { /* sm breakpoint: 2 colunas para Institucional e Sustentabilidade */
            .footer-grid-container {
                grid-template-columns: repeat(2, minmax(0, 1fr));
                gap: 2rem; /* Espaçamento um pouco maior para sm */
            }
            .footer-grid-container .social-links-container {
                grid-column: 1 / -1; /* Links sociais ocupam a largura total abaixo das duas primeiras seções */
                margin-top: 1rem; /* Adiciona espaço acima dos links sociais */
            }
        }

        @media (min-width: 768px) { /* md breakpoint: layout original de 4 colunas */
            .footer-grid-container {
                grid-template-columns: repeat(3, minmax(0, 1fr)) 1fr; /* 3 colunas para as seções e 1 para social */
                gap: 2rem; /* Espaçamento entre as colunas */
            }
            .footer-grid-container .vertical-divider-footer-stretched {
                grid-column: 3 / 4; /* Posiciona o divisor na 3ª coluna */
                height: auto; /* Permite que o divisor se estenda com o conteúdo */
            }
            .footer-grid-container .social-links-container {
                grid-column: 4 / 5; /* Posiciona os links sociais na 4ª coluna */
                margin-top: 0; /* Redefine a margem para desktop */
            }
        }

        /* Estilos para seções colapsáveis */
        .collapsible-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            -webkit-tap-highlight-color: transparent; /* Remove highlight em mobile */
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            padding-left: 0.5rem; /* Recuo para conteúdo */
        }

        .collapsible-content.expanded {
            max-height: 1000px; /* Valor grande o suficiente para expandir todo o conteúdo */
        }

        .collapsible-icon {
            transition: transform 0.3s ease-out;
        }

        .collapsible-header.expanded .collapsible-icon {
            transform: rotate(180deg);
        }

        /* Desativar colapsável em telas maiores que 'sm' */
        @media (min-width: 640px) {
            .collapsible-header {
                cursor: default; /* Remove cursor de ponteiro */
                padding: 0; /* Remove padding extra */
            }
            .collapsible-header .collapsible-icon {
                display: none; /* Esconde o ícone de colapsar */
            }
            .collapsible-content {
                max-height: none !important; /* Sempre expandido */
                overflow: visible !important; /* Sempre visível */
                padding-left: 0; /* Remove recuo */
            }
        }

        /* Estilo para o skip link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background-color: var(--cor-foco-acessibilidade);
            color: #1F2937;
            padding: 8px;
            z-index: 1000;
            text-decoration: none;
            transition: top 0.3s ease-in-out;
        }
        .skip-link:focus {
            top: 0;
        }
    </style>
    <script>
        console.log('Script tag started execution.'); // Log para verificar se o script está sendo executado

        // Script para aplicar a classe 'dark' ao corpo se o modo escuro for preferido pelo sistema
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }

        // Variável para armazenar o elemento que tinha o foco antes do modal abrir
        let lastFocusedElement = null;

        // Função para carregar Google Analytics (placeholder)
        function loadGoogleAnalytics() {
            // Em um ambiente real, você colocaria o código de inicialização do GA aqui, por exemplo:
            /*
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a[i].async=1;a[i].src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-XXXXX-Y', 'auto');
            ga('send', 'pageview');
            */
            // Apenas para desenvolvimento:
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                console.log('Google Analytics carregado! (Função placeholder - apenas em dev mode)');
            }
        }

        // Função para registrar o consentimento no back-end (anonimizado)
        async function logConsent(preferences) {
            const csrfTokenMeta = document.querySelector('meta[name="csrf-token"]');
            const csrfToken = csrfTokenMeta ? csrfTokenMeta.getAttribute('content') : '';

            const consentData = {
                timestamp: new Date().toISOString(),
                csrfToken: csrfToken, // Incluindo o token CSRF
                preferences: preferences
            };

            try {
                // Substitua '/api/log-consent' pelo seu endpoint de back-end real
                const response = await fetch('/api/log-consent', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRF-Token': consentData.csrfToken, // Adicionando o cabeçalho X-CSRF-Token
                    },
                    body: JSON.stringify(consentData),
                });

                if (response.ok) {
                    // Apenas para desenvolvimento:
                    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                        console.log('Consentimento registrado com sucesso no back-end (anonimizado).');
                    }
                } else {
                    console.error('Falha ao registrar consentimento no back-end:', response.statusText);
                }
            } catch (error) {
                console.error('Erro ao enviar consentimento para o back-end:', error);
            }
        }

        // Script para o banner de cookies e configurações
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOMContentLoaded fired - Script de cookies iniciado.'); // Log para verificar o disparo do DOMContentLoaded

            const cookieBanner = document.getElementById('cookie-banner');
            const cookieSettingsModal = document.getElementById('cookie-settings-modal');
            const floatingCookieBtn = document.getElementById('floating-cookie-btn');

            const acceptAllBtn = document.getElementById('cookie-accept-all');
            const declineAllBtn = document.getElementById('cookie-decline-all');
            const openSettingsBtn = document.getElementById('cookie-open-settings');
            const saveSettingsBtn = document.getElementById('cookie-save-settings');
            const closeSettingsBtn = document.getElementById('cookie-settings-close');

            const functionalCheckbox = document.getElementById('cookie-functional');
            const analyticalCheckbox = document.getElementById('cookie-analytical');
            const marketingCheckbox = document.getElementById('cookie-marketing');

            // Função para obter todos os elementos focáveis dentro de um contêiner
            function getFocusableElements(container) {
                return Array.from(
                    container.querySelectorAll(
                        'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'
                    )
                ).filter(el => el.offsetWidth > 0 || el.offsetHeight > 0 || el === document.activeElement);
            }

            // Função para abrir o modal com transição e gerenciar foco
            function openModal(modalElement) {
                console.log('Abrindo modal:', modalElement.id);
                lastFocusedElement = document.activeElement; // Armazena o elemento que tinha o foco
                modalElement.style.display = 'flex';
                // Força o reflow para garantir que a transição ocorra
                void modalElement.offsetWidth;
                modalElement.classList.add('show');
                // Adiciona aria-expanded para acessibilidade
                if (modalElement.id === 'cookie-settings-modal') {
                    openSettingsBtn.setAttribute('aria-expanded', 'true');
                    closeSettingsBtn.setAttribute('aria-expanded', 'true');
                    floatingCookieBtn.setAttribute('aria-expanded', 'true');

                    // Define o foco para o primeiro elemento focável dentro do modal
                    const focusableElements = getFocusableElements(modalElement);
                    if (focusableElements.length > 0) {
                        focusableElements[0].focus();
                    }
                }
                // Adiciona listener para o trap de foco e fechar com ESC
                document.addEventListener('keydown', handleModalKeydown);
            }

            // Função para fechar o modal com transição e restaurar foco
            function closeModal(modalElement) {
                console.log('Fechando modal:', modalElement.id);
                modalElement.classList.remove('show');
                modalElement.addEventListener('transitionend', function handler() {
                    modalElement.style.display = 'none';
                    modalElement.removeEventListener('transitionend', handler);
                    // Restaura aria-expanded para acessibilidade
                    if (modalElement.id === 'cookie-settings-modal') {
                        openSettingsBtn.setAttribute('aria-expanded', 'false');
                        closeSettingsBtn.setAttribute('aria-expanded', 'false');
                        floatingCookieBtn.setAttribute('aria-expanded', 'false');
                    }
                    // Retorna o foco para o elemento que abriu o modal
                    if (lastFocusedElement) {
                        lastFocusedElement.focus();
                        lastFocusedElement = null; // Limpa a referência
                    }
                }, { once: true });
                // Remove listener para o trap de foco e fechar com ESC
                document.removeEventListener('keydown', handleModalKeydown);
            }

            // Função para gerenciar o trap de foco e fechar com ESC
            function handleModalKeydown(event) {
                if (event.key === 'Escape') {
                    closeModal(cookieSettingsModal);
                } else if (event.key === 'Tab') {
                    const focusableElements = getFocusableElements(cookieSettingsModal);
                    const firstFocusableElement = focusableElements[0];
                    const lastFocusableElement = focusableElements[focusableElements.length - 1];

                    if (event.shiftKey) { // Shift + Tab
                        if (document.activeElement === firstFocusableElement) {
                            lastFocusableElement.focus();
                            event.preventDefault();
                        }
                    } else { // Tab
                        if (document.activeElement === lastFocusableElement) {
                            firstFocusableElement.focus();
                            event.preventDefault();
                        }
                    }
                }
            }

            // Função para obter as preferências de cookies do localStorage
            function getCookiePreferences() {
                try {
                    const preferences = localStorage.getItem('cookiePreferences');
                    console.log('localStorage.getItem("cookiePreferences"):', preferences); // Log para depuração
                    return preferences ? JSON.parse(preferences) : null;
                } catch (e) {
                    console.error('Erro ao ler do localStorage:', e); // Log de erro
                    return null;
                }
            }

            // Função para salvar as preferências de cookies no localStorage
            function saveCookiePreferences(preferences) {
                try {
                    localStorage.setItem('cookiePreferences', JSON.stringify(preferences));
                    logConsent(preferences); // Chama a função para registrar no back-end
                    console.log('Preferências de cookies salvas no localStorage:', preferences); // Log para depuração
                } catch (e) {
                    console.error('Erro ao salvar no localStorage:', e); // Log de erro
                }
            }

            // Inicializa as preferências e exibe o banner/flutuante
            const storedPreferences = getCookiePreferences();
            console.log('Preferências de cookies após recuperação:', storedPreferences); // Log para depuração
            if (storedPreferences) {
                cookieBanner.style.display = 'none'; // Esconde o banner se já houver preferências
                floatingCookieBtn.style.display = 'flex'; // Mostra o botão flutuante
                applyCookiePreferences(storedPreferences); // Aplica as preferências existentes
                console.log('Preferências de cookies encontradas e aplicadas. Banner escondido, botão flutuante visível.'); // Log para depuração
            } else {
                cookieBanner.style.display = 'flex'; // Exibe o banner se não houver preferências
                floatingCookieBtn.style.display = 'none'; // Esconde o botão flutuante inicialmente
                console.log('Nenhuma preferência de cookie encontrada. Exibindo banner, botão flutuante escondido.'); // Log para depuração
            }

            // Event Listeners para o banner principal
            acceptAllBtn.addEventListener('click', () => {
                console.log('Botão "Aceitar Todos" clicado. Tentando aceitar cookies.');
                const preferences = {
                    essential: true,
                    analytical: true,
                    marketing: true
                };
                saveCookiePreferences(preferences);
                applyCookiePreferences(preferences);

                console.log('Elemento cookieBanner antes de esconder:', cookieBanner);
                cookieBanner.style.display = 'none';
                console.log('cookieBanner.style.display após tentativa de esconder:', cookieBanner.style.display);

                console.log('Elemento floatingCookieBtn antes de mostrar:', floatingCookieBtn);
                floatingCookieBtn.style.display = 'flex';
                console.log('floatingCookieBtn.style.display após tentativa de mostrar:', floatingCookieBtn.style.display);
            });

            declineAllBtn.addEventListener('click', () => {
                console.log('Botão "Recusar Todos" clicado.');
                const preferences = {
                    essential: true, // Essenciais ainda são true
                    analytical: false,
                    marketing: false
                };
                saveCookiePreferences(preferences);
                applyCookiePreferences(preferences);
                cookieBanner.style.display = 'none';
                floatingCookieBtn.style.display = 'flex';
            });

            openSettingsBtn.addEventListener('click', () => {
                console.log('Botão "Configurações de Cookies" clicado (banner).');
                cookieBanner.style.display = 'none'; // Esconde o banner principal
                openModal(cookieSettingsModal); // Exibe o modal de configurações com transição

                // Carrega as preferências atuais no modal
                const currentPreferences = getCookiePreferences();
                if (currentPreferences) {
                    functionalCheckbox.checked = true; // Essenciais são sempre true
                    analyticalCheckbox.checked = currentPreferences.analytical;
                    marketingCheckbox.checked = currentPreferences.marketing;
                } else {
                    // Se não houver preferências salvas, assume tudo como true (exceto essenciais) para a primeira visualização
                    functionalCheckbox.checked = true;
                    analyticalCheckbox.checked = true;
                    marketingCheckbox.checked = true;
                }
            });

            // Event Listeners para o modal de configurações
            saveSettingsBtn.addEventListener('click', () => {
                console.log('Botão "Salvar Preferências" clicado.');
                const preferences = {
                    essential: true,
                    analytical: analyticalCheckbox.checked,
                    marketing: marketingCheckbox.checked
                };
                saveCookiePreferences(preferences);
                applyCookiePreferences(preferences);
                closeModal(cookieSettingsModal); // Fecha o modal com transição
                floatingCookieBtn.style.display = 'flex';
            });

            closeSettingsBtn.addEventListener('click', () => {
                console.log('Botão "Fechar" clicado (modal).');
                closeModal(cookieSettingsModal); // Fecha o modal com transição
                // Se o banner principal ainda não foi aceito/recusado, exibi-lo novamente
                const currentPreferences = getCookiePreferences();
                if (!currentPreferences) {
                    cookieBanner.style.display = 'flex';
                } else {
                    floatingCookieBtn.style.display = 'flex';
                }
            });

            // Event Listener para o botão flutuante
            floatingCookieBtn.addEventListener('click', () => {
                console.log('Botão flutuante de cookies clicado.');
                openModal(cookieSettingsModal); // Abre diretamente as configurações com transição
                // Carrega as preferências atuais no modal
                const currentPreferences = getCookiePreferences();
                if (currentPreferences) {
                    functionalCheckbox.checked = true; // Essenciais são sempre true
                    analyticalCheckbox.checked = currentPreferences.analytical;
                    marketingCheckbox.checked = true;
                } else {
                    // Se não houver preferências salvas, assume tudo como true (exceto essenciais) para a primeira visualização
                    functionalCheckbox.checked = true;
                    analyticalCheckbox.checked = true;
                    marketingCheckbox.checked = true;
                }
            });

            // Lógica para colapsar/expandir seções do rodapé
            const collapsibleSections = document.querySelectorAll('.collapsible-section');

            collapsibleSections.forEach(section => {
                const header = section.querySelector('.collapsible-header');
                const content = section.querySelector('.collapsible-content');
                const icon = section.querySelector('.collapsible-icon');

                // Função para configurar o estado inicial e em redimensionamento
                function setupCollapsibleState() {
                    console.log('setupCollapsibleState called for:', header.querySelector('h6').textContent, 'Window width:', window.innerWidth);
                    if (window.innerWidth >= 640) { // Desktop/Tablet (>= sm)
                        console.log('Screen >= 640px. Expanding content for:', header.querySelector('h6').textContent);
                        content.classList.add('expanded'); // Sempre expandido
                        header.setAttribute('aria-expanded', 'true'); // Indica estado expandido
                        header.removeAttribute('role'); // Não é um botão no desktop
                        header.removeAttribute('tabindex'); // Não é focável como botão
                        if (icon) icon.style.display = 'none'; // Esconde o ícone
                        header.style.cursor = 'default';
                    } else { // Mobile (< sm)
                        console.log('Screen < 640px. Collapsing content for:', header.querySelector('h6').textContent);
                        content.classList.remove('expanded'); // Começa colapsado
                        header.setAttribute('aria-expanded', 'false'); // Indica estado colapsado
                        header.setAttribute('role', 'button'); // É um botão no mobile
                        header.setAttribute('tabindex', '0'); // É focável
                        if (icon) icon.style.display = 'block'; // Mostra o ícone
                        header.style.cursor = 'pointer';
                    }
                }

                // Adiciona listener de clique para alternar em mobile
                if (header) { // Garante que o cabeçalho existe
                    header.addEventListener('click', () => {
                        console.log('Collapsible header clicked for:', header.querySelector('h6').textContent, 'Current width:', window.innerWidth);
                        if (window.innerWidth < 640) { // Apenas alterna no mobile
                            console.log('Toggling collapsible content for:', header.querySelector('h6').textContent);
                            if (content.classList.contains('expanded')) {
                                content.classList.remove('expanded');
                                header.setAttribute('aria-expanded', 'false');
                            } else {
                                // Fecha outros conteúdos expandidos, se apenas um deve estar aberto por vez
                                document.querySelectorAll('.collapsible-content.expanded').forEach(openContent => {
                                    if (openContent !== content) {
                                        openContent.classList.remove('expanded');
                                        const prevHeader = openContent.previousElementSibling;
                                        if (prevHeader) prevHeader.setAttribute('aria-expanded', 'false');
                                    }
                                });
                                content.classList.add('expanded');
                                header.setAttribute('aria-expanded', 'true');
                            }
                        } else {
                            console.log('Clique ignorado em desktop/tablet para cabeçalho colapsável.');
                        }
                    });
                }

                // Chama na carga da página e no redimensionamento
                setupCollapsibleState();
                window.addEventListener('resize', setupCollapsibleState);
            });
        });
    </script>
</head>
<body class="bg-gray-50 text-gray-800 font-inter">
    <!-- IMPORTANTE: Para que o rodapé "grude" na parte inferior da página, -->
    <!-- o conteúdo principal da sua página (tudo o que vem antes do rodapé) -->
    <!-- deve estar dentro de um elemento com `flex-grow: 1;`. Exemplo: -->
    <!-- <main class="flex-grow">Seu conteúdo aqui...</main> -->
    <!-- Se o seu cabeçalho tiver 'position: fixed' ou 'absolute', -->
    <!-- você precisará adicionar um 'padding-top' ao 'body' ou à 'main' -->
    <!-- igual à altura do seu cabeçalho para evitar sobreposição. -->

    <!-- Banner de Cookies LGPD -->
    <div id="cookie-banner" style="display: none;" class="fixed bottom-0 left-0 right-0 z-50 bg-[#1A3E74] bg-opacity-90 text-white p-4 shadow-md flex flex-col md:flex-row md:items-center md:justify-between gap-4 text-sm font-inter" role="dialog" aria-live="polite" aria-label="Consentimento de Cookies">
      <p class="flex-1">
        Utilizamos cookies para melhorar sua experiência de navegação, personalizar conteúdo e analisar o tráfego do site. Ao continuar, você concorda com nossa
        <a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="underline text-blue-300 hover:text-blue-200" target="_blank" rel="noopener noreferrer">Política de Cookies</a>.
      </p>
      <div class="flex gap-2 justify-end">
        <button id="cookie-open-settings" class="bg-gray-500 hover:bg-gray-400 px-4 py-2 rounded text-white text-sm transition-colors duration-200 ease-in-out" aria-expanded="false" aria-controls="cookie-settings-modal">Configurações de Cookies</button>
        <button id="cookie-decline-all" class="bg-gray-500 hover:bg-gray-400 px-4 py-2 rounded text-white text-sm transition-colors duration-200 ease-in-out">Recusar Todos</button>
        <button id="cookie-accept-all" class="bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded text-white text-sm transition-colors duration-200 ease-in-out">Aceitar Todos</button>
      </div>
    </div>

    <!-- Modal de Configurações de Cookies -->
    <div id="cookie-settings-modal" class="cookie-settings-modal" role="dialog" aria-modal="true" aria-labelledby="cookie-settings-title">
        <div class="cookie-settings-content">
            <h3 id="cookie-settings-title" class="text-lg font-bold mb-4">Configurações de Cookies</h3>
            <p class="mb-4 text-sm">Gerencie suas preferências de cookies. Você pode alterar suas escolhas a qualquer momento.</p>

            <div class="mb-4">
                <label class="flex items-center space-x-2 cursor-not-allowed opacity-70">
                    <input type="checkbox" id="cookie-functional" checked disabled class="form-checkbox h-4 w-4 text-blue-600 rounded">
                    <span class="font-semibold">Cookies Essenciais</span>
                    <span class="text-xs text-gray-500">(Sempre Ativos)</span>
                </label>
                <p class="text-xs text-gray-600 ml-6 mt-1">Esses cookies são necessários para o funcionamento básico do site e não podem ser desativados.</p>
            </div>

            <div class="mb-4">
                <label class="flex items-center space-x-2 cursor-pointer">
                    <input type="checkbox" id="cookie-analytical" class="form-checkbox h-4 w-4 text-blue-600 rounded">
                    <span class="font-semibold">Cookies Analíticos</span>
                </label>
                <p class="text-xs text-gray-600 ml-6 mt-1">Coletam informações sobre como você usa nosso site, como páginas visitadas e links clicados. Os dados são anonimizados para nos ajudar a melhorar o site.</p>
            </div>

            <div class="mb-6">
                <label class="flex items-center space-x-2 cursor-pointer">
                    <input type="checkbox" id="cookie-marketing" class="form-checkbox h-4 w-4 text-blue-600 rounded">
                    <span class="font-semibold">Cookies de Marketing</span>
                </label>
                <p class="text-xs text-gray-600 ml-6 mt-1">Usados para rastrear a atividade dos visitantes em sites para exibir anúncios relevantes e personalizados. Podem ser usados por terceiros.</p>
            </div>

            <div class="flex justify-end gap-2">
                <button id="cookie-settings-close" class="bg-gray-400 hover:bg-gray-300 px-4 py-2 rounded text-gray-800 text-sm transition-colors duration-200 ease-in-out" aria-expanded="true" aria-controls="cookie-settings-modal">Fechar</button>
                <button id="cookie-save-settings" class="bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded text-white text-sm transition-colors duration-200 ease-in-out">Salvar Preferências</button>
            </div>
        </div>
    </div>

    <!-- Ícone Flutuante para Reabrir Consentimento -->
    <button id="floating-cookie-btn" class="fixed bottom-4 right-4 bg-[#1A3E74] text-white p-3 rounded-full shadow-lg hover:bg-blue-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-yellow-400" title="Configurações de Cookies" aria-label="Abrir configurações de cookies" aria-expanded="false" aria-controls="cookie-settings-modal">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
            <path fill-rule="evenodd" d="M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z" clip-rule="evenodd" />
        </svg>
        <span class="sr-only">Configurações de Cookies</span>
    </button>

    <!-- HTML do Rodapé -->
    <footer class="bg-[#1A3E74] text-white py-8 dark:bg-gray-900 dark:text-gray-200" role="contentinfo">
        <div class="max-w-7xl mx-auto px-4">
            <section class="border-b border-white pb-4 mb-4 dark:border-gray-700" aria-labelledby="footer-logo-heading">
                <h2 id="footer-logo-heading" class="sr-only">Logo do Rodapé</h2>
                <div class="flex justify-start items-center">
                    <!-- Aumentado o tamanho da imagem do rodapé e adicionado classes responsivas -->
                    <img src="https://www.calculadorasdeenfermagem.com.br/iconrodape1.webp" alt="Logo Calculadoras de Enfermagem Rodapé" width="120" height="84" class="h-auto w-auto max-w-[120px] max-h-[84px] object-contain" loading="lazy" decoding="async">
                </div>
            </section>

            <!-- Contêiner para o grid do rodapé -->
            <div class="footer-grid-container">
                <!-- Seção Institucional -->
                <section class="mb-6 md:mb-0 text-left collapsible-section" aria-labelledby="institutional-heading">
                    <div class="collapsible-header" role="button" tabindex="0" aria-expanded="false" aria-controls="institutional-content">
                        <h6 id="institutional-heading" class="font-bold mb-2">Institucional</h6>
                        <svg class="collapsible-icon w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <ul id="institutional-content" class="list-none space-y-1 collapsible-content">
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/missao.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">Sobre Nós</a></li>
                        <li><a href="mapa-do-site.html" class="text-white hover:underline dark:text-300 dark:hover:text-white">Mapa do Site</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">Políticas de Cookies</a></li>
                        <!-- Novos links para retenção de dados e LGPD -->
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/politica-retencao-dados.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">Política de Retenção de Dados</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/lgpd.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">LGPD</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/politica.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">Políticas de Privacidade</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/termos.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">Termos e Condições de Uso</a></li>
                    </ul>
                </section>

                <!-- Seção de Sustentabilidade Digital -->
                <section class="mb-6 md:mb-0 text-left collapsible-section" aria-labelledby="digital-sustainability-heading">
                    <div class="collapsible-header" role="button" tabindex="0" aria-expanded="false" aria-controls="digital-sustainability-content">
                        <h6 id="digital-sustainability-heading" class="font-bold mb-2">Sustentabilidade Digital</h6>
                        <svg class="collapsible-icon w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <ul id="digital-sustainability-content" class="list-none space-y-1 collapsible-content">
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/nosso-compromisso.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">Nosso Compromisso</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/relatorios-de-impacto.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">Relatório de Impacto</a></li>
                        <li><a href="https://www.calculadorasdeenfermagem.com.br/tecnologia-verde.html" class="text-white hover:underline dark:text-gray-300 dark:hover:text-white">Tecnologia Verde</a></li>
                    </ul>
                </section>

                <div class="flex flex-col justify-end items-start social-links-container">
                    <div class="vertical-divider-footer-stretched hidden md:block dark:bg-gray-700" aria-hidden="true"></div>
                    <!-- Seção Siga-nos - NÃO COLAPSÁVEL -->
                    <section class="text-left" aria-labelledby="social-media-heading">
                        <h6 id="social-media-heading" class="font-bold mb-2">Siga-nos</h6>
                        <nav class="flex space-x-4" aria-label="Links de Redes Sociais">
                            <a href="https://linkedin.com/company/calculadoras-de-enfermagem" target="_blank" class="footer-social-icon" title="LinkedIn" aria-label="LinkedIn (abre em nova aba)" rel="noopener noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20.447 20.452h-3.554v-5.569c0-1.325-.028-3.044-1.852-3.044-1.853 0-2.136 1.445-2.136 2.957v5.656H9.596V9.528h3.418v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.923-2.063-2.065 0-1.145.92-2.066 2.063-2.066 1.145 0 2.064.922 2.064 2.066 0 1.142-.92 2.065-2.064 2.065zm-.012 13.019H3.25V9.529h2.075v10.923z"/>
                                </svg>
                                <span class="sr-only">LinkedIn</span>
                            </a>
                            <a href="https://www.instagram.com/calculadorasdeenfermagem/" target="_blank" class="footer-social-icon" title="Instagram" aria-label="Instagram (abre em nova aba)" rel="noopener noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.07 1.645.07 4.85s-.012 3.584-.07 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.251-.148-4.77-1.691-4.919-4.919-.058-1.265-.07-1.644-.07-4.85s.012-3.584.07-4.85c.149-3.227 1.664-4.771 4.919-4.919 1.266-.058 1.644-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.073 4.948.073s3.668-.014 4.948-.072c4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                </svg>
                                <span class="sr-only">Instagram</span>
                            </a>
                            <a href="https://www.tiktok.com/@calculadorasdeenf?_t=ZM-8y94b3VAz2M&_r=1" target="_blank" class="footer-social-icon" title="TikTok" aria-label="TikTok (abre em nova aba)" rel="noopener noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor">
                                    <!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                                    <path d="M448 209.91a210.06 210.06 0 0 1 -122.77-39.25v178.36A144.44 144.44 0 0 1 178.92 460.3c-66.27 0-120-54.24-120-121s53.73-121 120-121a116.61 116.61 0 0 1 66.67 20.21V213.9a93.33 93.33 0 0 0-52.23-15.55c-37.74 0-68.23 31.66-68.23 70.73s30.49 70.73 68.23 70.73A60.67 60.67 0 0 0 236 345.18V3.66a210.32 210.32 0 0 1 212 206.25z"/>
                                </svg>
                                <span class="sr-only">TikTok</span>
                            </a>
                            <a href="https://www.youtube.com/channel/UC_6runTDHz8u5S1Yab842pg" target="_blank" class="footer-social-icon" title="YouTube" aria-label="YouTube (abre em nova aba)" rel="noopener noreferrer">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.25 16.891s-.625 1.209-1.5 1.5c-1.25.312-6.25.312-6.25.312s-5 .003-6.25-.312c-.875-.291-1.5-1.5-1.5-1.5s-.312-2.438-.312-4.891c0-2.453.312-4.891.312-4.891s.625-1.209 1.5-1.5c1.25-.312 6.25-.312 6.25-.312s5-.003 6.25.312c.875.291 1.5 1.5 1.5 1.5s.312 2.438.312 4.891c0 2.453-.312 4.891-.312 4.891zm-9.75-6.891l4.5 2.5-4.5 2.5v-5z"/>
                                </svg>
                                <span class="sr-only">YouTube</span>
                            </a>
                        </nav>
                    </section>
                </div>
            </div>

            <section class="mt-8 text-center" aria-labelledby="copyright-heading">
                <h2 id="copyright-heading" class="sr-only">Informações de Direitos Autorais</h2>
                <p>© 2025 Calculadoras de Enfermagem. Todos os direitos reservados.</p>
            </section>
        </div>
    </footer>
</body>
</html>
