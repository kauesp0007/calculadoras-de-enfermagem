<!DOCTYPE html><html lang="pt-BR"><head>
  <link rel="dns-prefetch" href="//googleads.g.doubleclick.net">
  <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">



  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link rel="preconnect" href="https://fonts.googleapis.com?display=optional">
  <link rel="preload" href="/menu-global.html" as="fetch" crossorigin="">
  <link rel="preload" href="/global-body-elements.html" as="fetch" crossorigin="">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calendario de vacina automatizado</title>
  <meta name="robots" content="index, follow, max-snippet:320, max-image-preview:large">
  <meta name="keywords" content="calculadoras de enfermagem, vacinas, verificar a vacina, tabela de vacina">
  <meta name="theme-color" content="#1A3E74">
  <meta property="og:locale" content="pt_BR">
  <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html">

  <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html">
  <link rel="alternate" hreflang="nl" href="https://www.calculadorasdeenfermagem.com.br/nl/calculadoravacina.html">
  <link rel="alternate" hreflang="pl" href="https://www.calculadorasdeenfermagem.com.br/pl/calculadoravacina.html">
  <link rel="alternate" hreflang="sv" href="https://www.calculadorasdeenfermagem.com.br/sv/calculadoravacina.html">
  <link rel="alternate" hreflang="vi" href="https://www.calculadorasdeenfermagem.com.br/vi/calculadoravacina.html">
  <link rel="alternate" hreflang="uk" href="https://www.calculadorasdeenfermagem.com.br/uk/calculadoravacina.html">
  <link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html">
  <meta name="description" content="Calcule a vacina a ser administrada na crian√ßa com esta tabela interativa e f√°cil de memorizar.">
  <link rel="manifest" href="manifest.json">
  <meta property="og:title" content="Calculadoras de Enfermagem ‚Äî Tabela de vacinas">
  <meta property="og:description" content="Ferramentas pr√°ticas para profissionais e estudantes de enfermagem: calculadoras de escalas cl√≠nicas, dosagens e vacinas para agilizar decis√µes e aumentar seguran√ßa do paciente.">
  <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html">
  <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Calculadoras de Enfermagem">
  <meta name="twitter:description" content="Acesse ferramentas pr√°ticas e confi√°veis para c√°lculos cl√≠nicos em enfermagem.">
  <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp">
  <meta name="twitter:site" content="@calculadorasdeenf">
  <link rel="preload" as="image" href="https://www.calculadorasdeenfermagem.com.br/iconpages.webp">
  <link href="/public/output.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer">
  <link rel="stylesheet" href="global-styles.css">
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css">
  </noscript>
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&amp;family=Inter:wght@400;700&amp;display=optional" rel="stylesheet">
  <script>
  /* =========================================================
     MODO ADMIN + GOOGLE TAG + CONSENT + ADSENSE (LAZY LOAD)
     (VERS√ÉO ATUALIZADA: G-MJDKPDPJ26 + ADS + ADSENSE)
     ========================================================= */

  if (
    localStorage.getItem('admin_mode') === 'true' ||
    new URLSearchParams(window.location.search).get('admin') === '1'
  ) {
    console.log('üöß Modo Admin: Bloqueado.');
    if (new URLSearchParams(window.location.search).get('admin') === '1') {
      localStorage.setItem('admin_mode','true');
    }
  } else {
    var savedConsent = localStorage.getItem("cookieConsent");
    var isRefused = (savedConsent === "refused");
    var isManaged = (savedConsent === "managed");
    var adsBlocked = isRefused || (isManaged && localStorage.getItem("ad_storage") === "denied");

    window.__metricsLoaded = false;
    window.__adsenseLoaded = false;
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    window.gtag = gtag;

    function loadAnalytics() {
      if (window.__metricsLoaded) return;
      window.__metricsLoaded = true;

      var aState = isRefused ? "denied" : (localStorage.getItem("analytics_storage") || "granted");
      var adState = adsBlocked ? "denied" : "granted";

      gtag("consent","default",{
        analytics_storage: aState,
        ad_storage: adState,
        ad_user_data: adState,
        ad_personalization: adState,
        wait_for_update: 500
      });

      var s = document.createElement("script");
      s.async = true;
      s.src = "https://www.googletagmanager.com/gtag/js?id=G-MJDKPDPJ26";
      document.head.appendChild(s);

      gtag("js", new Date());

      gtag("config","G-MJDKPDPJ26");
      gtag("config","AW-9277197961");
    }

    function loadAdSenseOnce() {
      if (window.__adsenseLoaded || adsBlocked) return;
      window.__adsenseLoaded = true;
      var ad = document.createElement("script");
      ad.async = true;
      ad.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6472730056006847";
      ad.crossOrigin = "anonymous";
      document.head.appendChild(ad);
    }

    loadAnalytics();

    function onUserInteraction(){
      loadAdSenseOnce();
      window.removeEventListener("scroll", onUserInteraction);
      window.removeEventListener("mousemove", onUserInteraction);
      window.removeEventListener("touchstart", onUserInteraction);
    }

    if (!adsBlocked){
      window.addEventListener("scroll", onUserInteraction, {passive:true});
      window.addEventListener("mousemove", onUserInteraction, {passive:true});
      window.addEventListener("touchstart", onUserInteraction, {passive:true});
      setTimeout(loadAdSenseOnce, 3500);
    }

    function applyConsent(consent){
      gtag("consent","update", consent);
      if (consent.ad_storage === "granted"){
        adsBlocked = false;
        loadAdSenseOnce();
      } else {
        adsBlocked = true;
        document.querySelectorAll("ins.adsbygoogle, .google-auto-placed")
          .forEach(ad => { ad.style.display="none"; ad.innerHTML=""; });
      }
      localStorage.setItem("analytics_storage", consent.analytics_storage);
      localStorage.setItem("ad_storage", consent.ad_storage);
    }

    window.acceptAllCookies = function(){
      localStorage.setItem("cookieConsent","accepted");
      applyConsent({
        analytics_storage:"granted",
        ad_storage:"granted",
        ad_user_data:"granted",
        ad_personalization:"granted"
      });
    };

    window.rejectAllCookies = function(){
      localStorage.setItem("cookieConsent","refused");
      applyConsent({
        analytics_storage:"denied",
        ad_storage:"denied",
        ad_user_data:"denied",
        ad_personalization:"denied"
      });
    };
  }





  <style>
    .resultado.text-red-600 {
      background-color: #fee2e2;
      color: #dc2626;
    }

    .resultado.bg-red-100 {
      background-color: #fee2e2;
      color: #dc2626;
    }

    .resultado.bg-blue-50 {
      background-color: #e0f2fe;
      color: #1A3E74;
    }

    .vaccine-age-section {
      background-color: #fff;
      border: 1px solid #d1d5db;
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: box-shadow 0.3s ease;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .vaccine-age-section:hover {
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
    }

    .vaccine-age-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: #1A3E74;
      margin-bottom: 0.75rem;
      text-align: left;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .vaccine-dropdown {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid #ccc;
      border-radius: 0.375rem;
      font-size: 1rem;
      color: #333;
      background-color: #fff;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 20 20\' fill=\'currentColor\'%3E%3Cpath fill-rule=\'evenodd\' d=\'M5.293_7.293a1_1_0_011.414_0L10_10.586l3.293-3.293a1_1_0_111.414_1.414l-4_4a1_1_0_01-1.414_0l-4-4a1_1_0_010-1.414z\' clip-rule=\'evenodd\'%3E%3C/path%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.75rem center;
      background-size: 1.5em 1.5em;
    }

    .vaccine-dropdown:focus {
      outline: none;
      border-color: #1FA4E5;
      box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
    }

    .vaccine-info-tooltip {
      position: relative;
      display: inline-block;
      cursor: pointer;
      color: #1FA4E5;
      font-size: 1rem;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background-color: #1FA4E5;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .vaccine-info-tooltip .tooltip-text {
      visibility: hidden;
      width: 350px;
      background-color: #333;
      color: #fff;
      text-align: left;
      border-radius: 6px;
      padding: 15px;
      position: absolute;
      z-index: 1000;
      bottom: 125%;
      left: 50%;
      margin-left: -175px;
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.875rem;
      line-height: 1.4;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .vaccine-info-tooltip .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #333 transparent transparent transparent;
    }

    .vaccine-info-tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }

    .vaccine-option-with-tooltip {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    @media (min-width: 640px) {
      .vaccine-age-section {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
      }

      .vaccine-age-title {
        flex-basis: 55%;
        margin-bottom: 0;
      }

      .vaccine-dropdown {
        /* flex-basis removido */
      }

      .vaccine-option-with-tooltip {
        flex-basis: 40%;
        /* flex-basis movido para o container */
      }
    }

    @media (max-width: 768px) {
      .vaccine-info-tooltip .tooltip-text {
        width: 280px;
        margin-left: -140px;
      }
    }

    .result-tooltip {
      position: relative;
      display: inline-block;
      cursor: pointer;
      color: #1A3E74;
      font-size: 0.8rem;
      font-weight: bold;
      margin-left: 5px;
    }

    .result-tooltip .tooltip-text {
      visibility: hidden;
      width: 200px;
      background-color: #555;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px 0;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .result-tooltip .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: #555 transparent transparent transparent;
    }

    .result-tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }

    /* Regra espec√≠fica para anular o estilo global do container #resultado */
    #resultado {
      padding: 0 !important;
      border: none !important;
      background: none !important;
      margin-top: 1.5rem !important;
      /* Restaura o espa√ßamento que o estilo global poderia ter removido */
      display: block !important;
      /* Garante que n√£o seja flex */
    }
  </style>
  <meta name="author" content="Calculadoras de Enfermagem">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="Calculadoras de Enfermagem">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://www.calculadorasdeenfermagem.com.br/#organization",
          "name": "Calculadoras de Enfermagem",
          "url": "https://www.calculadorasdeenfermagem.com.br",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.calculadorasdeenfermagem.com.br/assets/logo.png"
          }
        },
        {
          "@type": "WebSite",
          "@id": "https://www.calculadorasdeenfermagem.com.br/#website",
          "url": "https://www.calculadorasdeenfermagem.com.br",
          "name": "Calculadoras de Enfermagem",
          "inLanguage": "pt-BR"
        },
        {
          "@type": "SoftwareApplication",
          "@id": "https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html/#app",
          "name": "Calendario de vacina automatizado",
          "operatingSystem": "Web",
          "applicationCategory": "HealthApplication",
          "isAccessibleForFree": true,
          "inLanguage": "pt-BR",
          "offers": {
            "@type": "Offer",
            "price": 0,
            "priceCurrency": "BRL",
            "url": "https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html"
          },
          "publisher": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/#organization"
          }
        },
        {
          "@type": "MedicalWebPage",
          "@id": "https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html/#webpage",
          "url": "https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html",
          "name": "Calendario de vacina automatizado",
          "description": "Calcule a vacina a ser administrada na crian√ßa com esta tabela interativa e f√°cil de memorizar.",
          "inLanguage": "pt-BR",
          "isPartOf": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/#website"
          },
          "primaryImageOfPage": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/calculadoravacina.html/#primaryimage"
          },
          "datePublished": "2025-12-19T07:59:47.342Z",
          "dateModified": "2025-12-19T10:29:04.819Z",
          "author": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/#organization"
          },
          "audience": {
            "@type": "MedicalAudience",
            "audienceType": "Clinician"
          },
          "specialty": {
            "@type": "MedicalSpecialty",
            "name": "Nursing"
          }
        },
        {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "In√≠cio",
              "item": "https://www.calculadorasdeenfermagem.com.br/"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "Calculadoras"
            },
            {
              "@type": "ListItem",
              "position": 3,
              "name": "Calend√°rio de Vacina√ß√£o Infantil"
            }
          ]
        }
      ]
    }
  </script>
  <!-- OTIMIZADOR_MASTER_V2 -->

  <style id="otimizador-master-responsive">
    /* OTIMIZADOR_MASTER_V3 - RESPONSIVE SAFE */
    img,
    video {
      max-width: 100%;
      height: auto;
    }

    iframe {
      max-width: 100%;
    }

    body {
      overflow-x: hidden;
    }

    .table-responsive {
      width: 100%;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
  </style>
</head>

<body class="bg-gray-50 text-gray-800 font-inter pagina-vacinas">

  <nav aria-label="Atalhos de Acessibilidade" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
    <a href="/" accesskey="I" class="block mb-2">Ir para o In√≠cio [Alt + Shift + I]</a>
    <a href="#main-content" accesskey="C" class="block mb-2">Pular para o conte√∫do principal [Alt + Shift + C]</a>
    <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Ativar barra de acessibilidade [Alt + Shift + A]</a>
    <a href="#backToTopBtn" accesskey="T" class="block">Voltar ao Topo da P√°gina [Alt + Shift + T]</a>
  </nav>

  <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

  <div id="global-header-container" style="min-height: 70px;"></div>

  <main id="main-content" class="flex-grow p-4 sm:p-8">
    <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
      <nav class="breadcrumb" aria-label="breadcrumb">
        <ol>
          <li><a href="index.html">In√≠cio</a></li>
          <li><a href="#">Calculadoras</a></li>
          <li>Calend√°rio de Vacina√ß√£o Infantil</li>
        </ol>
      </nav>

      <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
        <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
          Calend√°rio de Vacina√ß√£o Infantil
        </h1>
      </div>
      <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

      <div class="flex justify-center mb-6">
        <button id="btnVisualizarCalendario" class="btn-primary" aria-label="Visualizar calend√°rio de vacina da crian√ßa">
          Visualizar calend√°rio de vacina da crian√ßa
        </button>
      </div>

      <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
        Calculadora de Vacinas por Idade (0 a 9 anos)
      </h2>

      <p id="intro-paragraph" class="font-inter font-normal text-black-custom text-base lg:text-lg mb-6 text-left">
        Selecione a idade da crian√ßa para cada faixa et√°ria e calcule o calend√°rio de vacina√ß√£o personalizado conforme
        as recomenda√ß√µes da Sociedade Brasileira de Imuniza√ß√µes (SBIm). Clique no √≠cone "i" ao lado de cada vacina para
        obter informa√ß√µes detalhadas.
      </p>

      <div id="conteudo">
        <!-- As se√ß√µes de idade ser√£o geradas dinamicamente pelo JavaScript -->
      </div>

      <!-- Bot√µes e Resultado movidos para c√° -->
      <div class="flex flex-wrap justify-start gap-4 mt-6">
        <button id="btnCalcular" class="btn-primary" aria-label="Calcular calend√°rio de vacina√ß√£o">
          Calcular Calend√°rio
        </button>
        <button id="btnLimpar" class="btn-primary" aria-label="Limpar campos">
          Limpar
        </button>
        <button id="btnGerarPDF" class="btn-secondary" aria-label="Gerar PDF">
          Gerar PDF
        </button>
        <button id="btnNandaNicNoc" class="btn-primary" aria-label="Pesquisar NANDA, NIC, NOC">
          NANDA, NIC, NOC
        </button>
      </div>

      <div id="resultado" class="resultado" aria-live="polite" style="display: none;"></div>

      <p id="description-vaccines" class="font-inter font-normal text-black-custom text-base lg:text-lg mt-6 mb-6 text-left">
        O calend√°rio de vacina√ß√£o infantil √© fundamental para proteger as crian√ßas contra doen√ßas preven√≠veis. Este
        calculador utiliza as diretrizes mais atuais da SBIm para fornecer um cronograma personalizado de imuniza√ß√£o.
      </p>

      <div id="reference-section" class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
        <strong>Refer√™ncias:</strong><br>
        <p class="mt-2">
          SOCIEDADE BRASILEIRA DE IMUNIZA√á√ïES. Calend√°rio de Vacina√ß√£o SBIm Crian√ßa 2024/2025.
          Dispon√≠vel em: <a href="https://sbim.org.br/images/crianca-Calend-SBIm-2024-2025-250225-web.pdf_2025-03-06.pdf" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">https://sbim.org.br/images/crianca-Calend-SBIm-2024-2025-250225-web.pdf_2025-03-06.pdf</a>.
          Acesso em: 6 ago. 2025.
        </p>
        <p class="mt-2">
          BRASIL. Minist√©rio da Sa√∫de. Calend√°rio Nacional de Vacina√ß√£o - Vacinas para crian√ßa.
          Dispon√≠vel em: <a href="https://www.gov.br/saude/pt-br/campanhas-da-saude/2022/multivacinacao/acesse-as-pecas/ms_influenza_cartaz_pni_64x46cm_21set_eleitoral-3.pdf" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">https://www.gov.br/saude/pt-br/campanhas-da-saude/2022/multivacinacao/acesse-as-pecas/ms_influenza_cartaz_pni_64x46cm_21set_eleitoral-3.pdf</a>.
          Acesso em: 6 ago. 2025.
        </p>
      </div>
    </div>

  </main>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" defer="defer"></script>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js" defer="defer"></script>
  <script src="global-scripts.js" defer="defer"></script>
<!-- Supabase (cliente) -->


<!-- Coment√°rios da P√°gina (Supabase) - SEM MODERA√á√ÉO -->

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const commentsSection = document.getElementById("page-comments");

    // Configura√ß√£o
    const SUPABASE_URL = "https://asjkftjfbkuuhilnqonx.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFzamtmdGpmYmt1dWhpbG5xb254Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwODMxNjQsImV4cCI6MjA4MjY1OTE2NH0.mly76L5r2zoasonwta8aNND2mWWrkAoXirAAs99mDYo";
    const CDN_URL = "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2";

    let supabaseLoaded = false;

    // Fun√ß√£o principal que inicia tudo
    async function initComments() {
      if (supabaseLoaded) return;
      supabaseLoaded = true;

      // 1. Carrega a biblioteca Supabase dinamicamente
      if (!window.supabase) {
        const script = document.createElement("script");
        script.src = CDN_URL;
        script.onload = startLogic;
        document.body.appendChild(script);
      } else {
        startLogic();
      }
    }

    // L√≥gica original dos coment√°rios (encapsulada)
    function startLogic() {
      if (!window.supabase || !window.supabase.createClient) return;

      const sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
      const page_path = window.location.pathname || "/";
      const lang = (document.documentElement.getAttribute("lang") || "pt-BR").toLowerCase();

      const statusEl = document.getElementById("comments-status");
      const listEl = document.getElementById("comments-list");
      const formEl = document.getElementById("comments-form");
      const textEl = document.getElementById("comment-text");
      const refreshBtn = document.getElementById("comment-refresh");
      const linesEl = document.getElementById("comment-lines");
      const charsEl = document.getElementById("comment-chars");
      const nameEl = document.getElementById("comment-name");
      const honeypotEl = document.getElementById("company");

      function setStatus(msg) { if(statusEl) statusEl.textContent = msg || ""; }
      function escapeHtml(s) { return String(s).replaceAll("&", "&amp;").replaceAll("<", "&lt;").replaceAll(">", "&gt;").replaceAll('"', "&quot;").replaceAll("'", "&#039;"); }

      function countLines(value) {
        if (!value) return 0;
        return value.split("\n").length;
      }

      function updateCounters() {
        const text = textEl?.value || "";
        const lines = countLines(text);
        const chars = text.length;

        if (linesEl) linesEl.textContent = "Linhas: " + lines + "/500";
        if (charsEl) charsEl.textContent = "Caracteres: " + chars + "/20000";

        if (lines > 500) {
          setStatus("Limite de 500 linhas atingido.");
          const limited = text.split("\n").slice(0, 500).join("\n");
          textEl.value = limited;
        } else {
          setStatus("");
        }
      }

      if (textEl) textEl.addEventListener("input", updateCounters);

      async function loadComments() {
        setStatus("Carregando coment√°rios...");
        if (listEl) listEl.innerHTML = '<div style="opacity:0.6; font-size:0.9rem">Buscando dados...</div>';

        const { data, error } = await sb
          .from("page_comments")
          .select("name, comment, created_at")
          .eq("page_path", page_path)
          .eq("lang", lang)
          .eq("is_approved", true)
          .order("created_at", { ascending: false })
          .limit(50);

        if (error) { setStatus("Erro ao carregar."); return; }
        if (!data || data.length === 0) {
            setStatus("");
            if(listEl) listEl.innerHTML = '<div style="opacity:0.8; font-style:italic">Seja o primeiro a comentar!</div>';
            return;
        }

        setStatus("");
        const html = data.map(c => {
          const nm = c.name ? escapeHtml(c.name) : "An√¥nimo";
          const dt = c.created_at ? new Date(c.created_at).toLocaleString("pt-BR") : "";
          const tx = escapeHtml(c.comment).replaceAll("\n", "<br>");
          return `
            <div class="comment-item">
              <div class="comment-head">
                <span class="comment-name">${nm}</span>
                <span class="comment-date">${dt}</span>
              </div>
              <div class="comment-text">${tx}</div>
            </div>`;
        }).join("");
        if (listEl) listEl.innerHTML = html;
      }

      if (formEl) {
          formEl.addEventListener("submit", async (e) => {
              e.preventDefault();
              if (honeypotEl && honeypotEl.value) return;

              const name = (nameEl?.value || "").trim().slice(0, 80);
              const comment = (textEl?.value || "").trim();

              if (!comment) return setStatus("Escreva um coment√°rio.");

              const last = Number(localStorage.getItem("last_comment_ts") || "0");
              const now = Date.now();
              if (now - last < 15000) return setStatus("Aguarde alguns segundos.");

              if (countLines(comment) > 500) return setStatus("Limite de linhas excedido.");

              setStatus("Enviando...");

              const { error } = await sb.from("page_comments").insert([{
                  page_path: page_path,
                  lang: lang,
                  name: name || null,
                  comment: comment,
                  is_approved: true
              }]);

              if (error) { setStatus("Erro ao enviar."); }
              else {
                  localStorage.setItem("last_comment_ts", String(now));
                  setStatus("Coment√°rio enviado!");
                  textEl.value = "";
                  updateCounters();
                  loadComments();
              }
          });
      }

      if (refreshBtn) refreshBtn.addEventListener("click", loadComments);

      updateCounters();
      loadComments();
    }

    // 2. Intersection Observer: S√≥ inicia quando o usu√°rio rolar at√© perto dos coment√°rios
    if (commentsSection) {
      const observer = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) {
          initComments();
          observer.disconnect();
        }
      }, { rootMargin: "200px" });

      observer.observe(commentsSection);
    } else {
      setTimeout(initComments, 4000);
    }
  });
</script>



  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const resultadoDiv = document.getElementById("resultado");
      const btnCalcular = document.getElementById("btnCalcular");
      const btnLimpar = document.getElementById("btnLimpar");
      const btnGerarPDF = document.getElementById("btnGerarPDF");
      const btnNandaNicNoc = document.getElementById("btnNandaNicNoc");
      const btnVisualizarCalendario = document.getElementById("btnVisualizarCalendario");
      const conteudoDiv = document.getElementById("conteudo");

      // Fun√ß√£o para determinar local de aplica√ß√£o por idade
      function getApplicationSite(age) {
        const ageInMonths = parseAge(age);
        if (ageInMonths < 24) { // Menor que 2 anos
          return "Vasto lateral da coxa";
        } else { // 2 anos ou mais
          return "M√∫sculo deltoide";
        }
      }

      // Fun√ß√£o para determinar tipo de agulha por idade e via
      function getNeedleType(age, route) {
        const ageInMonths = parseAge(age);

        if (route === "Intrad√©rmica (ID)") {
          return "13x3,8";
        } else if (route === "Subcut√¢nea (SC)") {
          return "13x4,5";
        } else if (route === "Intramuscular (IM)") {
          if (ageInMonths < 24) { // Menor que 2 anos
            return "20x5,5 ou 25x6 ou 25x7";
          } else { // 2 anos ou mais
            return "20x5,5 ou 25x6 ou 25x7";
          }
        } else if (route === "Oral") {
          return "N√£o se aplica";
        }
        return "Consultar protocolo espec√≠fico";
      }

      // Fun√ß√£o para converter idade em meses
      function parseAge(age) {
        if (age === "Ao nascer") return 0;
        if (age.includes("m√™s")) {
          return parseInt(age.split(" ")[0]);
        }
        if (age.includes("ano")) {
          return parseInt(age.split(" ")[0]) * 12;
        }
        return 0;
      }

      // Dados das vacinas com informa√ß√µes detalhadas
      const vaccineData = {
        "ages": [
          "Ao nascer", "1 m√™s", "2 meses", "3 meses", "4 meses", "5 meses",
          "6 meses", "7 meses", "8 meses", "9 meses", "12 meses", "15 meses",
          "18 meses", "24 meses", "4 anos", "5 anos", "6 anos", "9 anos"
        ],
        "vaccines": [
          {
            "name": "BCG ID",
            "shortName": "BCG",
            "info": "BCG ID: Bacilo Calmette-Gu√©rin Intrad√©rmico. Vacina contra tuberculose. Dever√° ser aplicada o mais precocemente poss√≠vel, em rec√©m-nascidos com peso maior ou igual a 2.000 g. Em casos de hist√≥rico familiar, suspeita de imunodefici√™ncia ou RNs cujas m√£es fizeram uso de biol√≥gicos durante a gesta√ß√£o, a vacina√ß√£o poder√° ser postergada ou contraindicada.",
            "administrationRoute": "Intrad√©rmica (ID)",
            "applicationScheme": "Dose √∫nica ao nascer.",
            "sideEffects": "Rea√ß√µes locais comuns: vermelhid√£o, incha√ßo, √∫lcera no local da aplica√ß√£o que evolui para cicatriz. Rea√ß√µes sist√™micas raras: febre baixa, linfadenite regional.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS.",
            "schedule": { "Ao nascer": "Dose √∫nica" }
          },
          {
            "name": "Hepatite B",
            "shortName": "HepB",
            "info": "Hepatite B: Vacina contra o v√≠rus da hepatite B. Aplicar a primeira dose nas primeiras 12 horas de vida. O esquema de quatro doses pode ser adotado quando √© utilizada uma vacina combinada que inclua a vacina hepatite B. Se m√£e HBsAg+, administrar tamb√©m HBIG o mais precocemente poss√≠vel.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 3 ou 4 doses: 1¬™ dose ao nascer (nas primeiras 12h), 2¬™ dose com 1 m√™s, 3¬™ dose com 6 meses. Em caso de esquema de 4 doses, a 4¬™ dose √© dada com 12 meses.",
            "sideEffects": "Rea√ß√µes locais comuns: dor, vermelhid√£o e incha√ßo no local da aplica√ß√£o. Rea√ß√µes sist√™micas raras: febre, mal-estar, dor de cabe√ßa.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS.",
            "schedule": { "Ao nascer": "1¬™ dose", "1 m√™s": "2¬™ dose", "6 meses": "3¬™ dose" }
          },
          {
            "name": "Rotav√≠rus",
            "shortName": "ROTA",
            "info": "Rotav√≠rus: Vacina contra rotav√≠rus, principal causa de diarreia grave em crian√ßas. Vacina rotav√≠rus monovalente: duas doses aos 2 e 4 meses. Vacina rotav√≠rus pentavalente: tr√™s doses aos 2, 4 e 6 meses. A primeira dose pode ser feita a partir de 6 semanas de vida.",
            "administrationRoute": "Oral",
            "applicationScheme": "Vacina monovalente: 2 doses (2 e 4 meses). Vacina pentavalente: 3 doses (2, 4 e 6 meses).",
            "sideEffects": "Rea√ß√µes comuns: irritabilidade, diarreia, v√¥mito, febre. Rea√ß√µes raras: invagina√ß√£o intestinal (muito rara).",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS (vacina monovalente).",
            "schedule": { "2 meses": "1¬™ dose", "4 meses": "2¬™ dose", "6 meses": "3¬™ dose" }
          },
          {
            "name": "Tr√≠plice bacteriana (DTPw ou DTPa)",
            "shortName": "DTP",
            "info": "Tr√≠plice bacteriana: Vacina contra difteria, t√©tano e coqueluche. O uso da vacina acelular (DTPa) √© prefer√≠vel ao de c√©lulas inteiras (DTPw) pois os eventos adversos associados com a sua administra√ß√£o s√£o menos frequentes e intensos.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 3 doses (2, 4 e 6 meses) e 2 refor√ßos (15 meses e 4 anos).",
            "sideEffects": "DTPw: dor, incha√ßo, vermelhid√£o no local, febre, irritabilidade. DTPa: menos rea√ß√µes locais e sist√™micas, mas ainda pode causar dor e incha√ßo.",
            "susAvailability": "Sim (DTPw)",
            "susExplanation": "A DTPw (c√©lulas inteiras) √© disponibilizada pelo SUS. A DTPa (acelular) √© dispon√≠vel em cl√≠nicas particulares e centros de vacina√ß√£o.",
            "schedule": { "2 meses": "1¬™ dose", "4 meses": "2¬™ dose", "6 meses": "3¬™ dose", "15 meses": "REFOR√áO", "4 anos": "REFOR√áO" }
          },
          {
            "name": "Haemophilus influenzae b",
            "shortName": "Hib",
            "info": "Haemophilus influenzae b: Vacina contra a bact√©ria Haemophilus influenzae tipo b, que pode causar meningite e outras infec√ß√µes graves. Recomenda-se o refor√ßo aos 15-18 meses, principalmente quando for utilizada vacina Hib nas formula√ß√µes combinadas com tr√≠plice bacteriana acelular (DTPa) na s√©rie prim√°ria.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 3 doses (2, 4 e 6 meses) e 1 refor√ßo (15-18 meses).",
            "sideEffects": "Rea√ß√µes locais comuns: dor, incha√ßo, vermelhid√£o. Rea√ß√µes sist√™micas raras: febre baixa, irritabilidade.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS (geralmente em vacinas combinadas como a Pentavalente).",
            "schedule": { "2 meses": "1¬™ dose", "4 meses": "2¬™ dose", "6 meses": "3¬™ dose", "15 meses": "REFOR√áO" }
          },
          {
            "name": "Poliomielite (v√≠rus inativados)",
            "shortName": "VIP",
            "info": "Poliomielite: Vacina Inativada Poliomielite (VIP) contra o v√≠rus da poliomielite. O PNI alterou o esquema da vacina p√≥lio para quatro doses exclusivamente com a vacina inativada (VIP): aos 2, 4, 6 meses e 1 √∫nico refor√ßo aos 15 meses de idade.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 3 doses (2, 4 e 6 meses) e 1 refor√ßo (15 meses).",
            "sideEffects": "Rea√ß√µes locais comuns: dor, vermelhid√£o, incha√ßo. Rea√ß√µes sist√™micas raras: febre baixa, irritabilidade.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS.",
            "schedule": { "2 meses": "1¬™ dose", "4 meses": "2¬™ dose", "6 meses": "3¬™ dose", "15 meses": "REFOR√áO", "4 anos": "REFOR√áO" }
          },
          {
            "name": "Pneumoc√≥cicas conjugadas",
            "shortName": "VPC",
            "info": "Pneumoc√≥cicas conjugadas: Vacina Pneumoc√≥cica Conjugada contra pneumococo. A SBIm recomenda no esquema b√°sico e no refor√ßo, preferencialmente, as vacinas VPC20 ou VPC15. Na impossibilidade, utilizar a VPC13.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 2 doses (2 e 4 meses) e 1 refor√ßo (12 meses).",
            "sideEffects": "Rea√ß√µes locais comuns: dor, incha√ßo, vermelhid√£o. Rea√ß√µes sist√™micas: febre, irritabilidade, sonol√™ncia.",
            "susAvailability": "Sim (VPC10)",
            "susExplanation": "A VPC10 √© disponibilizada pelo SUS. As vacinas VPC13, VPC15 e VPC20 s√£o dispon√≠veis em cl√≠nicas particulares e centros de vacina√ß√£o.",
            "schedule": { "2 meses": "1¬™ dose", "4 meses": "2¬™ dose", "6 meses": "3¬™ dose", "12 meses": "REFOR√áO" }
          },
          {
            "name": "Meningoc√≥cicas conjugadas ACWY ou C",
            "shortName": "MenACWY",
            "info": "Meningoc√≥cicas conjugadas ACWY/C: Vacina contra meningococo dos sorogrupos A, C, W e Y. A SBIm recomenda preferencialmente a vacina MenACWY pela maior abrang√™ncia de sorogrupos. O PNI oferece a Vacina MenC para crian√ßas.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 2 doses (3 e 5 meses) e 2 refor√ßos (12 meses e 5 anos).",
            "sideEffects": "Rea√ß√µes locais comuns: dor, incha√ßo, vermelhid√£o. Rea√ß√µes sist√™micas: febre, irritabilidade.",
            "susAvailability": "Sim (MenC)",
            "susExplanation": "A vacina MenC √© disponibilizada pelo SUS. A vacina MenACWY √© dispon√≠vel em cl√≠nicas particulares e centros de vacina√ß√£o.",
            "schedule": { "3 meses": "1¬™ dose", "5 meses": "2¬™ dose", "12 meses": "REFOR√áO", "5 anos": "REFOR√áO" }
          },
          {
            "name": "Meningoc√≥cica B",
            "shortName": "MenB",
            "info": "Meningoc√≥cica B: Vacina contra meningococo do sorogrupo B. Pode ser usada a partir de 2 meses de idade, idealmente iniciando com uma dose aos 3 meses, outra aos 5 meses e uma dose de refor√ßo entre 12 e 15 meses (esquema 2+1).",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 2 doses (3 e 5 meses) e 1 refor√ßo (12-15 meses).",
            "sideEffects": "Rea√ß√µes locais comuns: dor, incha√ßo, vermelhid√£o. Rea√ß√µes sist√™micas: febre (mais comum), irritabilidade, perda de apetite.",
            "susAvailability": "N√£o",
            "susExplanation": "N√£o dispon√≠vel no SUS. Dispon√≠vel em cl√≠nicas particulares e centros de vacina√ß√£o.",
            "schedule": { "3 meses": "1¬™ dose", "5 meses": "2¬™ dose", "12 meses": "REFOR√áO" }
          },
          {
            "name": "Influenza (gripe)",
            "shortName": "FLU",
            "info": "Influenza: Vacina contra gripe. √â recomendada para todas as crian√ßas a partir dos 6 meses de idade. Quando administrada pela primeira vez em crian√ßas menores de 9 anos, aplicar duas doses com intervalo de 30 dias.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Anual. Para crian√ßas de 6 meses a 8 anos que nunca foram vacinadas: 2 doses com intervalo de 30 dias. A partir de 9 anos: dose √∫nica anual.",
            "sideEffects": "Rea√ß√µes locais comuns: dor, vermelhid√£o, incha√ßo. Rea√ß√µes sist√™micas: febre baixa, mal-estar, dor muscular.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em campanhas anuais de vacina√ß√£o do SUS.",
            "schedule": { "6 meses": "1¬™ dose", "7 meses": "2¬™ dose", "Anual": "Dose √∫nica anual" }
          },
          {
            "name": "Febre amarela",
            "shortName": "FA",
            "info": "Febre amarela: Vacina contra o v√≠rus da febre amarela. Duas doses: aos 9 meses e aos 4 anos de idade. Contraindicada para imunodeprimidos, mas se o risco de adquirir a doen√ßa superar os riscos potenciais da vacina√ß√£o, o m√©dico deve avaliar seu uso.",
            "administrationRoute": "Subcut√¢nea (SC)",
            "applicationScheme": "Esquema de 2 doses: 1¬™ dose aos 9 meses, 2¬™ dose aos 4 anos.",
            "sideEffects": "Rea√ß√µes locais comuns: dor, vermelhid√£o. Rea√ß√µes sist√™micas: febre, dor de cabe√ßa, dor muscular, mal-estar. Rea√ß√µes graves s√£o raras.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS.",
            "schedule": { "9 meses": "1¬™ dose", "4 anos": "2¬™ dose" }
          },
          {
            "name": "Hepatite A",
            "shortName": "HepA",
            "info": "Hepatite A: Vacina contra o v√≠rus da hepatite A. Para crian√ßas a partir de 12 meses de idade n√£o vacinadas para hepatite B no primeiro ano de vida, a vacina combinada hepatites A e B na formula√ß√£o adulto pode ser considerada para substituir a vacina√ß√£o isolada.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 2 doses: 1¬™ dose aos 12 meses, 2¬™ dose aos 18 meses.",
            "sideEffects": "Rea√ß√µes locais comuns: dor, vermelhid√£o, incha√ßo. Rea√ß√µes sist√™micas raras: febre baixa, irritabilidade.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS.",
            "schedule": { "12 meses": "1¬™ dose", "18 meses": "2¬™ dose" }
          },
          {
            "name": "Tr√≠plice viral (sarampo, caxumba e rub√©ola)",
            "shortName": "SCR",
            "info": "Tr√≠plice viral: Vacina contra sarampo, caxumba e rub√©ola. Para crian√ßas com esquema completo, n√£o h√° evid√™ncias que justifiquem uma terceira dose como rotina, podendo ser considerada em situa√ß√µes de risco epidemiol√≥gico, como surtos de caxumba e/ou sarampo.",
            "administrationRoute": "Subcut√¢nea (SC)",
            "applicationScheme": "Esquema de 2 doses: 1¬™ dose aos 12 meses, 2¬™ dose aos 4 anos.",
            "sideEffects": "Rea√ß√µes comuns: febre, vermelhid√£o na pele, incha√ßo nas gl√¢ndulas. Rea√ß√µes raras: convuls√µes febris.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS.",
            "schedule": { "12 meses": "1¬™ dose", "4 anos": "2¬™ dose" }
          },
          {
            "name": "Varicela (catapora)",
            "shortName": "VZ",
            "info": "Varicela: Vacina contra varicela (catapora). √â considerada adequadamente vacinada a crian√ßa que tenha recebido duas doses da vacina ap√≥s 1 ano de idade. Em situa√ß√£o de risco, a primeira dose pode ser aplicada a partir de 9 meses de idade.",
            "administrationRoute": "Subcut√¢nea (SC)",
            "applicationScheme": "Esquema de 2 doses: 1¬™ dose aos 12 meses, 2¬™ dose aos 4 anos. Em situa√ß√µes de risco, a primeira dose pode ser aplicada a partir de 9 meses.",
            "sideEffects": "Rea√ß√µes locais comuns: dor, vermelhid√£o, incha√ßo. Rea√ß√µes sist√™micas: febre, erup√ß√£o cut√¢nea leve (similar √† catapora).",
            "susAvailability": "Sim (parte da tetra viral)",
            "susExplanation": "Dispon√≠vel no SUS como parte da vacina tetra viral (sarampo, caxumba, rub√©ola e varicela). A vacina isolada para varicela √© dispon√≠vel em cl√≠nicas particulares.",
            "schedule": { "12 meses": "1¬™ dose", "4 anos": "2¬™ dose" }
          },
          {
            "name": "HPV",
            "shortName": "HPV",
            "info": "HPV: Vacina contra Papilomav√≠rus Humano. Duas vacinas est√£o dispon√≠veis no Brasil, HPV4 e HPV9. A SBIm recomenda, sempre que poss√≠vel, o uso preferencial da vacina HPV9 em duas doses, assim como a revacina√ß√£o daqueles anteriormente vacinados com HPV2 ou HPV4.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de 2 doses: 1¬™ dose aos 9 anos, 2¬™ dose 6 meses ap√≥s a primeira.",
            "sideEffects": "Rea√ß√µes locais comuns: dor, incha√ßo, vermelhid√£o. Rea√ß√µes sist√™micas: febre, dor de cabe√ßa, fadiga.",
            "susAvailability": "Sim (HPV4)",
            "susExplanation": "A vacina HPV4 √© disponibilizada pelo SUS para meninas de 9 a 14 anos e meninos de 11 a 14 anos. A vacina HPV9 √© dispon√≠vel em cl√≠nicas particulares.",
            "schedule": { "9 anos": "Duas doses" }
          },
          {
            "name": "Dengue",
            "shortName": "DENG",
            "info": "Dengue: Vacina contra dengue. Qdenga¬Æ √© preferencial independente de contato pr√©vio com o v√≠rus da dengue em crian√ßas a partir de 4 anos de idade, no esquema de duas doses com intervalo de tr√™s meses entre elas. Dengvaxia¬Æ √© recomendada a partir de 6 anos de idade, soropositivas para dengue.",
            "administrationRoute": "Subcut√¢nea (SC)",
            "applicationScheme": "Qdenga¬Æ: 2 doses com intervalo de 3 meses (a partir de 4 anos). Dengvaxia¬Æ: 3 doses com intervalo de 6 meses (a partir de 6 anos, para soropositivos).",
            "sideEffects": "Rea√ß√µes comuns: dor de cabe√ßa, dor muscular, febre, mal-estar. Rea√ß√µes graves s√£o raras.",
            "susAvailability": "Sim (Qdenga¬Æ em √°reas selecionadas)",
            "susExplanation": "A vacina Qdenga¬Æ est√° sendo gradualmente incorporada ao SUS em munic√≠pios selecionados. A Dengvaxia¬Æ n√£o est√° dispon√≠vel no SUS e √© encontrada em cl√≠nicas particulares.",
            "schedule": { "4 anos": "Qdenga¬Æ (2 doses)", "6 anos": "Dengvaxia¬Æ (3 doses)" }
          },
          {
            "name": "Covid-19",
            "shortName": "COVID",
            "info": "Covid-19: Vacina contra SARS-CoV-2. Recomendada pelo PNI para crian√ßas de 6 meses at√© menores de 5 anos de idade. Esquema de doses dependendo da vacina utilizada.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Esquema de doses varia conforme a vacina e a idade. Consultar calend√°rio oficial do SUS.",
            "sideEffects": "Rea√ß√µes comuns: dor, vermelhid√£o, incha√ßo no local da aplica√ß√£o, febre, dor de cabe√ßa, fadiga, dor muscular. Rea√ß√µes graves s√£o raras.",
            "susAvailability": "Sim",
            "susExplanation": "Dispon√≠vel em todas as unidades b√°sicas de sa√∫de (UBS) do SUS.",
            "schedule": { "6 meses": "Esquema de doses" }
          },
          {
            "name": "Anticorpo monoclonal espec√≠fico contra o VSR (Nirsevimabe)",
            "shortName": "VSR",
            "info": "Nirsevimabe: Anticorpo monoclonal contra o V√≠rus Sincicial Respirat√≥rio. Existem duas estrat√©gias eficazes para prote√ß√£o da crian√ßa contra infec√ß√£o pelo VSR: a vacina√ß√£o da gestante ou a administra√ß√£o do anticorpo monoclonal ‚Äì Nirsevimabe ‚Äì na crian√ßa.",
            "administrationRoute": "Intramuscular (IM)",
            "applicationScheme": "Dose √∫nica antes ou durante a esta√ß√£o de circula√ß√£o do VSR.",
            "sideEffects": "Rea√ß√µes comuns: dor, vermelhid√£o, incha√ßo no local da aplica√ß√£o. Rea√ß√µes raras: febre, erup√ß√µes cut√¢neas.",
            "susAvailability": "N√£o",
            "susExplanation": "N√£o dispon√≠vel no SUS. Dispon√≠vel em cl√≠nicas particulares e hospitais privados.",
            "schedule": { "Ao nascer": "Dose √∫nica" }
          }
        ]
      };

      // Fun√ß√£o para criar tooltip para as siglas no resultado
      function createResultTooltip(shortName, fullName) {
        return `
                <span class="result-tooltip">
                    ${shortName}
                    <span class="tooltip-text">${fullName}</span>
                </span>
            `;
      }

      // Fun√ß√£o para criar tooltip para as vacinas na sele√ß√£o
      function createSelectionTooltip(vaccine) {
        return `
                <div class="vaccine-info-tooltip">
                    i
                    <span class="tooltip-text">${vaccine.info}</span>
                </div>
            `;
      }

      // Fun√ß√£o para criar as se√ß√µes de idade
      function createAgeSections() {
        conteudoDiv.innerHTML = "";

        vaccineData.ages.forEach(age => {
          const section = document.createElement("div");
          section.className = "vaccine-age-section";

          const title = document.createElement("h3");
          title.className = "vaccine-age-title";
          title.textContent = age;

          const select = document.createElement("select");
          select.className = "vaccine-dropdown";
          select.name = `age_${age.replace(/\s+/g, "_")}`;
          select.id = `age_${age.replace(/\s+/g, "_")}`;

          // Op√ß√£o padr√£o
          const defaultOption = document.createElement("option");
          defaultOption.value = "";
          defaultOption.textContent = "Selecione uma vacina";
          select.appendChild(defaultOption);

          // Adicionar vacinas dispon√≠veis para esta idade
          vaccineData.vaccines.forEach(vaccine => {
            if (vaccine.schedule[age]) {
              const option = document.createElement("option");
              option.value = vaccine.name;
              option.textContent = `${vaccine.name} (${vaccine.schedule[age]})`; // Nome completo da vacina
              option.setAttribute("data-info", vaccine.info);
              select.appendChild(option);
            }
          });

          // Criar container para select e tooltip
          const selectContainer = document.createElement("div");
          selectContainer.className = "vaccine-option-with-tooltip";
          selectContainer.appendChild(select);

          // Adicionar tooltip se houver vacina selecionada
          const tooltipContainer = document.createElement("div");
          tooltipContainer.id = `tooltip_${age.replace(/\s+/g, "_")}`;
          selectContainer.appendChild(tooltipContainer);

          // Event listener para mostrar tooltip quando uma vacina for selecionada
          select.addEventListener("change", function () {
            const selectedVaccine = vaccineData.vaccines.find(v => v.name === this.value);
            if (selectedVaccine) {
              tooltipContainer.innerHTML = createSelectionTooltip(selectedVaccine);
            } else {
              tooltipContainer.innerHTML = "";
            }
          });

          section.appendChild(title);
          section.appendChild(selectContainer);
          conteudoDiv.appendChild(section);
        });
      }

      // Fun√ß√£o para calcular o calend√°rio de vacina√ß√£o
      function calculateVaccineSchedule() {
        const selectedVaccines = [];
        const selects = conteudoDiv.querySelectorAll("select");

        selects.forEach(select => {
          if (select.value) {
            const age = select.name.replace("age_", "").replace(/_/g, " ");
            const vaccineName = select.value;
            const vaccine = vaccineData.vaccines.find(v => v.name === vaccineName);

            if (vaccine) {
              selectedVaccines.push({
                age: age,
                vaccine: vaccine,
                dose: vaccine.schedule[age]
              });
            }
          }
        });

        if (selectedVaccines.length === 0) {
          resultadoDiv.innerHTML = "<p class=\"text-red-600\">Por favor, selecione pelo menos uma vacina para calcular o calend√°rio.</p>";
          resultadoDiv.style.display = "block";
          return;
        }

        // Gerar resultado
        let resultHTML = "<div class=\"bg-blue-50 p-6 rounded-lg border border-blue-200\">\n";
        resultHTML += "<h3 class=\"text-xl font-bold text-blue-800 mb-4\">Calend√°rio de Vacina√ß√£o Personalizado</h3>\n";

        selectedVaccines.forEach(item => {
          const applicationSite = getApplicationSite(item.age);
          const needleType = getNeedleType(item.age, item.vaccine.administrationRoute);

          resultHTML += `<div class=\"mb-4 p-4 bg-white rounded-lg border border-blue-100\">\n`;
          resultHTML += `<h4 class=\"font-bold text-blue-700 mb-2\">${item.vaccine.name} <span class=\"result-tooltip\">i<span class=\"tooltip-text\">${item.vaccine.shortName}</span></span></h4>\n`;
          resultHTML += `<p><strong>Idade:</strong> ${item.age}</p>\n`;
          resultHTML += `<p><strong>Dose:</strong> ${item.dose}</p>\n`;
          resultHTML += `<p><strong>Via de Administra√ß√£o:</strong> ${item.vaccine.administrationRoute}</p>\n`;
          resultHTML += `<p><strong>Local da via de administra√ß√£o por idade:</strong> ${applicationSite}</p>\n`;
          resultHTML += `<p><strong>Tipo de agulha a ser usada:</strong> ${needleType}</p>\n`;
          resultHTML += `<p><strong>Esquema de Aplica√ß√£o:</strong> ${item.vaccine.applicationScheme}</p>\n`;
          resultHTML += `<p><strong>Efeitos Colaterais:</strong> ${item.vaccine.sideEffects}</p>\n`;
          resultHTML += `<p><strong>Disponibilizada pelo SUS:</strong> ${item.vaccine.susAvailability}</p>\n`;
          if (item.vaccine.susAvailability === "N√£o") {
            resultHTML += `<p class=\"text-sm text-gray-600 ml-4\">${item.vaccine.susExplanation}</p>\n`;
          }
          resultHTML += `</div>\n`;
        });

        resultHTML += "<div class=\"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\">\n";
        resultHTML += "<p class=\"text-sm text-yellow-800\"><strong>Importante:</strong> Este calend√°rio √© baseado nas recomenda√ß√µes da SBIm e deve ser sempre discutido com o pediatra ou profissional de sa√∫de respons√°vel.</p>\n";
        resultHTML += "</div>\n";
        resultHTML += "</div>\n";

        resultadoDiv.innerHTML = resultHTML;
        resultadoDiv.style.display = "block";

        // Scroll para o resultado
        resultadoDiv.scrollIntoView({ behavior: "smooth" });
      }

      // Fun√ß√£o para limpar os campos
      function clearFields() {
        const selects = conteudoDiv.querySelectorAll("select");
        selects.forEach(select => {
          select.value = "";
        });

        // Limpar tooltips
        const tooltipContainers = conteudoDiv.querySelectorAll("[id^=\"tooltip_\"]");
        tooltipContainers.forEach(container => {
          container.innerHTML = "";
        });

        resultadoDiv.style.display = "none";
      }

      // Fun√ß√£o para gerar PDF
      function generatePDF() {
        if (resultadoDiv.style.display === "none") {
          alert("Por favor, calcule o calend√°rio de vacina√ß√£o antes de gerar o PDF.");
          return;
        }

        const element = resultadoDiv;
        const opt = {
          margin: 1,
          filename: "calendario-vacinacao-infantil.pdf",
          image: { type: "jpeg", quality: 0.98 },
          html2canvas: { scale: 2 },
          jsPDF: { unit: "in", format: "letter", orientation: "portrait" }
        };

        html2pdf().set(opt).from(element).save();
      }

      // Fun√ß√£o para abrir NANDA, NIC, NOC
      function openNandaNicNoc() {
        window.open("https://www.calculadorasdeenfermagem.com.br/nanda-nic-noc.html", "_blank");
      }

      // Fun√ß√£o para visualizar calend√°rio da crian√ßa
      function visualizarCalendario() {
        window.location.href = "calendario-crian√ßa.html";
      }

      // Event listeners
      btnCalcular.addEventListener("click", calculateVaccineSchedule);
      btnLimpar.addEventListener("click", clearFields);
      btnGerarPDF.addEventListener("click", generatePDF);
      btnNandaNicNoc.addEventListener("click", openNandaNicNoc);
      btnVisualizarCalendario.addEventListener("click", visualizarCalendario);

      // Inicializar a p√°gina
      createAgeSections();
    });
  </script>




<!-- =========================
     COMENT√ÅRIOS DA P√ÅGINA
     (SUPABASE) - SEM MODERA√á√ÉO
     ========================= -->
<section id="page-comments" class="mt-10 mb-6">
  <!-- Estilo local do card (profissional, compacto, azul escuro) -->
  <style>
    #page-comments .comments-card {
      width: 100%;
      border: 1px solid rgba(15, 23, 42, 0.20);
      border-radius: 14px;
      background: #ffffff;
      box-shadow: 0 10px 28px rgba(2, 6, 23, 0.28);
      color: #0b2a4a;
      padding: 14px 16px;
    }
    #page-comments .comments-card * {
      color: #0b2a4a !important;
    }
    #page-comments .comments-title {
      font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 800;
      font-size: 1.35rem;
      line-height: 1.15;
      margin: 0;
    }
    #page-comments .comments-subtitle {
      font-size: 0.92rem;
      margin-top: 6px;
      opacity: 0.95;
    }
    #page-comments label {
      font-size: 0.88rem;
      font-weight: 700;
      margin-bottom: 4px;
      display: block;
    }
    #page-comments input,
    #page-comments textarea {
      width: 100%;
      border: 1px solid rgba(15, 23, 42, 0.22);
      border-radius: 10px;
      padding: 9px 10px;
      font-size: 0.92rem;
      outline: none;
      background: #fff;
    }
    #page-comments textarea {
      resize: vertical;
      min-height: 130px;
    }
    #page-comments .comments-meta {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 6px;
      font-size: 0.78rem;
      opacity: 0.9;
    }
    #page-comments .comments-actions {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    /* =========================
       BOT√ïES ‚Äì SEMI TRANSPARENTES
       TEXTO BRANCO
       ========================= */
    #page-comments .comments-actions .btn-primary,
    #page-comments .comments-actions .btn-secondary {
      font-size: 0.88rem;
      padding: 8px 12px;
      min-height: 38px;
      border-radius: 10px;

      background: rgba(11, 42, 74, 0.65);
      color: #ffffff !important;
      border: 1px solid rgba(11, 42, 74, 0.45);
      box-shadow: 0 6px 16px rgba(2, 6, 23, 0.25);
      backdrop-filter: blur(2px);
    }
    #page-comments .comments-actions .btn-primary:hover,
    #page-comments .comments-actions .btn-secondary:hover {
      background: rgba(11, 42, 74, 0.85);
    }
    #page-comments .comments-actions .btn-primary:active,
    #page-comments .comments-actions .btn-secondary:active {
      background: rgba(11, 42, 74, 0.95);
    }

    #page-comments .comments-divider {
      border-top: 1px solid rgba(15, 23, 42, 0.12);
      margin-top: 12px;
      padding-top: 10px;
    }
    #page-comments .comments-list-title {
      font-size: 0.95rem;
      font-weight: 800;
      margin: 0;
    }
    #page-comments .comment-item {
      border: 1px solid rgba(15, 23, 42, 0.14);
      border-radius: 12px;
      background: #f8fafc;
      padding: 10px 12px;
      box-shadow: 0 6px 18px rgba(2, 6, 23, 0.14);
    }
    #page-comments .comment-head {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      font-size: 0.82rem;
      opacity: 0.95;
    }
    #page-comments .comment-name {
      font-weight: 800;
      font-size: 0.92rem;
    }
    #page-comments .comment-date {
      font-size: 0.78rem;
      opacity: 0.85;
    }
    #page-comments .comment-text {
      margin-top: 6px;
      font-size: 0.92rem;
      line-height: 1.45;
    }
    #page-comments #comments-status {
      margin-top: 10px;
      font-size: 0.85rem;
      font-weight: 600;
    }
  </style>

  <div class="main-content-wrapper">
    <div class="comments-card">
      <h2 class="comments-title">Deixe seus coment√°rios</h2>
      <p class="comments-subtitle">
        Compartilhe d√∫vidas, sugest√µes ou experi√™ncias relacionadas a esta p√°gina.
      </p>

      <div id="comments-status" aria-live="polite"></div>

      <form id="comments-form" class="mt-2">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div>
            <label for="comment-name">Nome (opcional)</label>
            <input id="comment-name" type="text" maxlength="80" placeholder="Ex.: Maria" autocomplete="name">
          </div>

          <!-- Honeypot anti-spam (n√£o mexa) -->
          <div style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;" aria-hidden="true">
            <label for="company">Company</label>
            <input id="company" type="text" tabindex="-1" autocomplete="off">
          </div>
        </div>

        <div class="mt-3">
          <label for="comment-text">Coment√°rio (at√© 500 linhas)</label>
          <textarea id="comment-text" rows="7" maxlength="20000" placeholder="Escreva seu coment√°rio..." required=""></textarea>

          <div class="comments-meta">
            <span id="comment-lines">Linhas: 0/500</span>
            <span id="comment-chars">Caracteres: 0/20000</span>
          </div>
        </div>

        <div class="comments-actions">
          <button id="comment-submit" type="submit" class="btn-primary">
            Publicar coment√°rio
          </button>
          <button id="comment-refresh" type="button" class="btn-secondary">
            Atualizar
          </button>
        </div>
      </form>

      <div class="comments-divider">
        <h3 class="comments-list-title">Coment√°rios</h3>
        <div id="comments-list" class="mt-3 space-y-3"></div>
      </div>
    </div>
  </div>
</section>
<div id="footer-placeholder" style="min-height: 500px;"></div>
<script>
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });
    </script>



</body></html>