<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Escala de Aldrete e Kroulik - Avaliação Pós-Anestésica</title>

    <meta name="description" content="Calcule o índice da Escala de Aldrete e Kroulik para avaliar a recuperação pós-anestésica de pacientes na SRPA de forma rápida e precisa." />
    <meta name="keywords" content="Escala de Aldrete, Escala de Kroulik, Recuperação pós-anestésica, SRPA, Avaliação de enfermagem, Alta hospitalar, Anestesia" />
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/aldrete.html" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />

    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'AW-952633102');
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalWebPage",
      "name": "Escala de Aldrete e Kroulik para Recuperação Pós-Anestésica",
      "description": "Ferramenta online para avaliação da recuperação pós-anestésica de pacientes em sala de SRPA, baseada na Escala de Aldrete e Kroulik.",
      "url": "https://www.calculadorasdeenfermagem.com.br/aldrete.html",
      "keywords": "Escala de Aldrete, SRPA, pós-anestésico, enfermagem, anestesia",
      "publisher": {
            "@type": "Organization",
            "name": "Calculadoras de Enfermagem",
            "url": "https://www.calculadorasdeenfermagem.com.br"
      }
    }
    </script>

    <link rel="stylesheet" href="global-styles.css" />

</head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <div id="accessibility-bar-container"></div>
    <div id="menu-global-container"></div>

    <main class="main-content-wrapper">
        <div class="max-w-4xl mx-auto px-4 py-8">
            <div class="text-center mb-8">
                <img src="iconpages.png" alt="Ícone da Escala de Aldrete e Kroulik" class="w-24 h-auto mx-auto mb-4" />
                <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    Avaliação em SRPA - Aldrete e Kroulik
                </h1>
                <p id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mt-2">
                    Avalia a recuperação pós-anestésica de pacientes em sala de SRPA.
                </p>
            </div>
            
            <div class="bg-white p-6 rounded-lg shadow-md">
                <p class="font-inter text-black-custom text-base lg:text-lg mb-6">
                    A escala é realizada pela equipe de enfermagem e a decisão final sobre a alta é avaliada pelo médico anestesista. Selecione a pontuação para cada critério abaixo:
                </p>

                <div id="conteudo" role="form" aria-labelledby="main-title">
                    <fieldset class="criterion-section">
                        <legend class="criterion-title">Atividade</legend>
                        <div class="options-group">
                            <label class="option-label"><input type="radio" name="atividade" value="2">Movimenta 4 membros (2)</label>
                            <label class="option-label"><input type="radio" name="atividade" value="1">Movimenta 2 membros (1)</label>
                            <label class="option-label"><input type="radio" name="atividade" value="0">Imóvel (0)</label>
                        </div>
                    </fieldset>

                    <fieldset class="criterion-section">
                        <legend class="criterion-title">Respiração</legend>
                        <div class="options-group">
                            <label class="option-label"><input type="radio" name="respiracao" value="2">Respira profundamente e tosse (2)</label>
                            <label class="option-label"><input type="radio" name="respiracao" value="1">Dispneico, respira irregular (1)</label>
                            <label class="option-label"><input type="radio" name="respiracao" value="0">Apneia (0)</label>
                        </div>
                    </fieldset>

                    <fieldset class="criterion-section">
                        <legend class="criterion-title">Circulação</legend>
                        <div class="options-group">
                            <label class="option-label"><input type="radio" name="circulacao" value="2">Pressão normal (2)</label>
                            <label class="option-label"><input type="radio" name="circulacao" value="1">± 20% da PA basal (1)</label>
                            <label class="option-label"><input type="radio" name="circulacao" value="0">± 50% da PA basal (0)</label>
                        </div>
                    </fieldset>

                    <fieldset class="criterion-section">
                        <legend class="criterion-title">Consciência</legend>
                        <div class="options-group">
                            <label class="option-label"><input type="radio" name="consciencia" value="2">Acordado e alerta (2)</label>
                            <label class="option-label"><input type="radio" name="consciencia" value="1">Responsivo a estímulos (1)</label>
                            <label class="option-label"><input type="radio" name="consciencia" value="0">Não responde (0)</label>
                        </div>
                    </fieldset>

                    <fieldset class="criterion-section">
                        <legend class="criterion-title">Saturação de O<sub>2</sub></legend>
                        <div class="options-group">
                            <label class="option-label"><input type="radio" name="saturacao" value="2">&gt; 92% em ar ambiente (2)</label>
                            <label class="option-label"><input type="radio" name="saturacao" value="1">Precisa de O<sub>2</sub> para manter &gt; 90% (1)</label>
                            <label class="option-label"><input type="radio" name="saturacao" value="0">&lt; 90% com O<sub>2</sub> suplementar (0)</label>
                        </div>
                    </fieldset>
                </div>

                <div class="flex flex-wrap justify-start gap-4 mt-6">
                    <button id="btnCalcular" class="btn-primary" aria-label="Calcular pontuação">Calcular</button>
                    <button id="btnLimpar" class="btn-primary" aria-label="Limpar campos">Limpar</button>
                    <button id="btnGerarPDF" class="btn-secondary" aria-label="Gerar PDF">Gerar PDF</button>
                    <button id="btnNandaNicNoc" class="btn-primary" aria-label="Pesquisar NANDA, NIC, NOC">NANDA, NIC, NOC</button>
                </div>

                 <div id="resultado" class="resultado hidden mt-6" aria-live="polite"></div>

                <div class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
                    <strong>Referência:</strong> COREN-SP. Escala de Aldrete e Kroulik.
                    Disponível em:
                    <a href="https://ouvidoria.cofen.gov.br/coren-sp/transparencia/55381/download/PDF" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">
                        https://ouvidoria.cofen.gov.br/coren-sp/transparencia/55381/download/PDF
                    </a>
                </div>
            </div>
        </div>
    </main>
    
    <div id="libras-button"></div>
    <button id="backToTopBtn" aria-label="Voltar ao topo" style="display: none;">&#9650;</button>
    <div id="cookieConsentBanner" style="display: none;"></div>
    <footer id="footer-container"></footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script> new window.VLibras.Widget('https://vlibras.gov.br/app'); </script>
    
    <script src="global-scripts.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // Função para carregar componentes HTML externos
            const loadComponent = (url, containerId) => {
                return fetch(url)
                    .then(response => {
                        if (!response.ok) throw new Error(`Erro ao carregar ${url}: ${response.statusText}`);
                        return response.text();
                    })
                    .then(data => {
                        const container = document.getElementById(containerId);
                        if (container) container.innerHTML = data;
                    })
                    .catch(error => console.error(error));
            };

            // Carrega menu e rodapé
            Promise.all([
                loadComponent('menu-global.html', 'menu-global-container'),
                loadComponent('rodape.html', 'footer-container') // Assumindo que o arquivo do rodapé seja 'rodape.html'
            ]).then(() => {
                // Após carregar os componentes, inicializa os scripts globais que dependem deles
                if (typeof window.initGlobalScripts === 'function') {
                    window.initGlobalScripts();
                }
            });

            // Lógica Específica da Página Aldrete
            const btnCalcular = document.getElementById('btnCalcular');
            const btnLimpar = document.getElementById('btnLimpar');
            const btnGerarPDF = document.getElementById('btnGerarPDF');
            const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
            const resultadoDiv = document.getElementById('resultado');
            const formContent = document.getElementById('conteudo');

            function calcularAldrete() {
                const campos = ['atividade', 'respiracao', 'circulacao', 'consciencia', 'saturacao'];
                let total = 0;
                let allSelected = true;

                for (const campo of campos) {
                    const selecionado = document.querySelector(`input[name="${campo}"]:checked`);
                    if (!selecionado) {
                        allSelected = false;
                        break;
                    }
                    total += parseInt(selecionado.value, 10);
                }

                resultadoDiv.classList.remove('hidden', 'text-red-600', 'text-dark-blue');

                if (!allSelected) {
                    resultadoDiv.innerHTML = '<strong>Atenção:</strong> Por favor, selecione todas as opções para calcular.';
                    resultadoDiv.classList.add('text-red-600');
                    return;
                }

                let conduta = '';
                if (total >= 9) {
                    conduta = 'Paciente apto para alta da recuperação anestésica, comunique o enfermeiro e o anestesista.';
                } else if (total >= 7) {
                    conduta = 'Manter em observação e reavaliar periodicamente.';
                } else {
                    conduta = 'Paciente instável. Comunicar o enfermeiro e o anestesista, manter cuidados intensivos.';
                }

                resultadoDiv.innerHTML = `<strong>Pontuação total: ${total}/10</strong><p>${conduta}</p>`;
                resultadoDiv.classList.add('text-dark-blue');
            }

            function limparCampos() {
                const radios = formContent.querySelectorAll('input[type="radio"]');
                radios.forEach(radio => radio.checked = false);
                
                resultadoDiv.innerHTML = '';
                resultadoDiv.classList.add('hidden');
                resultadoDiv.classList.remove('text-red-600', 'text-dark-blue');
            }

            function gerarPDF() {
                if (resultadoDiv.classList.contains('hidden') || resultadoDiv.innerText.includes('Atenção:')) {
                     alert('Por favor, calcule o resultado primeiro antes de gerar o PDF.');
                     return;
                }

                // Clona apenas a parte relevante para o PDF
                const contentToPrint = document.querySelector('.bg-white.p-6').cloneNode(true);
                // Remove os botões da cópia
                contentToPrint.querySelector('.flex.flex-wrap.justify-start').remove();
                
                const opt = {
                    margin:       [0.5, 0.5, 0.5, 0.5],
                    filename:     'escala-aldrete.pdf',
                    image:        { type: 'jpeg', quality: 0.98 },
                    html2canvas:  { scale: 2, useCORS: true },
                    jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' },
                    pagebreak:    { mode: ['avoid-all', 'css', 'legacy'] }
                };

                html2pdf().from(contentToPrint).set(opt).save();
            }
            
            function pesquisarNanda() {
                 if (resultadoDiv.classList.contains('hidden') || resultadoDiv.innerText.includes('Atenção:')) {
                    resultadoDiv.innerHTML = '<strong>Atenção:</strong> Por favor, clique em "Calcular" primeiro para obter a conduta e habilitar a pesquisa.';
                    resultadoDiv.classList.add('text-red-600');
                    resultadoDiv.classList.remove('text-dark-blue', 'hidden');
                    return;
                 }

                const condutaText = resultadoDiv.querySelector('p')?.innerText || '';
                
                if (condutaText) {
                    const searchQuery = encodeURIComponent(`${condutaText} taxonomia NANDA, NIC e NOC`);
                    window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
                } else {
                    alert('Não foi possível extrair a conduta para pesquisa.');
                }
            }

            // --- Event Listeners dos Botões ---
            if(btnCalcular) btnCalcular.addEventListener('click', calcularAldrete);
            if(btnLimpar) btnLimpar.addEventListener('click', limparCampos);
            if(btnGerarPDF) btnGerarPDF.addEventListener('click', gerarPDF);
            if(btnNandaNicNoc) btnNandaNicNoc.addEventListener('click', pesquisarNanda);
        });
    </script>

</body>
</html>
