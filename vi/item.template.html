<!DOCTYPE html><html lang="vi"><head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link rel="dns-prefetch" href="//googleads.g.doubleclick.net">
  <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
  <link rel="preconnect" href="https://www.googletagmanager.com">
  <link rel="dns-prefetch" href="//googleads.g.doubleclick.net">
  <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">


  <!-- SEO -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>{{TITLE}} – Thư viện Điều dưỡng</title>
  <meta name="description" content="{{SỰ MIÊU TẢ}}">
  <meta name="keywords" content="{{TAGS}}">

  <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/vi/item.template.html">

  <!-- Open Graph -->
  <meta property="og:title" content="{{TITLE}} – Thư viện Điều dưỡng">
  <meta property="og:description" content="{{SỰ MIÊU TẢ}}">
  <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/{{CAPA}}">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/biblioteca/{{SLUG}}.html">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{TITULO}}">
  <meta name="twitter:description" content="{{DESCRICAO}}">
  <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/{{CAPA}}">

  <!-- Preconnects -->
  <link rel="preconnect" href="https://fonts.googleapis.com?display=swap">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700;900&amp;family=Inter:wght@400;700&amp;display=swap" rel="stylesheet">

  <!-- CSS GLOBAL -->
  <link href="/public/output.css" rel="stylesheet">
  <link rel="stylesheet" href="/global-styles.css" media="print" onload="this.media='all'">

  <!-- Favicon -->
  <link rel="icon" href="/favicon.ico">

  <!-- Schema.org (MANTIDO) -->
  <!-- (todo o schema que você já tinha permanece igual) -->

  <meta name="author" content="Calculadoras de Enfermagem">
  <meta property="og:locale" content="pt_BR">
  <meta property="og:site_name" content="Calculadoras de Enfermagem">
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://www.calculadorasdeenfermagem.com.br/#organization",
          "name": "Calculadoras de Enfermagem",
          "url": "https://www.calculadorasdeenfermagem.com.br",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.calculadorasdeenfermagem.com.br/assets/logo.png"
          }
        },
        {
          "@type": "WebSite",
          "@id": "https://www.calculadorasdeenfermagem.com.br/#website",
          "url": "https://www.calculadorasdeenfermagem.com.br",
          "name": "Calculadoras de Enfermagem",
          "inLanguage": "pt-BR"
        },
        {
          "@type": "SoftwareApplication",
          "@id": "https://www.calculadorasdeenfermagem.com.br/vi/item.template.html/#app",
          "name": "{{TITLE}} – Thư viện Điều dưỡng",
          "operatingSystem": "Web",
          "applicationCategory": "HealthApplication",
          "isAccessibleForFree": true,
          "inLanguage": "vi",
          "offers": {
            "@type": "Offer",
            "price": 0,
            "priceCurrency": "BRL",
            "url": "https://www.calculadorasdeenfermagem.com.br/vi/item.template.html"
          },
          "publisher": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/#organization"
          }
        },
        {
          "@type": "MedicalWebPage",
          "@id": "https://www.calculadorasdeenfermagem.com.br/vi/item.template.html/#webpage",
          "url": "https://www.calculadorasdeenfermagem.com.br/vi/item.template.html",
          "name": "{{TITLE}} – Thư viện Điều dưỡng",
          "description": "{{SỰ MIÊU TẢ}}",
          "inLanguage": "vi",
          "isPartOf": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/#website"
          },
          "primaryImageOfPage": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/vi/item.template.html/#primaryimage"
          },
          "datePublished": "2025-12-19T07:59:49.400Z",
          "dateModified": "2025-12-19T10:29:06.511Z",
          "author": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/#organization"
          },
          "audience": {
            "@type": "MedicalAudience",
            "audienceType": "Clinician"
          },
          "specialty": {
            "@type": "MedicalSpecialty",
            "name": "Nursing"
          }
        },
        {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Home",
              "item": "https://www.calculadorasdeenfermagem.com.br/vi/"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "{{TITLE}} – Thư viện Điều dưỡng",
              "item": "https://www.calculadorasdeenfermagem.com.br/vi/item.template.html"
            }
          ]
        }
      ]
    }
  </script>
  <!-- OTIMIZADOR_MASTER_V2 -->

  <style id="otimizador-master-responsive">
    /* OTIMIZADOR_MASTER_V3 - RESPONSIVE SAFE */
    img,
    video {
      max-width: 100%;
      height: auto;
    }

    iframe {
      max-width: 100%;
    }

    body {
      overflow-x: hidden;
    }

    .table-responsive {
      width: 100%;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
  </style>
</head>

<body class="bg-gray-50 font-inter">

  <!-- HEADER -->
  <div id="global-header-container" style="min-height: 70px;"></div>

  <!-- IDIOMAS -->
  <div id="language-dropdown-wrapper" class="flex justify-end w-full relative z-50 px-6 mt-6">
    <!-- (o mesmo bloco de idiomas do downloads.template.html pode ser reutilizado aqui, sem mudanças) -->
  </div>

  <!-- CONTEÚDO -->
  <main class="max-w-4xl mx-auto px-4 py-8">

    <!-- BOTÃO VOLTAR -->
    <button onclick="history.back()" class="mb-6 inline-flex items-center gap-2 text-blue-700 hover:text-blue-900 font-semibold">← Quay lại</button>

    <!-- BREADCRUMB -->
    <nav class="text-sm text-gray-500 mb-4">
      <a href="/" class="hover:underline">Bắt đầu</a> ›
      <a href="/downloads.html" class="hover:underline">Thư viện</a> ›
      <span class="text-gray-700 font-medium">{{TIÊU ĐỀ}}</span>
    </nav>

    <h1 class="text-3xl font-extrabold text-blue-900 mb-4">{{TIÊU ĐỀ}}</h1>

    <p class="text-sm text-gray-600 mb-4">Loại:<strong>{{LOẠI}}</strong>• Kiểu:<strong>{{KIỂU}}</strong>
    </p>

    <img src="..//{{CAPA}}" alt="Capa de {{TITULO}}" class="w-full rounded-xl shadow mb-6" loading="lazy">

    <p class="text-gray-700 leading-relaxed mb-8">{{SỰ MIÊU TẢ}}</p>

    <a href="/{{FICHEIRO}}" download="" class="inline-block bg-blue-700 hover:bg-blue-900 text-white px-6 py-3 rounded-lg font-semibold transition">Tải
      xuống tệp</a>

    <div class="mt-8 text-sm text-gray-500">
      <strong>Từ khóa:</strong>{{TAGS}}
    </div>

  </main>

  <!-- FOOTER -->
  <section id="page-comments" class="mt-10 mb-6">
    <!-- Estilo local do card (profissional, compacto, azul escuro) -->
    <style>
      #page-comments .comments-card {
        width: 100%;
        border: 1px solid rgba(15, 23, 42, 0.20);
        border-radius: 14px;
        background: #ffffff;
        box-shadow: 0 10px 28px rgba(2, 6, 23, 0.28);
        color: #0b2a4a;
        padding: 14px 16px;
      }

      #page-comments .comments-card * {
        color: #0b2a4a !important;
      }

      #page-comments .comments-title {
        font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        font-weight: 800;
        font-size: 1.35rem;
        line-height: 1.15;
        margin: 0;
      }

      #page-comments .comments-subtitle {
        font-size: 0.92rem;
        margin-top: 6px;
        opacity: 0.95;
      }

      #page-comments label {
        font-size: 0.88rem;
        font-weight: 700;
        margin-bottom: 4px;
        display: block;
      }

      #page-comments input,
      #page-comments textarea {
        width: 100%;
        border: 1px solid rgba(15, 23, 42, 0.22);
        border-radius: 10px;
        padding: 9px 10px;
        font-size: 0.92rem;
        outline: none;
        background: #fff;
      }

      #page-comments textarea {
        resize: vertical;
        min-height: 130px;
      }

      #page-comments .comments-meta {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        margin-top: 6px;
        font-size: 0.78rem;
        opacity: 0.9;
      }

      #page-comments .comments-actions {
        margin-top: 10px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      /* =========================
       BOTÕES – SEMI TRANSPARENTES
       TEXTO BRANCO
       ========================= */
      #page-comments .comments-actions .btn-primary,
      #page-comments .comments-actions .btn-secondary {
        font-size: 0.88rem;
        padding: 8px 12px;
        min-height: 38px;
        border-radius: 10px;

        background: rgba(11, 42, 74, 0.65);
        color: #ffffff !important;
        border: 1px solid rgba(11, 42, 74, 0.45);
        box-shadow: 0 6px 16px rgba(2, 6, 23, 0.25);
        backdrop-filter: blur(2px);
      }

      #page-comments .comments-actions .btn-primary:hover,
      #page-comments .comments-actions .btn-secondary:hover {
        background: rgba(11, 42, 74, 0.85);
      }

      #page-comments .comments-actions .btn-primary:active,
      #page-comments .comments-actions .btn-secondary:active {
        background: rgba(11, 42, 74, 0.95);
      }

      #page-comments .comments-divider {
        border-top: 1px solid rgba(15, 23, 42, 0.12);
        margin-top: 12px;
        padding-top: 10px;
      }

      #page-comments .comments-list-title {
        font-size: 0.95rem;
        font-weight: 800;
        margin: 0;
      }

      #page-comments .comment-item {
        border: 1px solid rgba(15, 23, 42, 0.14);
        border-radius: 12px;
        background: #f8fafc;
        padding: 10px 12px;
        box-shadow: 0 6px 18px rgba(2, 6, 23, 0.14);
      }

      #page-comments .comment-head {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        flex-wrap: wrap;
        font-size: 0.82rem;
        opacity: 0.95;
      }

      #page-comments .comment-name {
        font-weight: 800;
        font-size: 0.92rem;
      }

      #page-comments .comment-date {
        font-size: 0.78rem;
        opacity: 0.85;
      }

      #page-comments .comment-text {
        margin-top: 6px;
        font-size: 0.92rem;
        line-height: 1.45;
      }

      #page-comments #comments-status {
        margin-top: 10px;
        font-size: 0.85rem;
        font-weight: 600;
      }
    </style>

    <div class="main-content-wrapper">
      <div class="comments-card">
        <h2 class="comments-title">Deixe seus comentários</h2>
        <p class="comments-subtitle">
          Compartilhe dúvidas, sugestões ou experiências relacionadas a esta página.
        </p>

        <div id="comments-status" aria-live="polite"></div>

        <form id="comments-form" class="mt-2">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            <div>
              <label for="comment-name">Nome (opcional)</label>
              <input id="comment-name" type="text" maxlength="80" placeholder="Ex.: Maria" autocomplete="name">
            </div>

            <!-- Honeypot anti-spam (não mexa) -->
            <div style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;" aria-hidden="true">
              <label for="company">Company</label>
              <input id="company" type="text" tabindex="-1" autocomplete="off">
            </div>
          </div>

          <div class="mt-3">
            <label for="comment-text">Comentário (até 500 linhas)</label>
            <textarea id="comment-text" rows="7" maxlength="20000" placeholder="Escreva seu comentário..." required=""></textarea>

            <div class="comments-meta">
              <span id="comment-lines">Linhas: 0/500</span>
              <span id="comment-chars">Caracteres: 0/20000</span>
            </div>
          </div>

          <div class="comments-actions">
            <button id="comment-submit" type="submit" class="btn-primary">
              Publicar comentário
            </button>
            <button id="comment-refresh" type="button" class="btn-secondary">
              Atualizar
            </button>
          </div>
        </form>

        <div class="comments-divider">
          <h3 class="comments-list-title">Comentários</h3>
          <div id="comments-list" class="mt-3 space-y-3"></div>
        </div>
      </div>
    </div>
  </section><div id="footer-placeholder"></div>

  <!-- ACESSIBILIDADE -->
  <div id="global-body-elements-container"></div>

  <!-- SCRIPTS -->
  <script>
    function fetchHTML(url, id) {
      return fetch(url)
        .then(r => r.text())
        .then(html => {
          const el = document.getElementById(id);
          if (el) el.innerHTML = html;
        });
    }

    function loadScript(url) {
      return new Promise((resolve, reject) => {
        const s = document.createElement("script");
        s.src = url;
        s.defer = true;
        s.onload = resolve;
        s.onerror = reject;
        document.body.appendChild(s);
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      fetchHTML("/menu-global.html", "global-header-container");

      fetchHTML("/global-body-elements.html", "global-body-elements-container")
        .then(() => loadScript("/global-body-elements.js"));

      loadScript("/lang-selector.js");
    });
  </script>

  <script src="/global-scripts.js" defer=""></script>
  <!-- Supabase (cliente) -->
  

  <!-- Comentários da Página (Supabase) - SEM MODERAÇÃO -->
  
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const commentsSection = document.getElementById("page-comments");

    // Configuração
    const SUPABASE_URL = "https://asjkftjfbkuuhilnqonx.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFzamtmdGpmYmt1dWhpbG5xb254Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwODMxNjQsImV4cCI6MjA4MjY1OTE2NH0.mly76L5r2zoasonwta8aNND2mWWrkAoXirAAs99mDYo";
    const CDN_URL = "https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2";

    let supabaseLoaded = false;

    // Função principal que inicia tudo
    async function initComments() {
      if (supabaseLoaded) return;
      supabaseLoaded = true;

      // 1. Carrega a biblioteca Supabase dinamicamente
      if (!window.supabase) {
        const script = document.createElement("script");
        script.src = CDN_URL;
        script.onload = startLogic;
        document.body.appendChild(script);
      } else {
        startLogic();
      }
    }

    // Lógica original dos comentários (encapsulada)
    function startLogic() {
      if (!window.supabase || !window.supabase.createClient) return;

      const sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
      const page_path = window.location.pathname || "/";
      const lang = (document.documentElement.getAttribute("lang") || "pt-BR").toLowerCase();

      const statusEl = document.getElementById("comments-status");
      const listEl = document.getElementById("comments-list");
      const formEl = document.getElementById("comments-form");
      const textEl = document.getElementById("comment-text");
      const refreshBtn = document.getElementById("comment-refresh");
      const linesEl = document.getElementById("comment-lines");
      const charsEl = document.getElementById("comment-chars");
      const nameEl = document.getElementById("comment-name");
      const honeypotEl = document.getElementById("company");

      function setStatus(msg) { if(statusEl) statusEl.textContent = msg || ""; }
      function escapeHtml(s) { return String(s).replaceAll("&", "&amp;").replaceAll("<", "&lt;").replaceAll(">", "&gt;").replaceAll('"', "&quot;").replaceAll("'", "&#039;"); }

      function countLines(value) {
        if (!value) return 0;
        return value.split("\n").length;
      }

      function updateCounters() {
        const text = textEl?.value || "";
        const lines = countLines(text);
        const chars = text.length;

        if (linesEl) linesEl.textContent = "Linhas: " + lines + "/500";
        if (charsEl) charsEl.textContent = "Caracteres: " + chars + "/20000";

        if (lines > 500) {
          setStatus("Limite de 500 linhas atingido.");
          const limited = text.split("\n").slice(0, 500).join("\n");
          textEl.value = limited;
        } else {
          setStatus("");
        }
      }

      if (textEl) textEl.addEventListener("input", updateCounters);

      async function loadComments() {
        setStatus("Carregando comentários...");
        if (listEl) listEl.innerHTML = '<div style="opacity:0.6; font-size:0.9rem">Buscando dados...</div>';

        const { data, error } = await sb
          .from("page_comments")
          .select("name, comment, created_at")
          .eq("page_path", page_path)
          .eq("lang", lang)
          .eq("is_approved", true)
          .order("created_at", { ascending: false })
          .limit(50);

        if (error) { setStatus("Erro ao carregar."); return; }
        if (!data || data.length === 0) {
            setStatus("");
            if(listEl) listEl.innerHTML = '<div style="opacity:0.8; font-style:italic">Seja o primeiro a comentar!</div>';
            return;
        }

        setStatus("");
        const html = data.map(c => {
          const nm = c.name ? escapeHtml(c.name) : "Anônimo";
          const dt = c.created_at ? new Date(c.created_at).toLocaleString("pt-BR") : "";
          const tx = escapeHtml(c.comment).replaceAll("\n", "<br>");
          return `
            <div class="comment-item">
              <div class="comment-head">
                <span class="comment-name">${nm}</span>
                <span class="comment-date">${dt}</span>
              </div>
              <div class="comment-text">${tx}</div>
            </div>`;
        }).join("");
        if (listEl) listEl.innerHTML = html;
      }

      if (formEl) {
          formEl.addEventListener("submit", async (e) => {
              e.preventDefault();
              if (honeypotEl && honeypotEl.value) return;

              const name = (nameEl?.value || "").trim().slice(0, 80);
              const comment = (textEl?.value || "").trim();

              if (!comment) return setStatus("Escreva um comentário.");

              const last = Number(localStorage.getItem("last_comment_ts") || "0");
              const now = Date.now();
              if (now - last < 15000) return setStatus("Aguarde alguns segundos.");

              if (countLines(comment) > 500) return setStatus("Limite de linhas excedido.");

              setStatus("Enviando...");

              const { error } = await sb.from("page_comments").insert([{
                  page_path: page_path,
                  lang: lang,
                  name: name || null,
                  comment: comment,
                  is_approved: true
              }]);

              if (error) { setStatus("Erro ao enviar."); }
              else {
                  localStorage.setItem("last_comment_ts", String(now));
                  setStatus("Comentário enviado!");
                  textEl.value = "";
                  updateCounters();
                  loadComments();
              }
          });
      }

      if (refreshBtn) refreshBtn.addEventListener("click", loadComments);

      updateCounters();
      loadComments();
    }

    // 2. Intersection Observer: Só inicia quando o usuário rolar até perto dos comentários
    if (commentsSection) {
      const observer = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) {
          initComments();
          observer.disconnect();
        }
      }, { rootMargin: "200px" });

      observer.observe(commentsSection);
    } else {
      setTimeout(initComments, 4000);
    }
  });
</script>






  <!-- =========================
     COMENTÁRIOS DA PÁGINA
     (SUPABASE) - SEM MODERAÇÃO
     ========================= -->
  



</body></html>