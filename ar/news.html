<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- تم تغيير المسارات للملفات المعيارية إلى مجلد /ar/ -->
    <link rel="preload" href="/ar/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/ar/global-body-elements.html" as="fetch" crossorigin>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>حاسبة بروتوكول NEWS - مقياس الإنذار المبكر الوطني</title>

  <!-- تم تحديث الرابط الأساسي (canonical) وعلامات hreflang لنسخة اللغة العربية -->
  <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/ar/news.html" />
<link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/ar/news.html" />
<link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/ar/news.html" />
<link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/ar/news.html" />
<link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/ar/news.html" />
<link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/ar/news.html" />
<link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/ar/news.html" />
<link rel="alternate" hreflang="ja" href="https://www.calculadorasdeenfermagem.com.br/ja/ar/news.html" />
<link rel="alternate" hreflang="zh" href="https://www.calculadorasdeenfermagem.com.br/zh/ar/news.html" />
<link rel="alternate" hreflang="hi" href="https://www.calculadorasdeenfermagem.com.br/hi/ar/news.html" />
<link rel="alternate" hreflang="ar" href="https://www.calculadorasdeenfermagem.com.br/ar/ar/news.html" />
<link rel="alternate" hreflang="ru" href="https://www.calculadorasdeenfermagem.com.br/ru/ar/news.html" />
<link rel="alternate" hreflang="tr" href="https://www.calculadorasdeenfermagem.com.br/tr/ar/news.html" />
<link rel="alternate" hreflang="ko" href="https://www.calculadorasdeenfermagem.com.br/ko/ar/news.html" />
<link rel="alternate" hreflang="nl" href="https://www.calculadorasdeenfermagem.com.br/nl/ar/news.html" />
<link rel="alternate" hreflang="pl" href="https://www.calculadorasdeenfermagem.com.br/pl/ar/news.html" />
<link rel="alternate" hreflang="sv" href="https://www.calculadorasdeenfermagem.com.br/sv/ar/news.html" />
<link rel="alternate" hreflang="id" href="https://www.calculadorasdeenfermagem.com.br/id/ar/news.html" />
<link rel="alternate" hreflang="vi" href="https://www.calculadorasdeenfermagem.com.br/vi/ar/news.html" />
<link rel="alternate" hreflang="uk" href="https://www.calculadorasdeenfermagem.com.br/uk/ar/news.html" />
<link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/ar/news.html" />
  
  <!-- تم تحديث مسار الأيقونة ليعكس المجلد /ar/ -->
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />
  
  <!-- تم تحسين الوصف (description) لمحركات البحث باللغة العربية -->
  <meta name="description" content="احسب بروتوكول NEWS (مقياس الإنذار المبكر الوطني) للكشف المبكر عن التدهور السريري لدى المرضى في المستشفيات، مما يعزز السلامة وتفعيل فريق الاستجابة السريعة." />
  
  <!-- تم تحديث علامات Open Graph للغة العربية -->
  <meta property="og:title" content="حاسبة بروتوكول NEWS - مقياس الإنذار المبكر الوطني" />
  <meta property="og:description" content="حاسبة تفاعلية لبروتوكول NEWS (مقياس الإنذار المبكر الوطني) للكشف المبكر عن التدهور السريري لدى المرضى في المستشفيات، مما يعزز السلامة وتفعيل فريق الاستجابة السريعة." />
  <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/ar/news.html" />
  <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="حاسبة بروتوكول NEWS - مقياس الإنذار المبكر الوطني" />
  <meta name="twitter:description" content="حاسبة تفاعلية لبروتوكول NEWS (مقياس الإنذار المبكر الوطني) للكشف المبكر عن التدهور السريري لدى المرضى في المستشفيات، مما يعزز السلامة وتفعيل فريق الاستجابة السريعة." />
  <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />

  <link href="/public/output.css" rel="stylesheet">
  <script async src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
  
  <!-- تم تحديث مسار ملف الأنماط العام ليعكس المجلد /ar/ -->
  <link rel="stylesheet" href="../global-styles.css" media="print" onload="this.media='all'">

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap" rel="stylesheet">
  <!-- إضافة خطوط عربية لتحسين العرض -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"></noscript>

  <script src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('consent', 'default', {
        'analytics_storage': 'denied',
        'ad_storage': 'denied',
        'wait_for_update': 500
    });
    gtag('config', 'AW-952633102');
    gtag('config', 'G-8FLJ59XXDK');
  </script>

  <!-- تم ترجمة JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "MedicalEntity",
    "name": "بروتوكول NEWS - مقياس الإنذار المبكر الوطني",
    "url": "https://www.calculadorasdeenfermagem.com.br/ar/news.html",
    "description": "حاسبة تفاعلية لبروتوكول NEWS (مقياس الإنذار المبكر الوطني) للكشف المبكر عن التدهور السريري لدى المرضى في المستشفيات، مما يعزز السلامة وتفعيل فريق الاستجابة السريعة.",
    "alternateName": ["NEWS Score Calculator", "Escore de Alerta Precoce Nacional", "مقياس NEWS"]
  }
  </script>

  <style>
    /* إضافة الخط العربي إلى الأنماط */
    body, .font-inter {
        font-family: 'Cairo', 'Inter', sans-serif;
    }
    .font-nunito {
        font-family: 'Cairo', 'Nunito Sans', sans-serif;
    }
  
    .resultado {
        text-align: right; /* محاذاة RTL */
    }
    .resultado.bg-red-custom { background-color: #fee2e2; color: #dc2626; }
    .resultado.bg-yellow-custom { background-color: #fefce8; color: #d97706; }
    .resultado.bg-green-custom { background-color: #dcfce7; color: #15803d; }
    .resultado.bg-info-orange-light { background-color: #ffeeba; border-color: #ffb366; color: #856404; }

    .news-criteria-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }
    .news-criterion-card {
        background-color: #fff;
        border: 1px solid #d1d5db;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s ease;
    }
    .news-criterion-card:hover {
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
    }
    .news-criterion-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
        text-align: right; /* محاذاة RTL */
    }
    .news-criterion-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1A3E74;
    }
    .news-score-display {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1FA4E5;
    }
    .news-select {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ccc;
        border-radius: 0.375rem;
        font-size: 1rem;
        color: #333;
        background-color: #fff;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: left 0.75rem center; /* تغيير اتجاه السهم لـ RTL */
        background-size: 1.5em 1.5em;
        text-align: right; /* محاذاة RTL */
    }
    .news-select:focus {
        outline: none;
        border-color: #1FA4E5;
        box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
    }
    
    /* تعديلات RTL إضافية */
    .breadcrumb ol {
        display: flex;
        flex-wrap: wrap;
        padding: 0;
        margin: 0;
        list-style: none;
    }
    .breadcrumb li:not(:last-child)::after {
        content: '/';
        margin: 0 0.5rem;
        color: #6b7280;
    }
    .text-left { text-align: right !important; }
    .sm\:text-left { @media (min-width: 640px) { text-align: right !important; } }
    .justify-start { justify-content: flex-start; }
  </style>
<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    </head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <div class="w-full flex justify-center py-2 bg-gray-100" aria-label="Espaço para publicidade superior" style="min-height: 90px;"> 
        <script type="text/javascript">
            atOptions = {
                'key' : '1e009bba81deb2bc366b3c4ac030f6be',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        
    </div>
    
  <!-- تم ترجمة قائمة اختصارات الوصول -->
  <nav aria-label="اختصارات الوصول" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
    <a href="/" accesskey="I" class="block mb-2">الانتقال إلى البداية [Alt + Shift + I]</a>
    <a href="#main-content" accesskey="C" class="block mb-2">تخطي إلى المحتوى الرئيسي [Alt + Shift + C]</a>
    <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">تنشيط شريط الوصول [Alt + Shift + A]</a>
    <a href="#backToTopBtn" accesskey="T" class="block">العودة إلى أعلى الصفحة [Alt + Shift + T]</a>
  </nav>

  <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

  <div id="global-header-container"></div>
<!-- تم تحديث محدد اللغة ليعكس اللغة العربية كلغة حالية -->
<div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-left:2rem; padding-right: 0;"> <!-- تم تعديل الحشو لـ RTL -->
  <div class="relative inline-block text-left z-50">
    <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
      <img id="langFlag" width="20" height="16" src="../bandeira-arabia.webp" alt="AR" class="w-5 h-4 rounded-sm"> <!-- العلم العربي -->
      <span id="langText" class="text-gray-700 font-medium">العربية</span> <!-- اللغة العربية -->
      <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </button>

    <!-- تم تحديث مسارات الأعلام في القائمة المنسدلة -->
    <div id="langMenu" class="hidden absolute left-0 mt-2 w-44 bg-white border rounded-lg shadow-lg"> <!-- تغيير right-0 إلى left-0 لـ RTL -->
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="../bandeira-brasil.webp">
        <img src="../bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="PT" width="20" height="16"><span>Português</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="../bandeira-eua.webp">
        <img src="../bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN" width="20" height="16"><span>English</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="../bandeira-espanha.webp">
        <img src="../bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES" width="20" height="16"><span>Español</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="../bandeira-alemanha.webp">
        <img src="../bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE" width="20" height="16"><span>Deutsch</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="../bandeira-italia.webp">
        <img src="../bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT" width="20" height="16"><span>Italiano</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="../bandeira-franca.webp">
        <img src="../bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR" width="20" height="16"><span>Français</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="hi" data-flag="../bandeira-india.webp">
        <img src="../bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="HI" width="20" height="16"><span>हिन्दी</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="zh" data-flag="../bandeira-china.webp">
        <img src="../bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="ZH" width="20" height="16"><span>中文</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ar" data-flag="../bandeira-arabia.webp">
        <img src="../bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR" width="20" height="16"><span>العربية</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ja" data-flag="../bandeira-japao.webp">
        <img src="../bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JA" width="20" height="16"><span>日本語</span>
      </div>
    </div>
  </div>
</div>
<main id="main-content" class="flex-grow p-4 sm:p-8">
    <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
      <!-- تم تعديل مسارات التنقل والترجمة -->
      <nav class="breadcrumb" aria-label="breadcrumb"><ol>
          <li><a href="index.html">الرئيسية</a></li>
          <li><a href="#">حاسبات</a></li>
          <li>بروتوكول NEWS</li>
      </ol></nav>

      <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
        <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
          بروتوكول NEWS
        </h1>
      </div>
      <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

      <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
        مقياس الإنذار المبكر الوطني
      </h2>
      <p id="description-text" class="text-gray-700 mb-6 text-right">
        بروتوكول NEWS (مقياس الإنذار المبكر الوطني) هو أداة للكشف المبكر عن التدهور السريري لدى المرضى في المستشفيات. يتم حساب النتيجة من المتغيرات الفسيولوجية، وإذا كانت النتيجة تشير إلى خطر، يتم تفعيل خطة عمل لضمان سلامة المريض.
      </p>
      <!-- تم محاذاة النص لليمين وترجمة العناوين واستخدام الأرقام العربية -->
      <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>سنة الإنشاء:</strong> ٢٠١٢
    </p>
    <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المؤلفون:</strong> الكلية الملكية للأطباء، في المملكة المتحدة.
    </p>
    <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المجال المستخدم:</strong> وحدات المرضى الداخليين السريرية والجراحية.
    </p>
    <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المعايير المقيمة:</strong> مستوى الوعي، درجة الحرارة، معدل ضربات القلب، ضغط الدم الانقباضي، معدل التنفس، تشبع الأكسجين، واستخدام الأكسجين الإضافي.
    </p>
    <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>من يستخدمها؟:</strong> الممرضون والأطباء.
    </p>
      <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-right">
        اختر النتيجة المقابلة لحالة المريض لكل متغير:
      </p>

      <div id="conteudo" class="news-criteria-container">
        </div>

      <div id="resultado" class="resultado hidden" aria-live="polite"></div>

      <!-- تم تعديل ترتيب الأزرار لـ RTL وترجمة العناوين -->
      <div class="flex flex-wrap justify-start gap-4 mt-6">
        <button id="btnCalcular" class="btn-primary" aria-label="حساب مقياس NEWS">
          حساب مقياس NEWS
        </button>
        <button id="btnLimpar" class="btn-primary" aria-label="مسح اختيارات المقياس">
          مسح
        </button>
        <button id="btnGerarPDF" class="btn-secondary" aria-label="إنشاء PDF للنتيجة">
          إنشاء PDF
        </button>
        <button id="btnNandaNicNoc" class="btn-primary" aria-label="بحث NANDA, NIC, NOC">
            NANDA, NIC, NOC
        </button>
      </div>

      <!-- تم ترجمة قسم المراجع ومحاذاته لليمين -->
      <div id="bibliografia" class="ref font-inter text-gray-custom text-right mt-8 border-t pt-4">
        <strong>المراجع الببليوغرافية:</strong>
        <p class="mt-2" style="text-align: left; direction: ltr;"> <!-- المرجع باللغة الإنجليزية يبقى LTR -->
            Royal College of Physicians. *National Early Warning Score (NEWS) 2: Standardising the assessment of acute illness and identifying patients at risk of clinical deterioration*. London: RCP; 2017. Disponível em: <a href="https://www.rcplondon.ac.uk/projects/outputs/national-early-warning-score-news-2" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">rcplondon.ac.uk</a>
        </p>
      </div>
    </div>
  </main>

  <!-- Rodapé modularizado conforme solicitado -->
  <div id="footer-placeholder"></div>
  <script>
  fetch('footer.html') // 1. Busca o arquivo (presume-se أن يكون في /ar/footer.html)
      .then(response => response.text()) // 2. Converte a resposta para texto (HTML)
      .then(data => {
          // 3. Insere o HTML dentro do seu placeholder
          document.getElementById('footer-placeholder').innerHTML = data;
      });
  </script>
  
  <!-- تم تحديث مسار السكريبت العام -->
  <script src="../global-scripts.js" defer></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const resultadoDiv = document.getElementById('resultado');
        const btnCalcular = document.getElementById('btnCalcular');
        const btnLimpar = document.getElementById('btnLimpar');
        const btnGerarPDF = document.getElementById('btnGerarPDF');
        const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
        const conteudoDiv = document.getElementById('conteudo');
        
        // دالة لتحويل الأرقام الغربية إلى أرقام هندية (عربية)
        function toArabicNumerals(num) {
            const arabicNumerals = ['٠', '١', '٢', '٣', '٤', '٥', '٦', '٧', '٨', '٩'];
            return String(num).replace(/[0-9]/g, d => arabicNumerals[d]);
        }

        // تم ترجمة بيانات بروتوكول NEWS وإضافة الأرقام العربية
        const newsData = [
            {
                parameter: "مستوى الوعي",
                nameAttr: "consciencia",
                options: [
                    { text: "للصوت / للألم / لا يستجيب", score: 3, arabicScore: "٣" },
                    { text: "يقظ", score: 0, arabicScore: "٠" }
                ]
            },
            {
                parameter: "درجة الحرارة (مئوية)",
                nameAttr: "temperatura",
                options: [
                    { text: "< ٣٥.٠", score: 3, arabicScore: "٣" },
                    { text: "٣٥.١ - ٣٦.٠", score: 1, arabicScore: "١" },
                    { text: "٣٦.١ - ٣٨.٠", score: 0, arabicScore: "٠" },
                    { text: "٣٨.١ - ٣٩.٠", score: 1, arabicScore: "١" },
                    { text: "> ٣٩.١", score: 2, arabicScore: "٢" }
                ]
            },
            {
                parameter: "معدل ضربات القلب (ن/د)",
                nameAttr: "fc",
                options: [
                    { text: "< ٤٠", score: 3, arabicScore: "٣" },
                    { text: "٤١ - ٥٠", score: 1, arabicScore: "١" },
                    { text: "٥١ - ٩٠", score: 0, arabicScore: "٠" },
                    { text: "٩١ - ١١٠", score: 1, arabicScore: "١" },
                    { text: "١١١ - ١٣٠", score: 2, arabicScore: "٢" },
                    { text: "> ١٣١", score: 3, arabicScore: "٣" }
                ]
            },
            {
                parameter: "ضغط الدم الانقباضي (مم زئبق)",
                nameAttr: "pas",
                options: [
                    { text: "< ٩٠", score: 3, arabicScore: "٣" },
                    { text: "٩١ - ١٠٠", score: 2, arabicScore: "٢" },
                    { text: "١٠١ - ١١٠", score: 1, arabicScore: "١" },
                    { text: "١١١ - ٢١٩", score: 0, arabicScore: "٠" },
                    { text: "> ٢٢٠", score: 3, arabicScore: "٣" }
                ]
            },
            {
                parameter: "معدل التنفس (ن/د)",
                nameAttr: "fr",
                options: [
                    { text: "< ٨", score: 3, arabicScore: "٣" },
                    { text: "٩ - ١١", score: 1, arabicScore: "١" },
                    { text: "١٢ - ٢٠", score: 0, arabicScore: "٠" },
                    { text: "٢١ - ٢٤", score: 2, arabicScore: "٢" },
                    { text: "> ٢٥", score: 3, arabicScore: "٣" }
                ]
            },
            {
                parameter: "تشبع الأكسجين (٪)",
                nameAttr: "satO2",
                options: [
                    { text: "< ٩١", score: 3, arabicScore: "٣" },
                    { text: "٩٢ - ٩٣", score: 2, arabicScore: "٢" },
                    { text: "٩٤ - ٩٥", score: 1, arabicScore: "١" },
                    { text: "> ٩٦", score: 0, arabicScore: "٠" }
                ]
            },
            {
                parameter: "أكسجين إضافي",
                nameAttr: "suplementacaoO2",
                options: [
                    { text: "نعم", score: 2, arabicScore: "٢" },
                    { text: "لا", score: 0, arabicScore: "٠" }
                ]
            }
        ];

        // --- وظائف حاسبة NEWS ---
        function updateScoreDisplay(criterionId) {
            const selectElement = document.getElementById(criterionId);
            const scoreDisplayElement = document.getElementById(`${criterionId}_score_display`);
            if (selectElement && scoreDisplayElement) {
                const score = selectElement.value === "" ? 0 : parseInt(selectElement.value, 10);
                scoreDisplayElement.innerText = toArabicNumerals(score);
            }
        }

        function calcularNews() {
            let totalScore = 0;
            let allItemsSelected = true;

            newsData.forEach(item => {
                const selectElement = document.getElementById(item.nameAttr);
                if (selectElement.value === "") {
                    allItemsSelected = false;
                } else {
                    totalScore += parseInt(selectElement.value, 10);
                }
            });

            resultadoDiv.style.display = 'block';
            if (!allItemsSelected) {
                // تم ترجمة رسالة التحذير
                resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">يرجى اختيار خيار لكل بند</strong> قبل الحساب.';
                resultadoDiv.className = 'resultado bg-info-orange-light';
                delete resultadoDiv.dataset.score;
                return;
            }

            let classificacao = '';
            let acaoRecomendada = '';
            let resultadoClasse = '';

            // تم ترجمة التصنيفات والإجراءات
            if (totalScore >= 7) {
                classificacao = 'مرتفع';
                acaoRecomendada = 'تفعيل الفريق الطبي فورًا وبدء التدخلات المناسبة. مراقبة مكثفة (مثال: كل ٥-١٥ دقيقة).';
                resultadoClasse = 'bg-red-custom';
            } else if (totalScore >= 5) {
                classificacao = 'متوسط';
                acaoRecomendada = 'إعادة التقييم بشكل متكرر (كل ١-٢ ساعة) والنظر في الدعم الطبي. خطر التدهور السريري.';
                resultadoClasse = 'bg-yellow-custom';
            } else if (totalScore >= 1 && totalScore <= 4) {
                classificacao = 'منخفض';
                acaoRecomendada = 'مراقبة منتظمة (كل ٤-٦ ساعات).';
                resultadoClasse = 'bg-green-custom';
            } else if (totalScore === 0) {
                classificacao = 'منخفض جدًا';
                acaoRecomendada = 'مراقبة روتينية (كل ١٢ ساعة).';
                resultadoClasse = 'bg-green-custom';
            } else {
                classificacao = "نتيجة غير صالحة";
                acaoRecomendada = "النتيجة المحسوبة خارج الحدود المتوقعة للمقياس. تحقق من الاختيارات.";
                resultadoClasse = 'bg-info-orange-light';
            }

            // تم ترجمة نصوص النتيجة واستخدام الأرقام العربية
            resultadoDiv.innerHTML = `<p>مجموع نقاط NEWS: <strong class="font-bold">${toArabicNumerals(totalScore)}</strong></p><p>التصنيف: <strong class="font-bold">${classificacao}</strong></p><p>الإجراء الموصى به: <strong class="font-bold">${acaoRecomendada}</strong></p>`;
            resultadoDiv.className = `resultado ${resultadoClasse}`;
            
            resultadoDiv.dataset.score = totalScore;
            resultadoDiv.dataset.classificacao = classificacao;
            resultadoDiv.dataset.conduta = acaoRecomendada;
            resultadoDiv.dataset.scaleName = "بروتوكول NEWS";
        }

        function limparCampos() {
            newsData.forEach(item => {
                const selectElement = document.getElementById(item.nameAttr);
                selectElement.selectedIndex = 0;
                document.getElementById(`${item.nameAttr}_score_display`).innerText = toArabicNumerals(0);
            });
            resultadoDiv.innerHTML = '';
            resultadoDiv.className = 'resultado hidden';
            delete resultadoDiv.dataset.score;
            delete resultadoDiv.dataset.classificacao;
            delete resultadoDiv.dataset.conduta;
            delete resultadoDiv.dataset.scaleName;
        }

        // يملأ النموذج ديناميكيًا
        newsData.forEach((item, index) => {
            const sectionDiv = document.createElement('div');
            sectionDiv.className = 'news-criterion-card';
            
            const headerDiv = document.createElement('div');
            headerDiv.className = 'news-criterion-header';

            const titleH3 = document.createElement('h3');
            titleH3.className = 'news-criterion-title';
            titleH3.innerText = item.parameter;
            headerDiv.appendChild(titleH3);

            const scoreSpan = document.createElement('span');
            scoreSpan.className = 'news-score-display';
            scoreSpan.id = `${item.nameAttr}_score_display`;
            scoreSpan.innerText = toArabicNumerals(0);
            headerDiv.appendChild(scoreSpan);
            
            sectionDiv.appendChild(headerDiv);

            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'news-criterion-options';

            const selectElement = document.createElement('select');
            selectElement.id = item.nameAttr;
            selectElement.className = 'news-select';
            selectElement.onchange = () => updateScoreDisplay(item.nameAttr);

            const defaultOption = document.createElement('option');
            defaultOption.value = "";
            defaultOption.text = "اختر...";
            defaultOption.disabled = true;
            defaultOption.selected = true;
            selectElement.appendChild(defaultOption);

            item.options.forEach(option => {
                const optionElement = document.createElement('option');
                optionElement.value = option.score;
                optionElement.text = `${option.text} (${option.arabicScore})`; // استخدام الأرقام العربية
                selectElement.appendChild(optionElement);
            });

            optionsDiv.appendChild(selectElement);
            sectionDiv.appendChild(optionsDiv);
            conteudoDiv.appendChild(sectionDiv);
        });

        // يضيف مستمعي الأحداث إلى الأزرار
        btnCalcular?.addEventListener('click', calcularNews);
        btnLimpar?.addEventListener('click', limparCampos);

        btnGerarPDF?.addEventListener('click', () => {
            if (resultadoDiv.dataset.score === undefined) {
                // تم ترجمة التنبيه
                alert('يرجى النقر فوق "احسب" أولاً لإنشاء ملف PDF.');
                return;
            }
            if (typeof gerarPDFGlobal === 'function') {
                gerarPDFGlobal({
                    titulo: 'بروتوكول NEWS',
                    subtitulo: 'تقرير مقياس الإنذار المبكر',
                    nomeArquivo: 'protocolo_news.pdf',
                    seletorConteudo: '.main-content-wrapper'
                });
            } else {
                console.error('الدالة gerarPDFGlobal غير معرفة.');
            }
        });
        
        btnNandaNicNoc?.addEventListener('click', () => {
            const score = resultadoDiv.dataset.score;
            const scaleName = resultadoDiv.dataset.scaleName;
            const classificacao = resultadoDiv.dataset.classificacao;
            const conduta = resultadoDiv.dataset.conduta;
            if (score === undefined || !classificacao) {
                // تم ترجمة التنبيه
                alert('احسب النتيجة للبحث عن الإجراء.');
                return;
            }
            // تم ترجمة استعلام البحث
            const searchQuery = encodeURIComponent(`${scaleName} نتيجة ${score} تصنيف ${classificacao} إنشاء تصنيف NANDA, إنشاء تصنيف NIC وإنشاء تصنيف NOC`);
            window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
        });
    });
  </script>



<script type="text/javascript">
	atOptions = {
		'key' : '1e009bba81deb2bc366b3c4ac030f6be',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>

<script src="/lang-selector.js" defer></script>
<div id="adterra-banner-container" style="min-height: 90px; width: 100%; text-align: center; margin: 10px 0;">
    <script type='text/javascript' async src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>
</div>
</body>
</html>