<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="/ar/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/ar/global-body-elements.html" as="fetch" crossorigin>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>مقياس PRISM - مخاطر الوفيات لدى الأطفال | حاسبات التمريض</title>

    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/ar/prism.html" />
<link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/ar/prism.html" />
<link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/ar/prism.html" />
<link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/ar/prism.html" />
<link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/ar/prism.html" />
<link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/ar/prism.html" />
<link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/ar/prism.html" />
<link rel="alternate" hreflang="ja" href="https://www.calculadorasdeenfermagem.com.br/ja/ar/prism.html" />
<link rel="alternate" hreflang="zh" href="https://www.calculadorasdeenfermagem.com.br/zh/ar/prism.html" />
<link rel="alternate" hreflang="hi" href="https://www.calculadorasdeenfermagem.com.br/hi/ar/prism.html" />
<link rel="alternate" hreflang="ar" href="https://www.calculadorasdeenfermagem.com.br/ar/ar/prism.html" />
<link rel="alternate" hreflang="ru" href="https://www.calculadorasdeenfermagem.com.br/ru/ar/prism.html" />
<link rel="alternate" hreflang="tr" href="https://www.calculadorasdeenfermagem.com.br/tr/ar/prism.html" />
<link rel="alternate" hreflang="ko" href="https://www.calculadorasdeenfermagem.com.br/ko/ar/prism.html" />
<link rel="alternate" hreflang="nl" href="https://www.calculadorasdeenfermagem.com.br/nl/ar/prism.html" />
<link rel="alternate" hreflang="pl" href="https://www.calculadorasdeenfermagem.com.br/pl/ar/prism.html" />
<link rel="alternate" hreflang="sv" href="https://www.calculadorasdeenfermagem.com.br/sv/ar/prism.html" />
<link rel="alternate" hreflang="id" href="https://www.calculadorasdeenfermagem.com.br/id/ar/prism.html" />
<link rel="alternate" hreflang="vi" href="https://www.calculadorasdeenfermagem.com.br/vi/ar/prism.html" />
<link rel="alternate" hreflang="uk" href="https://www.calculadorasdeenfermagem.com.br/uk/ar/prism.html" />
<link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/ar/prism.html" />
    
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <meta name="description" content="مقياس PRISM (مخاطر الوفيات لدى الأطفال) هو أداة تقييم تستخدم في وحدات العناية المركزة للأطفال لتقدير خطر الوفاة عند الأطفال المرضى." />
    <meta property="og:title" content="مقياس PRISM - مخاطر الوفيات لدى الأطفال" />
    <meta property="og:description" content="حاسبة مقياس PRISM لتقدير خطر الوفيات لدى الأطفال، تساعد في التنبؤ بشدة الحالة ومراقبة جودة العلاج المستمر." />
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/ar/prism.html" />
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="مقياس PRISM - مخاطر الوفيات لدى الأطفال" />
    <meta name="twitter:description" content="حاسبة مقياس PRISM لتقدير خطر الوفيات لدى الأطفال، تساعد في التنبؤ بشدة الحالة ومراقبة جودة العلاج المستمر." />
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
    
    <link href="/public/output.css" rel="stylesheet">
    <script async src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../global-styles.css" media="print" onload="this.media='all'">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"></noscript>

    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'wait_for_update': 500
        });
        gtag('config', 'AW-952633102');
        gtag('config', 'G-8FLJ59XXDK');
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalEntity",
      "name": "مقياس PRISM",
      "url": "https://www.calculadorasdeenfermagem.com.br/ar/prism.html",
      "description": "حاسبة مقياس PRISM لتقدير خطر الوفيات لدى الأطفال، تساعد في التنبؤ بشدة الحالة ومراقبة جودة العلاج المستمر.",
      "alternateName": ["Pediatric Risk of Mortality"],
      "inLanguage": "ar"
    }
    </script>
    
    <style>
        .resultado.bg-pelod-baixo { background-color: #D4EDDA; color: #155724; }
        .resultado.bg-pelod-moderado { background-color: #FFF3CD; color: #856404; }
        .resultado.bg-pelod-alto { background-color: #F8D7DA; color: #721C24; }
        .resultado.bg-pelod-muito-alto { background-color: #fce2e2; color: #cc0000; }
        .bg-info-orange-light { background-color: #ffeeba; border-color: #ffb366; color: #856404; }

        .prism-criteria-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .prism-criterion-card {
            background-color: #fff;
            border: 1px solid #d1d5db;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
        }
        .prism-criterion-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
        }
        .prism-criterion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
            text-align: right;
        }
        .prism-criterion-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1A3E74;
        }
        .prism-score-display {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1FA4E5;
        }
        .prism-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.375rem;
            font-size: 1rem;
            color: #333;
            background-color: #fff;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: left 0.75rem center;
            background-size: 1.5em 1.5em;
        }
        .prism-select:focus {
            outline: none;
            border-color: #1FA4E5;
            box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
        }
        
        body {
            font-family: 'Noto Sans Arabic', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800" dir="rtl">
    <nav aria-label="اختصارات إمكانية الوصول" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:right-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="/ar/index.html" accesskey="I" class="block mb-2">الانتقال إلى الصفحة الرئيسية [Alt + Shift + I]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">التخطي إلى المحتوى الرئيسي [Alt + Shift + C]</a>
        <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">تفعيل شريط إمكانية الوصول [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">العودة إلى أعلى الصفحة [Alt + Shift + T]</a>
    </nav>

    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <div id="global-header-container"></div>
<div id="language-dropdown-wrapper" class="flex justify-start w-full" style="position:relative; z-index:100; padding-left:2rem;">
  <div class="relative inline-block text-left z-50">
    <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
      <img id="langFlag" width="20" height="16" src="../bandeira-arabia.webp" alt="AR" class="w-5 h-4 rounded-sm">
      <span id="langText" class="text-gray-700 font-medium">العربية</span>
      <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </button>

    <div id="langMenu" class="hidden absolute left-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ar" data-flag="../bandeira-arabia.webp">
    <img src="../bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR" width="20" height="16"><span>العربية</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="../bandeira-eua.webp">
    <img src="../bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN" width="20" height="16"><span>English</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="../bandeira-espanha.webp">
    <img src="../bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES" width="20" height="16"><span>Español</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="../bandeira-alemanha.webp">
    <img src="../bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE" width="20" height="16"><span>Deutsch</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="../bandeira-italia.webp">
    <img src="../bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT" width="20" height="16"><span>Italiano</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="../bandeira-franca.webp">
    <img src="../bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR" width="20" height="16"><span>Français</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="hi" data-flag="../bandeira-india.webp">
    <img src="../bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="HI" width="20" height="16"><span>हिन्दी</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="zh" data-flag="../bandeira-china.webp">
    <img src="../bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="ZH" width="20" height="16"><span>中文</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="../bandeira-brasil.webp">
    <img src="../bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="PT" width="20" height="16"><span>Português</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ja" data-flag="../bandeira-japao.webp">
    <img src="../bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JA" width="20" height="16"><span>日本語</span>
  </div>
</div>
  </div>
</div><main id="main-content" class="flex-grow p-4 sm:p-8">
        <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
            <nav class="breadcrumb" aria-label="breadcrumb"><ol><li><a href="index.html">الرئيسية</a></li><li><a href="#">الحاسبات</a></li><li>مقياس PRISM</li></ol></nav>

            <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
                <h1 id="main-title" class="font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    مقياس PRISM
                </h1>
            </div>
            <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

            <h2 id="main-subtitle" class="font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
                مخاطر الوفيات لدى الأطفال
            </h2>
            <p id="description-text" class="text-gray-700 mb-6 text-right">
                مقياس PRISM (مخاطر الوفيات لدى الأطفال) هو أداة تقييم لشدة الحالة تُستخدم في وحدات العناية المركزة للأطفال لتقدير خطر الوفاة عند الأطفال المرضى. تم تطويره للمساعدة في تقييم شدة المرض ومراقبة جودة العلاج المكثف بشكل مستمر، يستخدم PRISM البيانات الفسيولوجية التي يتم جمعها بشكل روتيني لحساب درجة تعكس خطر وفاة الطفل.
            </p>
            <p id="alert-text" class="text-gray-700 mb-6 text-right">
                <strong class="text-red-600">هام:</strong> هذه نسخة مبسطة لأغراض تعليمية ولا تحل محل التطبيق الكامل لمقياس PRISM أو الحكم السريري.
            </p>
            <p class="text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>سنة الإنشاء:</strong> ١٩٨٥
    </p>
    <p class="text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المؤلفون:</strong> د. موراي إم. بولاك.
    </p>
    <p class="text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>مجال الاستخدام:</strong> وحدات العناية المركزة للأطفال.
    </p>
    <p class="text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المعايير المُقَيّمة:</strong> غلاسكو، معدل ضربات القلب، ضغط الدم الانقباضي، معدل التنفس، درجة الحرارة، درجة الحموضة الشريانية والجلوكوز.
    </p>
    <p class="text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المستخدمون:</strong> أطباء الأطفال المتخصصين في العناية المركزة ومديري التمريض.
    </p>
            <p class="font-normal text-light-blue text-base lg:text-lg mb-6 text-right">
                اختر النقاط لكل معيار:
            </p>

            <div id="conteudo" class="prism-criteria-container">
                </div>

            <div id="resultado" class="resultado hidden" aria-live="polite"></div>

            <div class="flex flex-wrap justify-start gap-4 mt-6">
                <button id="btnCalcular" class="btn-primary" aria-label="حساب النقاط">
                    احسب
                </button>
                <button id="btnLimpar" class="btn-primary" aria-label="مسح الحقول">
                    مسح
                </button>
                <button id="btnGerarPDF" class="btn-secondary" aria-label="إنشاء PDF">
                    إنشاء PDF
                </button>
                <button id="btnNandaNicNoc" class="btn-primary" aria-label="البحث في NANDA, NIC, NOC">
                    NANDA, NIC, NOC
                </button>
            </div>

            <div id="bibliografia" class="ref text-gray-custom text-right mt-8 border-t pt-4">
                <strong>المراجع:</strong>
                <ul class="list-disc list-inside space-y-1 mt-2">
                    <li>Pollack, M. M., Ruttimann, U. E., & Getson, P. R. (1988). Pediatric risk of mortality (PRISM) score. Critical Care Medicine, 16(11), 1110-1116. Available at: <a href="https://pubmed.ncbi.nlm.nih.gov/3056693/" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">https://pubmed.ncbi.nlm.nih.gov/3056693/</a></li>
                    <li>Gemke, R. J. B. J., & Bonsel, G. J. (1995). The PRISM score: a good indicator of outcome in children admitted to a paediatric intensive care unit. Intensive Care Medicine, 21(1), 58-62. Available at: <a href="https://link.springer.com/article/10.1007/BF01705663" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">https://link.springer.com/article/10.1007/BF01705663</a></li>
                    <li>Tibby, S. M., et al. (2003). Validation of the paediatric logistic organ dysfunction (PELOD) score: prospective, observational, multicentre study. The Lancet, 362(9378), 192-197. Available at: <a href="https://www.thelancet.com/journals/lancet/article/PIIS0140-6736(03)13908-6/fulltext" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">https://www.thelancet.com/article/PIIS0140-6736(03)13908-6</a></li>
                </ul>
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>

    <script src="../global-scripts.js" defer></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const resultadoDiv = document.getElementById('resultado');
            const btnCalcular = document.getElementById('btnCalcular');
            const btnLimpar = document.getElementById('btnLimpar');
            const btnGerarPDF = document.getElementById('btnGerarPDF');
            const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
            const conteudoDiv = document.getElementById('conteudo');
            
            const prismData = [
                {
                    domain: "مقياس غلاسكو للغيبوبة (GCS)",
                    nameAttr: "gcs",
                    options: [
                        { text: "١٥", score: 0 },
                        { text: "١٣-١٤", score: 1 },
                        { text: "١٠-١٢", score: 2 },
                        { text: "٧-٩", score: 3 },
                        { text: "< ٧", score: 4 }
                    ]
                },
                {
                    domain: "معدل ضربات القلب (نبضة في الدقيقة)",
                    nameAttr: "fc",
                    options: [
                        { text: "٧٠-١٦٠", score: 0 },
                        { text: "١٦١-١٨٠ أو ٦٠-٦٩", score: 1 },
                        { text: "١٨١-٢٠٠ أو ٥٠-٥٩", score: 2 },
                        { text: "> ٢٠٠ أو < ٥٠", score: 4 }
                    ]
                },
                {
                    domain: "ضغط الدم الانقباضي (ملم زئبق)",
                    nameAttr: "pas",
                    options: [
                        { text: "٨٠-١١٠", score: 0 },
                        { text: "١١١-١٢٠ أو ٧٠-٧٩", score: 1 },
                        { text: "١٢١-١٣٠ أو ٦٠-٦٩", score: 2 },
                        { text: "> ١٣٠ أو < ٦٠", score: 4 }
                    ]
                },
                {
                    domain: "معدل التنفس (نفس في الدقيقة)",
                    nameAttr: "fr",
                    options: [
                        { text: "١٥-٤٠", score: 0 },
                        { text: "٤١-٥٠ أو ١٠-١٤", score: 1 },
                        { text: "٥١-٦٠ أو ٦-٩", score: 2 },
                        { text: "> ٦٠ أو < ٦", score: 4 }
                    ]
                },
                {
                    domain: "درجة الحرارة (مئوية)",
                    nameAttr: "temp",
                    options: [
                        { text: "٣٦.٠-٣٧.٥", score: 0 },
                        { text: "٣٧.٦-٣٨.٠ أو ٣٥.٥-٣٥.٩", score: 1 },
                        { text: "٣٨.١-٣٩.٠ أو ٣٤.٠-٣٥.٤", score: 2 },
                        { text: "> ٣٩.٠ أو < ٣٤.٠", score: 4 }
                    ]
                },
                {
                    domain: "درجة الحموضة الشريانية",
                    nameAttr: "ph",
                    options: [
                        { text: "٧.٣٥-٧.٤٥", score: 0 },
                        { text: "٧.٣٠-٧.٣٤ أو ٧.٤٦-٧.٥٠", score: 1 },
                        { text: "٧.٢٠-٧.٢٩ أو ٧.٥١-٧.٦٠", score: 2 },
                        { text: "< ٧.٢٠ أو > ٧.٦٠", score: 4 }
                    ]
                },
                {
                    domain: "الجلوكوز (ملغ/دل)",
                    nameAttr: "glicose",
                    options: [
                        { text: "٧٠-١٥٠", score: 0 },
                        { text: "١٥١-٢٠٠ أو ٥٠-٦٩", score: 1 },
                        { text: "٢٠١-٣٠٠ أو ٣٠-٤٩", score: 2 },
                        { text: "> ٣٠٠ أو < ٣٠", score: 4 }
                    ]
                }
            ];

            // --- وظائف حاسبة PRISM ---
            function updateScoreDisplay(criterionId) {
                const selectElement = document.getElementById(criterionId);
                const scoreDisplayElement = document.getElementById(`${criterionId}_score_display`);
                if (selectElement && scoreDisplayElement) {
                    scoreDisplayElement.innerText = selectElement.value === "" ? "٠" : selectElement.value;
                }
            }

            function calcularPontuacao() {
                let totalScore = 0;
                let allItemsSelected = true;

                prismData.forEach(item => {
                    const selectElement = document.getElementById(item.nameAttr);
                    if (selectElement.value === "") {
                        allItemsSelected = false;
                    } else {
                        totalScore += parseInt(selectElement.value, 10);
                    }
                });

                resultadoDiv.style.display = 'block';
                if (!allItemsSelected) {
                    resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">الرجاء اختيار النقاط لكل بند</strong> قبل الحساب.';
                    resultadoDiv.className = 'resultado bg-info-orange-light';
                    delete resultadoDiv.dataset.score;
                    return;
                }

                let grauRisco = '';
                let resultadoClasse = '';

                if (totalScore <= 5) {
                    grauRisco = 'خطر منخفض لحدوث خلل وظيفي في الأعضاء';
                    resultadoClasse = 'bg-pelod-baixo';
                } else if (totalScore <= 15) {
                    grauRisco = 'خطر متوسط لحدوث خلل وظيفي في الأعضاء';
                    resultadoClasse = 'bg-pelod-moderado';
                } else if (totalScore <= 25) {
                    grauRisco = 'خطر مرتفع لحدوث خلل وظيفي في الأعضاء';
                    resultadoClasse = 'bg-pelod-alto';
                } else {
                    grauRisco = 'خطر مرتفع جداً لحدوث خلل وظيفي في الأعضاء';
                    resultadoClasse = 'bg-pelod-muito-alto';
                }

                resultadoDiv.innerHTML = `<p>إجمالي نقاط PRISM: <strong class="font-bold">${totalScore}</strong></p><p>درجة الخطورة: <strong class="font-bold">${grauRisco}</strong></p>`;
                resultadoDiv.className = `resultado ${resultadoClasse}`;
                
                resultadoDiv.dataset.score = totalScore;
                resultadoDiv.dataset.grauRisco = grauRisco;
                resultadoDiv.dataset.scaleName = "مقياس PRISM";
            }

            function limparCampos() {
                prismData.forEach(item => {
                    const selectElement = document.getElementById(item.nameAttr);
                    selectElement.selectedIndex = 0;
                    document.getElementById(`${item.nameAttr}_score_display`).innerText = '٠';
                });
                resultadoDiv.innerHTML = '';
                resultadoDiv.className = 'resultado hidden';
                delete resultadoDiv.dataset.score;
                delete resultadoDiv.dataset.grauRisco;
                delete resultadoDiv.dataset.scaleName;
            }

            // يملأ النموذج ديناميكياً
            prismData.forEach((item, index) => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'prism-criterion-card';
                
                const headerDiv = document.createElement('div');
                headerDiv.className = 'prism-criterion-header';

                const titleH3 = document.createElement('h3');
                titleH3.className = 'prism-criterion-title';
                titleH3.innerText = item.domain;
                headerDiv.appendChild(titleH3);

                const scoreSpan = document.createElement('span');
                scoreSpan.className = 'prism-score-display';
                scoreSpan.id = `${item.nameAttr}_score_display`;
                scoreSpan.innerText = '٠';
                headerDiv.appendChild(scoreSpan);
                
                sectionDiv.appendChild(headerDiv);

                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'prism-criterion-options';

                const selectElement = document.createElement('select');
                selectElement.id = item.nameAttr;
                selectElement.className = 'prism-select';
                selectElement.onchange = () => updateScoreDisplay(item.nameAttr);

                const defaultOption = document.createElement('option');
                defaultOption.value = "";
                defaultOption.text = "اختر...";
                defaultOption.disabled = true;
                defaultOption.selected = true;
                selectElement.appendChild(defaultOption);

                item.options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option.score;
                    optionElement.text = `${option.text} (${option.score})`;
                    selectElement.appendChild(optionElement);
                });

                optionsDiv.appendChild(selectElement);
                sectionDiv.appendChild(optionsDiv);
                conteudoDiv.appendChild(sectionDiv);
            });

            // يضيف مستمعي الأحداث للأزرار
            btnCalcular?.addEventListener('click', calcularPontuacao);
            btnLimpar?.addEventListener('click', limparCampos);

            btnGerarPDF?.addEventListener('click', () => {
                if (!resultadoDiv.dataset.score) {
                    alert('الرجاء النقر على "احسب" أولاً لإنشاء PDF.');
                    return;
                }
                if (typeof gerarPDFGlobal === 'function') {
                    gerarPDFGlobal({
                        titulo: 'مقياس PRISM',
                        subtitulo: 'تقرير تقييم مخاطر الوفيات لدى الأطفال',
                        nomeArquivo: 'تقرير_مقياس_prism.pdf',
                        seletorConteudo: '.main-content-wrapper'
                    });
                } else {
                    console.error('الدالة gerarPDFGlobal غير محددة.');
                }
            });
            
            btnNandaNicNoc?.addEventListener('click', () => {
                const score = resultadoDiv.dataset.score;
                const scaleName = resultadoDiv.dataset.scaleName;
                const grauRisco = resultadoDiv.dataset.grauRisco;
                if (!score || !grauRisco) {
                    alert('احسب النتيجة للبحث عن الإجراء.');
                    return;
                }
                const searchQuery = encodeURIComponent(`${scaleName} نقاط ${score} خطر ${grauRisco} إنشاء تصنيف NANDA وإنشاء تصنيف NIC وإنشاء تصنيف NOC`);
                window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
            });
        });
    </script>

    <script type="text/javascript">
	atOptions = {
		'key' : '1e009bba81deb2bc366b3c4ac030f6be',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
    </script>

    <script src="../lang-selector.js" defer></script>
    <div id="adterra-banner-container" style="min-height: 90px; width: 100%; text-align: center; margin: 10px 0;">
        <script type='text/javascript' async src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>
    </div>

    <script>
        fetch('/ar/footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });
    </script>
</body>
</html>