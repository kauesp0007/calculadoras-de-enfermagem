<!doctype html>
<html lang="ar" dir="rtl">
  <head>
 <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
 <link rel="dns-prefetch" href="//googleads.g.doubleclick.net">
 <link rel="dns-prefetch" href="//www.googletagservices.com">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6472730056006847" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- تم تغيير المسارات للملفات المعيارية إلى مجلد /ar/ -->
    <link rel="preload" href="/ar/menu-global.html" as="fetch" crossorigin />
    <link
      rel="preload"
      href="/ar/global-body-elements.html"
      as="fetch"
      crossorigin
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>مقياس جوفيت - تقييم مستوى الوعي - حاسبات التمريض</title>

    <!-- تم تحديث الرابط الأساسي (canonical) وعلامات hreflang لنسخة اللغة العربية -->
    <link
      rel="canonical"
      href="https://www.calculadorasdeenfermagem.com.br/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="pt-br"
      href="https://www.calculadorasdeenfermagem.com.br/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="en"
      href="https://www.calculadorasdeenfermagem.com.br/en/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="es"
      href="https://www.calculadorasdeenfermagem.com.br/es/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="fr"
      href="https://www.calculadorasdeenfermagem.com.br/fr/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="de"
      href="https://www.calculadorasdeenfermagem.com.br/de/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="it"
      href="https://www.calculadorasdeenfermagem.com.br/it/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="ja"
      href="https://www.calculadorasdeenfermagem.com.br/ja/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="zh"
      href="https://www.calculadorasdeenfermagem.com.br/zh/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="hi"
      href="https://www.calculadorasdeenfermagem.com.br/hi/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="ar"
      href="https://www.calculadorasdeenfermagem.com.br/ar/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="ru"
      href="https://www.calculadorasdeenfermagem.com.br/ru/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="tr"
      href="https://www.calculadorasdeenfermagem.com.br/tr/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="ko"
      href="https://www.calculadorasdeenfermagem.com.br/ko/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="nl"
      href="https://www.calculadorasdeenfermagem.com.br/nl/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="pl"
      href="https://www.calculadorasdeenfermagem.com.br/pl/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="sv"
      href="https://www.calculadorasdeenfermagem.com.br/sv/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="id"
      href="https://www.calculadorasdeenfermagem.com.br/id/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="vi"
      href="https://www.calculadorasdeenfermagem.com.br/vi/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="uk"
      href="https://www.calculadorasdeenfermagem.com.br/uk/ar/jouvet.html"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://www.calculadorasdeenfermagem.com.br/ar/jouvet.html"
    />

    <!-- تم تحديث مسار الأيقونة ليعكس المجلد /ar/ -->
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />

    <!-- تم تحسين الوصف (description) لمحركات البحث باللغة العربية -->
    <meta
      name="description"
      content="احسب مقياس غيبوبة جوفيت لتقييم مستوى الوعي لدى المرضى، أداة أساسية لطب الأعصاب والعناية المركزة."
    />

    <!-- تم تحديث علامات Open Graph للغة العربية -->
    <meta
      property="og:title"
      content="مقياس جوفيت - تقييم مستوى الوعي - حاسبات التمريض"
    />
    <meta
      property="og:description"
      content="حاسبة مقياس غيبوبة جوفيت لتقييم مستوى الوعي لدى المرضى، أداة أساسية لطب الأعصاب والعناية المركزة."
    />
    <meta
      property="og:url"
      content="https://www.calculadorasdeenfermagem.com.br/ar/jouvet.html"
    />
    <meta
      property="og:image"
      content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="مقياس جوفيت - تقييم مستوى الوعي - حاسبات التمريض"
    />
    <meta
      name="twitter:description"
      content="حاسبة مقياس غيبوبة جوفيت لتقييم مستوى الوعي لدى المرضى، أداة أساسية لطب الأعصاب والعناية المركزة."
    />
    <meta
      name="twitter:image"
      content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp"
    />

    <link href="/public/output.css" rel="stylesheet" />
    <script
      async
      src="https://kit.fontawesome.com/083bed182a.js"
      crossorigin="anonymous"
    ></script>

    <!-- تم تحديث مسار ملف الأنماط العام ليعكس المجلد /ar/ -->
    <link
      rel="stylesheet"
      href="../global-styles.css"
      media="print"
      onload="this.media='all'"
    />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap"
      rel="stylesheet"
    />
    <!-- إضافة خطوط عربية لتحسين العرض -->
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <link
      rel="preload"
      href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript
      ><link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"
    /></noscript>

    <script src="https://www.googletagmanager.com/gtag/js?id=AW-952633102" defer></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("consent", "default", {
        analytics_storage: "denied",
        ad_storage: "denied",
        wait_for_update: 500,
      });
      gtag("config", "AW-952633102");
      gtag("config", "G-8FLJ59XXDK");
    </script>

    <!-- تم ترجمة JSON-LD -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "MedicalEntity",
        "name": "مقياس غيبوبة جوفيت",
        "url": "https://www.calculadorasdeenfermagem.com.br/ar/jouvet.html",
        "description": "حاسبة مقياس غيبوبة جوفيت لتقييم مستوى الوعي لدى المرضى، أداة أساسية لطب الأعصاب والعناية المركزة.",
        "alternateName": ["Jouvet Coma Scale"]
      }
    </script>

    <style>
      /* إضافة الخط العربي إلى الأنماط */
      body,
      .font-inter {
        font-family: "Cairo", "Inter", sans-serif;
      }
      .font-nunito {
        font-family: "Cairo", "Nunito Sans", sans-serif;
      }

      .resultado.bg-jouvet-1 {
        background-color: #d4edda;
        color: #155724;
      }
      .resultado.bg-jouvet-2 {
        background-color: #fff3cd;
        color: #856404;
      }
      .resultado.bg-jouvet-3 {
        background-color: #f8d7da;
        color: #721c24;
      }
      .bg-info-orange-light {
        background-color: #ffeeba;
        border-color: #ffb366;
        color: #856404;
      }

      .jouvet-criteria-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }
      .jouvet-criterion-card {
        background-color: #fff;
        border: 1px solid #d1d5db;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s ease;
      }
      .jouvet-criterion-card:hover {
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
      }
      .jouvet-criterion-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
        text-align: right; /* محاذاة RTL */
      }
      .jouvet-criterion-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1a3e74;
      }
      .jouvet-score-display {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1fa4e5;
      }
      .jouvet-select {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ccc;
        border-radius: 0.375rem;
        font-size: 1rem;
        color: #333;
        background-color: #fff;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: left 0.75rem center; /* تغيير اتجاه السهم لـ RTL */
        background-size: 1.5em 1.5em;
        text-align: right; /* محاذاة RTL */
      }
      .jouvet-select:focus {
        outline: none;
        border-color: #1fa4e5;
        box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
      }
      /* تعديلات RTL إضافية */
      .breadcrumb ol {
        display: flex;
        flex-wrap: wrap;
        padding: 0;
        margin: 0;
        list-style: none;
      }
      .breadcrumb li:not(:last-child)::after {
        content: "/";
        margin: 0 0.5rem;
        color: #6b7280;
      }
      .text-left {
        text-align: right !important;
      }
      .sm\:text-left {
        @media (min-width: 640px) {
          text-align: right !important;
        }
      }
      .justify-start {
        justify-content: flex-start;
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&family=Inter:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9472305505608641"
      crossorigin="anonymous"
    ></script>
  </head>
  <body class="bg-gray-50 text-gray-800 font-inter">
    <!-- تم ترجمة قائمة اختصارات الوصول -->
    <nav
      aria-label="اختصارات الوصول"
      class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline"
    >
      <a href="/" accesskey="I" class="block mb-2"
        >الانتقال إلى البداية [Alt + Shift + I]</a
      >
      <a href="#main-content" accesskey="C" class="block mb-2"
        >تخطي إلى المحتوى الرئيسي [Alt + Shift + C]</a
      >
      <a href="#barraAcessibilidade" accesskey="A" class="block mb-2"
        >تنشيط شريط الوصول [Alt + Shift + A]</a
      >
      <a href="#backToTopBtn" accesskey="T" class="block"
        >العودة إلى أعلى الصفحة [Alt + Shift + T]</a
      >
    </nav>

    <div
      id="statusMessage"
      class="sr-only"
      aria-live="polite"
      aria-atomic="true"
    ></div>

    <div id="global-header-container"></div>
    <!-- تم تحديث محدد اللغة ليعكس اللغة العربية كلغة حالية -->
    <div
      id="language-dropdown-wrapper"
      class="flex justify-end w-full"
      style="
        position: relative;
        z-index: 100;
        padding-left: 2rem;
        padding-right: 0;
      "
    >
      <!-- تم تعديل الحشو لـ RTL -->
      <div class="relative inline-block text-left z-50">
        <button
          id="langButton"
          class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100"
        >
          <img
            id="langFlag"
            width="20"
            height="16"
            src="../bandeira-arabia.webp"
            alt="AR"
            class="w-5 h-4 rounded-sm"
          />
          <!-- العلم العربي -->
          <span id="langText" class="text-gray-700 font-medium">العربية</span>
          <!-- اللغة العربية -->
          <svg
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>

        <!-- تم تحديث مسارات الأعلام في القائمة المنسدلة -->
        <div
          id="langMenu"
          class="hidden absolute left-0 mt-2 w-44 bg-white border rounded-lg shadow-lg"
        >
          <!-- تغيير right-0 إلى left-0 لـ RTL -->
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="pt"
            data-flag="../bandeira-brasil.webp"
          >
            <img
              src="../bandeira-brasil.webp"
              class="w-5 h-4 rounded-sm"
              alt="PT"
              width="20"
              height="16"
            /><span>Português</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="en"
            data-flag="../bandeira-eua.webp"
          >
            <img
              src="../bandeira-eua.webp"
              class="w-5 h-4 rounded-sm"
              alt="EN"
              width="20"
              height="16"
            /><span>English</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="es"
            data-flag="../bandeira-espanha.webp"
          >
            <img
              src="../bandeira-espanha.webp"
              class="w-5 h-4 rounded-sm"
              alt="ES"
              width="20"
              height="16"
            /><span>Español</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="de"
            data-flag="../bandeira-alemanha.webp"
          >
            <img
              src="../bandeira-alemanha.webp"
              class="w-5 h-4 rounded-sm"
              alt="DE"
              width="20"
              height="16"
            /><span>Deutsch</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="it"
            data-flag="../bandeira-italia.webp"
          >
            <img
              src="../bandeira-italia.webp"
              class="w-5 h-4 rounded-sm"
              alt="IT"
              width="20"
              height="16"
            /><span>Italiano</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="fr"
            data-flag="../bandeira-franca.webp"
          >
            <img
              src="../bandeira-franca.webp"
              class="w-5 h-4 rounded-sm"
              alt="FR"
              width="20"
              height="16"
            /><span>Français</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="hi"
            data-flag="../bandeira-india.webp"
          >
            <img
              src="../bandeira-india.webp"
              class="w-5 h-4 rounded-sm"
              alt="HI"
              width="20"
              height="16"
            /><span>हिन्दी</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="zh"
            data-flag="../bandeira-china.webp"
          >
            <img
              src="../bandeira-china.webp"
              class="w-5 h-4 rounded-sm"
              alt="ZH"
              width="20"
              height="16"
            /><span>中文</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="ar"
            data-flag="../bandeira-arabia.webp"
          >
            <img
              src="../bandeira-arabia.webp"
              class="w-5 h-4 rounded-sm"
              alt="AR"
              width="20"
              height="16"
            /><span>العربية</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="ja"
            data-flag="../bandeira-japao.webp"
          >
            <img
              src="../bandeira-japao.webp"
              class="w-5 h-4 rounded-sm"
              alt="JA"
              width="20"
              height="16"
            /><span>日本語</span>
          </div>
        </div>
      </div>
    </div>
    <main id="main-content" class="flex-grow p-4 sm:p-8">
      <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
        <!-- تم تعديل مسارات التنقل والترجمة -->
        <nav class="breadcrumb" aria-label="breadcrumb">
          <ol>
            <li><a href="index.html">الرئيسية</a></li>
            <li><a href="#">حاسبات</a></li>
            <li>مقياس جوفيت</li>
          </ol>
        </nav>

        <div
          class="flex flex-col items-center justify-center gap-4 mb-3 text-center"
        >
          <h1
            id="main-title"
            class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl"
          >
            مقياس جوفيت
          </h1>
        </div>
        <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

        <h2
          id="main-subtitle"
          class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center"
        >
          تقييم مستوى الوعي
        </h2>
        <p id="description-text" class="text-gray-700 mb-6 text-right">
          مقياس غيبوبة جوفيت هو أداة تستخدم لتقييم مستوى وعي المريض، خاصة في
          حالات الغيبوبة الناتجة عن أمراض عصبية أو في الحالات الخضرية الدائمة.
          يركز على تقييم الإدراك والتفاعلية لدى المريض، سواء للمنبهات القشرية أو
          لمنبهات جذع الدماغ. على عكس مقياس غلاسكو، يُستخدم مقياس جوفيت بشكل
          أكبر لتقييم المرضى في حالات أعمق من تغير الوعي، مثل الغيبوبة.
        </p>
        <!-- تم محاذاة النص لليمين وترجمة العناوين واستخدام الأرقام العربية -->
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
        >
          <strong>سنة الإنشاء:</strong> بين عقدي ١٩٦٠ و ١٩٧٠.
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
        >
          <strong>المؤلفون:</strong> البروفيسور ميشيل جوفيت
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
        >
          <strong>المجال المستخدم:</strong> وحدة العناية المركزة (ICU).
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
        >
          <strong>المعايير المقيمة:</strong> الإدراك، التفاعلية غير النوعية،
          التفاعلية النوعية للألم، والتفاعلية اللاإرادية.
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
        >
          <strong>من يستخدمها؟:</strong> أطباء العناية المركزة، أطباء الأعصاب،
          وممرضو العناية المركزة.
        </p>
        <p
          class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-right"
        >
          اختر عنصرًا لكل معامل من مقياس جوفيت:
        </p>

        <div id="conteudo" class="jouvet-criteria-container"></div>

        <div
          id="resultado"
          class="resultado hidden text-right"
          aria-live="polite"
        ></div>
        <!-- تمت إضافة text-right -->

        <!-- تم تعديل ترتيب الأزرار لـ RTL وترجمة العناوين -->
        <div class="flex flex-wrap justify-start gap-4 mt-6">
          <button
            id="btnCalcular"
            class="btn-primary"
            aria-label="حساب مستوى جوفيت"
          >
            احسب
          </button>
          <button id="btnLimpar" class="btn-primary" aria-label="مسح الحقول">
            مسح
          </button>
          <button id="btnGerarPDF" class="btn-secondary" aria-label="إنشاء PDF">
            إنشاء PDF
          </button>
          <button
            id="btnNandaNicNoc"
            class="btn-primary"
            aria-label="بحث NANDA, NIC, NOC"
          >
            NANDA, NIC, NOC
          </button>
        </div>

        <!-- تم ترجمة قسم المراجع ومحاذاته لليمين -->
        <div
          class="ref font-inter text-gray-custom text-right mt-8 border-t pt-4"
        >
          <strong>المراجع الببليوغرافية:</strong>
          <p class="mt-2" style="text-align: left; direction: ltr">
            <!-- المرجع باللغة الإنجليزية يبقى LTR -->
            Filho, A. (2006). A Escala de Coma de Jouvet. In: Albino Filho, J.
            (Org.).
            <a
              href="https://www.marilia.unesp.br/Home/Pos-Graduacao/Filosofia/Dissertacoes/albinofilho_ma_me.pdf"
              target="_blank"
              rel="noopener noreferrer"
              class="text-light-blue hover:underline"
            >
              A morte encefálica: aspectos éticos, filosóficos e jurídicos.
              Marília: UNESP, p. 59.</a
            >
          </p>
        </div>
      </div>
    </main>

    <!-- Rodapé modularizado conforme solicitado -->
    <div id="footer-placeholder"></div>
    <script>
      fetch("footer.html") // 1. Busca o arquivo (presume-se أن يكون في /ar/footer.html)
        .then((response) => response.text()) // 2. Converte a resposta para texto (HTML)
        .then((data) => {
          // 3. Insere o HTML dentro do seu placeholder
          document.getElementById("footer-placeholder").innerHTML = data;
        });
    </script>

    <!-- تم تحديث مسار السكريبت العام -->
    <script src="../global-scripts.js" defer></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const resultadoDiv = document.getElementById("resultado");
        const btnCalcular = document.getElementById("btnCalcular");
        const btnLimpar = document.getElementById("btnLimpar");
        const btnGerarPDF = document.getElementById("btnGerarPDF");
        const btnNandaNicNoc = document.getElementById("btnNandaNicNoc");
        const conteudoDiv = document.getElementById("conteudo");

        // دالة لتحويل الأرقام الغربية إلى أرقام هندية (عربية)
        function toArabicNumerals(num) {
          const arabicNumerals = [
            "٠",
            "١",
            "٢",
            "٣",
            "٤",
            "٥",
            "٦",
            "٧",
            "٨",
            "٩",
          ];
          return String(num).replace(/[0-9]/g, (d) => arabicNumerals[d]);
        }

        // تم ترجمة بيانات مقياس جوفيت وإضافة الأرقام العربية
        const jouvetData = [
          {
            parameter: "الإدراك",
            nameAttr: "perceptividade",
            options: [
              {
                description: "واضح، يطيع الأوامر المعقدة، حتى المكتوبة",
                score: 5,
                arabicScore: "٥",
              },
              {
                description: "مرتبك ولا يطيع الأوامر المكتوبة",
                score: 4,
                arabicScore: "٤",
              },
              {
                description: "يطيع الأوامر اللفظية فقط",
                score: 3,
                arabicScore: "٣",
              },
              {
                description: "يظهر فقط طرف (blinking)",
                score: 2,
                arabicScore: "٢",
              },
              {
                description: "غياب الطرف (blinking)",
                score: 1,
                arabicScore: "١",
              },
            ],
          },
          {
            parameter: "التفاعلية غير النوعية",
            nameAttr: "reatividadeInespecifica",
            options: [
              {
                description: "يستيقظ ويتوجه للمنبهات اللفظية",
                score: 3,
                arabicScore: "٣",
              },
              {
                description: "يستيقظ فقط للمنبهات اللفظية",
                score: 2,
                arabicScore: "٢",
              },
              {
                description: "لا يستيقظ للمنبهات اللفظية",
                score: 1,
                arabicScore: "١",
              },
            ],
          },
          {
            parameter: "التفاعلية النوعية للألم",
            nameAttr: "reatividadeDor",
            options: [
              {
                description: "يستيقظ، يسحب، يقوم بتعبيرات وجهية وإصدار أصوات",
                score: 4,
                arabicScore: "٤",
              },
              {
                description: "يستيقظ، يسحب، بدون تعبيرات وجهية أو أصوات",
                score: 3,
                arabicScore: "٣",
              },
              { description: "فقط سحب حركي", score: 2, arabicScore: "٢" },
              { description: "استجابة سلبية", score: 1, arabicScore: "١" },
            ],
          },
          {
            parameter: "التفاعلية اللاإرادية",
            nameAttr: "reatividadeAutonomica",
            options: [
              {
                description: "تسارع دقات القلب، تسارع التنفس، توسع حدقة العين",
                score: 2,
                arabicScore: "٢",
              },
              { description: "استجابة سلبية", score: 1, arabicScore: "١" },
            ],
          },
        ];

        // --- وظائف حاسبة جوفيت ---
        function updateScoreDisplay(criterionId) {
          const selectElement = document.getElementById(criterionId);
          const scoreDisplayElement = document.getElementById(
            `${criterionId}_score_display`,
          );
          if (selectElement && scoreDisplayElement) {
            scoreDisplayElement.innerText =
              selectElement.value === ""
                ? toArabicNumerals(0)
                : toArabicNumerals(selectElement.value);
          }
        }

        function calcularPontuacao() {
          let totalScore = 0;
          let allCategoriesSelected = true;

          jouvetData.forEach((item) => {
            const selectElement = document.getElementById(item.nameAttr);
            if (selectElement.value === "") {
              allCategoriesSelected = false;
            } else {
              totalScore += parseInt(selectElement.value, 10);
            }
          });

          resultadoDiv.style.display = "block";
          if (!allCategoriesSelected) {
            // تم ترجمة رسالة التحذير
            resultadoDiv.innerHTML =
              '⚠️ <strong class="font-bold">يرجى اختيار خيار لكل معامل قبل الحساب.</strong>';
            resultadoDiv.className = "resultado bg-info-orange-light";
            delete resultadoDiv.dataset.score;
            return;
          }

          let nivelJouvet = "";
          let resultadoClasse = "";

          // تم ترجمة المستويات
          if (totalScore >= 10) {
            nivelJouvet = "المستوى الأول";
            resultadoClasse = "bg-jouvet-1";
          } else if (totalScore >= 7) {
            nivelJouvet = "المستوى الثاني";
            resultadoClasse = "bg-jouvet-2";
          } else {
            nivelJouvet = "المستوى الثالث";
            resultadoClasse = "bg-jouvet-3";
          }

          // تم ترجمة نصوص النتيجة واستخدام الأرقام العربية
          resultadoDiv.innerHTML = `<p>مجموع نقاط مقياس جوفيت: <strong class="font-bold">${toArabicNumerals(totalScore)}</strong></p><p>مستوى غيبوبة جوفيت: <strong class="font-bold">${nivelJouvet}</strong></p>`;
          resultadoDiv.className = `resultado ${resultadoClasse}`;

          resultadoDiv.dataset.score = totalScore;
          resultadoDiv.dataset.nivel = nivelJouvet;
          resultadoDiv.dataset.scaleName = "مقياس غيبوبة جوفيت";
        }

        function limparCampos() {
          jouvetData.forEach((item) => {
            const selectElement = document.getElementById(item.nameAttr);
            selectElement.selectedIndex = 0;
            document.getElementById(
              `${item.nameAttr}_score_display`,
            ).innerText = toArabicNumerals(0);
          });
          resultadoDiv.innerHTML = "";
          resultadoDiv.className = "resultado hidden";
          delete resultadoDiv.dataset.score;
          delete resultadoDiv.dataset.nivel;
          delete resultadoDiv.dataset.scaleName;
        }

        // يملأ النموذج ديناميكيًا
        jouvetData.forEach((item, index) => {
          const sectionDiv = document.createElement("div");
          sectionDiv.className = "jouvet-criterion-card";

          const headerDiv = document.createElement("div");
          headerDiv.className = "jouvet-criterion-header";

          const titleH3 = document.createElement("h3");
          titleH3.className = "jouvet-criterion-title";
          titleH3.innerText = item.parameter;
          headerDiv.appendChild(titleH3);

          const scoreSpan = document.createElement("span");
          scoreSpan.className = "jouvet-score-display";
          scoreSpan.id = `${item.nameAttr}_score_display`;
          scoreSpan.innerText = toArabicNumerals(0);
          headerDiv.appendChild(scoreSpan);

          sectionDiv.appendChild(headerDiv);

          const optionsDiv = document.createElement("div");
          optionsDiv.className = "jouvet-criterion-options";

          const selectElement = document.createElement("select");
          selectElement.id = item.nameAttr;
          selectElement.className = "jouvet-select";
          selectElement.onchange = () => updateScoreDisplay(item.nameAttr);

          const defaultOption = document.createElement("option");
          defaultOption.value = "";
          defaultOption.text = "اختر...";
          defaultOption.disabled = true;
          defaultOption.selected = true;
          selectElement.appendChild(defaultOption);

          item.options.forEach((option) => {
            const optionElement = document.createElement("option");
            optionElement.value = option.score;
            optionElement.text = `${option.description} (${option.arabicScore})`; // استخدام الأرقام العربية
            selectElement.appendChild(optionElement);
          });

          optionsDiv.appendChild(selectElement);
          sectionDiv.appendChild(optionsDiv);
          conteudoDiv.appendChild(sectionDiv);
        });

        // يضيف مستمعي الأحداث إلى الأزرار
        btnCalcular?.addEventListener("click", calcularPontuacao);
        btnLimpar?.addEventListener("click", limparCampos);

        btnGerarPDF?.addEventListener("click", () => {
          if (!resultadoDiv.dataset.score) {
            // تم ترجمة التنبيه
            alert('يرجى النقر فوق "احسب" أولاً لإنشاء ملف PDF.');
            return;
          }
          if (typeof gerarPDFGlobal === "function") {
            gerarPDFGlobal({
              titulo: "مقياس غيبوبة جوفيت",
              subtitulo: "تقرير تقييم مستوى الوعي",
              nomeArquivo: "relatorio_escala_jouvet.pdf",
              seletorConteudo: ".main-content-wrapper",
            });
          } else {
            console.error("الدالة gerarPDFGlobal غير معرفة.");
          }
        });

        btnNandaNicNoc?.addEventListener("click", () => {
          const score = resultadoDiv.dataset.score;
          const scaleName = resultadoDiv.dataset.scaleName;
          const nivel = resultadoDiv.dataset.nivel;
          if (!score || !nivel) {
            // تم ترجمة التنبيه
            alert("احسب النتيجة للبحث عن الإجراء.");
            return;
          }
          // تم ترجمة استعلام البحث
          const searchQuery = encodeURIComponent(
            `${scaleName} نتيجة ${score} مستوى ${nivel} إنشاء تصنيف NANDA, إنشاء تصنيف NIC وإنشاء تصنيف NOC`,
          );
          window.open(
            `https://www.google.com/search?q=${searchQuery}`,
            "_blank",
          );
        });
      });
    </script>

    <script src="/lang-selector.js" defer></script>
  </body>
</html>
