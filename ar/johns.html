<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6472730056006847" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="/ar/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/ar/global-body-elements.html" as="fetch" crossorigin>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>مقياس جونز هوبكنز - مخاطر السقوط - حاسبات التمريض</title>

  <!-- الصفحة الرئيسية بالعربية -->
<link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/ar/johns.html" />
<link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/ar/johns.html" />
<link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/ar/johns.html" />
<link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/ar/johns.html" />
<link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/ar/johns.html" />
<link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/ar/johns.html" />
<link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/ar/johns.html" />
<link rel="alternate" hreflang="ja" href="https://www.calculadorasdeenfermagem.com.br/ja/ar/johns.html" />
<link rel="alternate" hreflang="zh" href="https://www.calculadorasdeenfermagem.com.br/zh/ar/johns.html" />
<link rel="alternate" hreflang="hi" href="https://www.calculadorasdeenfermagem.com.br/hi/ar/johns.html" />
<link rel="alternate" hreflang="ar" href="https://www.calculadorasdeenfermagem.com.br/ar/ar/johns.html" />
<link rel="alternate" hreflang="ru" href="https://www.calculadorasdeenfermagem.com.br/ru/ar/johns.html" />
<link rel="alternate" hreflang="tr" href="https://www.calculadorasdeenfermagem.com.br/tr/ar/johns.html" />
<link rel="alternate" hreflang="ko" href="https://www.calculadorasdeenfermagem.com.br/ko/ar/johns.html" />
<link rel="alternate" hreflang="nl" href="https://www.calculadorasdeenfermagem.com.br/nl/ar/johns.html" />
<link rel="alternate" hreflang="pl" href="https://www.calculadorasdeenfermagem.com.br/pl/ar/johns.html" />
<link rel="alternate" hreflang="sv" href="https://www.calculadorasdeenfermagem.com.br/sv/ar/johns.html" />
<link rel="alternate" hreflang="id" href="https://www.calculadorasdeenfermagem.com.br/id/ar/johns.html" />
<link rel="alternate" hreflang="vi" href="https://www.calculadorasdeenfermagem.com.br/vi/ar/johns.html" />
<link rel="alternate" hreflang="uk" href="https://www.calculadorasdeenfermagem.com.br/uk/ar/johns.html" />
<link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/ar/johns.html" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <meta name="description" content="احسب مقياس جونز هوبكنز لتقييم مخاطر السقوط لدى المرضى، مع التصنيف وخطة الرعاية. أداة أساسية لسلامة المريض." />
  <meta property="og:title" content="مقياس جونز هوبكنز - مخاطر السقوط - حاسبات التمريض" />
  <meta property="og:description" content="حاسبة مقياس جونز هوبكنز لتقييم مخاطر السقوط لدى المرضى، مع التصنيف وخطة الرعاية. أداة أساسية لسلامة المريض." />
  <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/ar/johns.html" />
  <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="مقياس جونز هوبكنز - مخاطر السقوط - حاسبات التمريض" />
  <meta name="twitter:description" content="حاسبة مقياس جونز هوبكنز لتقييم مخاطر السقوط لدى المرضى، مع التصنيف وخطة الرعاية. أداة أساسية لسلامة المريض." />
  <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />

  <link rel="preload" href="/public/output.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="/public/output.css"></noscript>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="../global-styles.css" media="print" onload="this.media='all'">
  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap" rel="stylesheet">
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"></noscript>

  <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('consent', 'default', {
        'analytics_storage': 'denied',
        'ad_storage': 'denied',
        'wait_for_update': 500
    });
    gtag('config', 'AW-952633102');
    gtag('config', 'G-8FLJ59XXDK');
  </script>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "MedicalEntity",
    "name": "مقياس جونز هوبكنز لمخاطر السقوط",
    "url": "https://www.calculadorasdeenfermagem.com.br/ar/johns.html",
    "description": "حاسبة مقياس جونز هوبكنز لتقييم مخاطر السقوط لدى المرضى، مع التصنيف وخطة الرعاية. أداة أساسية لسلامة المريض.",
    "alternateName": ["Johns Hopkins Fall Risk Scale", "JHFRAS"]
  }
  </script>

  <style>
    .resultado.bg-red-100 { background-color: #fee2e2; color: #dc2626; }
    .resultado.bg-yellow-100 { background-color: #fefce8; color: #d97706; }
    .resultado.bg-green-100 { background-color: #dcfce7; color: #15803d; }
    .bg-info-orange-light { background-color: #ffeeba; border-color: #ffb366; color: #856404; }

    .johns-criteria-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }
    .johns-criterion-card {
        background-color: #fff;
        border: 1px solid #d1d5db;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s ease;
    }
    .johns-criterion-card:hover {
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
    }
    .johns-criterion-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
        text-align: right;
    }
    .johns-criterion-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1A3E74;
    }
    .johns-score-display {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1FA4E5;
    }
    .johns-select {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ccc;
        border-radius: 0.375rem;
        font-size: 1rem;
        color: #333;
        background-color: #fff;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: left 0.75rem center;
        background-size: 1.5em 1.5em;
    }
    .johns-select:focus {
        outline: none;
        border-color: #1FA4E5;
        box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
    }
  </style>
<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9472305505608641" crossorigin="anonymous"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-inter" dir="rtl">    

  <nav aria-label="اختصارات إمكانية الوصول" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:right-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
    <a href="/ar/index.html" accesskey="I" class="block mb-2">الانتقال إلى الصفحة الرئيسية [Alt + Shift + I]</a>
    <a href="#main-content" accesskey="C" class="block mb-2">التخطي إلى المحتوى الرئيسي [Alt + Shift + C]</a>
    <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">تفعيل شريط إمكانية الوصول [Alt + Shift + A]</a>
    <a href="#backToTopBtn" accesskey="T" class="block">العودة إلى أعلى الصفحة [Alt + Shift + T]</a>
  </nav>

  <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

  <div id="global-header-container"></div>
<div id="language-dropdown-wrapper" class="flex justify-start w-full" style="position:relative; z-index:100; padding-left:2rem;">
  <div class="relative inline-block text-left z-50">
    <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
      <img id="langFlag" width="20" height="16" src="../bandeira-arabia.webp" alt="AR" class="w-5 h-4 rounded-sm">
      <span id="langText" class="text-gray-700 font-medium">العربية</span>
      <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </button>

    <div id="langMenu" class="hidden absolute left-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ar" data-flag="../bandeira-arabia.webp">
    <img src="../bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR" width="20" height="16"><span>العربية</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="../bandeira-eua.webp">
    <img src="../bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN" width="20" height="16"><span>English</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="../bandeira-espanha.webp">
    <img src="../bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES" width="20" height="16"><span>Español</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="../bandeira-alemanha.webp">
    <img src="../bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE" width="20" height="16"><span>Deutsch</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="../bandeira-italia.webp">
    <img src="../bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT" width="20" height="16"><span>Italiano</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="../bandeira-franca.webp">
    <img src="../bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR" width="20" height="16"><span>Français</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="hi" data-flag="../bandeira-india.webp">
    <img src="../bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="HI" width="20" height="16"><span>हिन्दी</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="zh" data-flag="../bandeira-china.webp">
    <img src="../bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="ZH" width="20" height="16"><span>中文</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="../bandeira-brasil.webp">
    <img src="../bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="PT" width="20" height="16"><span>Português</span>
  </div>
  <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ja" data-flag="../bandeira-japao.webp">
    <img src="../bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JA" width="20" height="16"><span>日本語</span>
  </div>
</div>
  </div>
</div><main id="main-content" class="flex-grow p-4 sm:p-8">
    <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
      <nav class="breadcrumb" aria-label="مسار التنقل"><ol><li><a href="index.html">الرئيسية</a></li><li><a href="#">الحاسبات</a></li><li>مقياس جونز هوبكنز</li></ol></nav>

      <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
        <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
          مقياس جونز هوبكنز - مخاطر السقوط
        </h1>
      </div>
      <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

      <p id="intro-description-text" class="text-gray-700 mb-6 text-right">
          <strong>الهدف السادس لسلامة المريض:</strong> تقليل مخاطر السقوط والإصابات الناجمة عن السقوط في بيئات الرعاية الصحية.<br><br>
          يهدف هذا المقياس إلى تحديد المرضى المقيمين في المستشفى المعرضين لخطر السقوط، وتصنيفهم إلى خطر منخفض، أو متوسط، أو مرتفع، بناءً على العوامل السريرية والمعرفية والوظيفية. يسمح التطبيق باعتماد تدابير وقائية فعالة وفردية.
      </p>
      <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>سنة الإنشاء:</strong> ٢٠٠٠
    </p>
    <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المؤلفون:</strong> ستيفاني إس. بو وفريقها.
    </p>
    <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المجال المستخدم:</strong> أقسام التنويم الطبي والجراحي.
    </p>
    <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المعايير المُقَيّمة:</strong> العمر، التاريخ السابق للسقوط، الإخراج، الأدوية، استخدام المعدات المساعدة، الحركة والإدراك.
    </p>
    <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right">
        <strong>المستخدمون:</strong> الممرضون.
    </p>
      <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-right">
        اختر النقاط لكل معيار:
      </p>

      <div id="conteudo">
        </div>

      <div id="resultado" class="resultado hidden" aria-live="polite"></div>

      <div class="flex flex-wrap justify-start gap-4 mt-6">
        <button id="btnCalcular" class="btn-primary" aria-label="حساب مقياس جونز هوبكنز">
          احسب
        </button>
        <button id="btnLimpar" class="btn-primary" aria-label="مسح الحقول">
          امسح
        </button>
        <button id="btnGerarPDF" class="btn-secondary" aria-label="إنشاء PDF">
          إنشاء PDF
        </button>
        <button id="btnNandaNicNoc" class="btn-primary" aria-label="البحث عن NANDA, NIC, NOC">
            NANDA, NIC, NOC
        </button>
      </div>

      <div class="ref font-inter text-gray-custom text-right mt-8 border-t pt-4">
        <strong>المراجع الببليوغرافية:</strong>
        <p class="mt-2">
            Poe, S. S., Cvach, M. M., Dawson, P. B., Straus, H., & Hill, E. E. (2017). The Johns Hopkins Fall Risk Assessment Tool: A Study of Reliability and Validity. Journal of Nursing Care Quality, 32(2), 108–113. 
        </p>
      </div>
    </div>
  </main>

  <footer class="bg-[#1A3E74] text-white py-8">
      <div class="max-w-7xl mx-auto px-4">
          <div class="border-b border-white pb-4 mb-4">
              <div class="flex justify-start items-center">
                  <img src="https://www.calculadorasdeenfermagem.com.br/iconrodape1.webp" alt="شعار حاسبات التمريض في التذييل" width="120" height="84" class="h-auto w-auto max-w-[80px] max-h-[80px]" width="80" height="80"" width="80" height="80" loading="lazy" decoding="async">
              </div>
          </div>
          <div class="md:flex md:justify-between md:items-start md:space-x-8 md:items-stretch">
              <div class="mb-6 md:mb-0">
                  <p class="font-bold mb-2">المؤسسي</p>
                  <ul class="list-none space-y-1">
                      <li><a href="index.html" class="text-white hover:underline">الرئيسية</a></li>
                      <li><a href="missao.html" class="text-white hover:underline">من نحن</a></li>
                      <li><a href="mapa-do-site.html" class="text-white hover:underline">خريطة الموقع</a></li>
                      <li><a href="politica.html" class="text-white hover:underline">سياسات الكوكيز</a></li>
                      <li><a href="politica.html" class="text-white hover:underline">سياسة احتفاظ البيانات</a></li>
                      <li><a href="politica.html" class="text-white hover:underline">LGPD</a></li>
                      <li><a href="politica.html" class="text-white hover:underline">سياسات الخصوصية</a></li>
                      <li><a href="termos.html" class="text-white hover:underline">الشروط والأحكام</a></li>
                      <li><a href="politicadeacessibilidade.html" class="text-white hover:underline">سياسة إمكانية الوصول</a></li>
                  </ul>
              </div>
              <div class="mb-6 md:mb-0">
                  <h5 class="font-bold mb-2">الاستدامة الرقمية</h5>
                  <ul class="list-none space-y-1">
                      <li><a href="nossocompromisso.html" class="text-white hover:underline">التزامنا</a></li>
                      <li><a href="impactodigital.html" class="text-white hover:underline">تقرير الأثر</a></li>
                      <li><a href="tecnologiaverde.html" class="text-white hover:underline">التكنولوجيا الخضراء</a></li>
                  </ul>
              </div>
              <div class="mb-6 md:mb-0">
                  <h5 class="font-bold mb-2">التزامنا</h5>
                  <p class="text-white text-sm mb-2 max-w-sm md:max-w-xs">يتبنى موقعنا كمبدأ للحوكمة، الالتزام بمعايير عالية لإمكانية الوصول الرقمي، والاستدامة الرقمية، وحماية البيانات.</p>
                  <div class="flex space-x-4 items-center justify-start">
                      <img src="https://www.calculadorasdeenfermagem.com.br/seloacessibilidade.webp" alt="ختم إمكانية الوصول" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" width="80" height="80"" loading="lazy" decoding="async">
                      <img src="https://www.calculadorasdeenfermagem.com.br/selosustentabilidade.webp" alt="ختم الاستدامة" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" width="80" height="80"" loading="lazy" decoding="async">
                      <img src="https://www.calculadorasdeenfermagem.com.br/selolgpd.webp" alt="ختم LGPD" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" width="80" height="80"" loading="lazy" decoding="async">
                  </div>
              </div>
              <div class="flex flex-1 flex-col md:flex-row justify-end items-start md:items-start">
                  <div class="vertical-divider-footer-stretched hidden md:block"></div>
                  <div class="flex flex-col items-start space-y-4">
                      <h5 class="font-bold mb-2">تابعنا</h5>
                      <div class="flex space-x-4">
                          <a href="https://linkedin.com/company/calculadoras-de-enfermagem" target="_blank" class="footer-social-icon" title="LinkedIn" aria-label="الوصول إلى صفحتنا على LinkedIn"><i class="fab fa-linkedin text-xl"></i></a>
                          <a href="https://www.instagram.com/calculadorasdeenfermagem/" target="_blank" class="footer-social-icon" title="Instagram" aria-label="الوصول إلى صفحتنا على Instagram"><i class="fab fa-instagram text-xl"></i></a>
                          <a href="https://www.tiktok.com/@calculadorasdeenf" target="_blank" class="footer-social-icon" title="TikTok" aria-label="الوصول إلى صفحتنا على TikTok"><i class="fab fa-tiktok text-xl"></i></a>
                          <a href="https://www.youtube.com/channel/UC_6runTDHz8u5S1Yab842pg" target="_blank" class="footer-social-icon" title="YouTube" aria-label="الوصول إلى صفحتنا على YouTube"><i class="fab fa-youtube text-xl"></i></a>
                      </div>
                      <button id="openGranularCookieModalBtn" class="btn-secondary text-white mt-4 py-2 px-4 rounded-md" aria-label="إدارة تفضيلات الكوكيز">
                          إدارة تفضيلات الكوكيز
                      </button>
                  </div>
              </div>
          </div>
          <div class="mt-8 text-center">
              <p>© ٢٠٢٥ حاسبات التمريض. جميع الحقوق محفوظة.</p>
          </div>
      </div>
  </footer>

  
  
  <script src="../global-scripts.js" defer></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const resultadoDiv = document.getElementById('resultado');
        const btnCalcular = document.getElementById('btnCalcular');
        const btnLimpar = document.getElementById('btnLimpar');
        const btnGerarPDF = document.getElementById('btnGerarPDF');
        const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
        const conteudoDiv = document.getElementById('conteudo');
        
        // بيانات مقياس جونز هوبكنز
        const johnsData = [
            {
                category: "العمر",
                nameAttr: "idade",
                options: [
                    { description: "أقل من ٦٠ سنة", score: 0 },
                    { description: "٦٠-٦٩ سنة", score: 5 },
                    { description: "٧٠-٧٩ سنة", score: 10 },
                    { description: "٨٠ سنة أو أكثر", score: 15 }
                ]
            },
            {
                category: "السقوط السابق",
                nameAttr: "quedas",
                options: [
                    { description: "لا شيء", score: 0 },
                    { description: "نعم، خلال آخر ٦ أشهر", score: 15 }
                ]
            },
            {
                category: "الإخراج",
                nameAttr: "eliminacao",
                options: [
                    { description: "طبيعي", score: 0 },
                    { description: "الحاح أو تكرار", score: 5 },
                    { description: "سلس", score: 10 }
                ]
            },
            {
                category: "الأدوية",
                nameAttr: "medicacao",
                options: [
                    { description: "لا شيء", score: 0 },
                    { description: "مهدئات، مدرات البول، مسهلات، مخدرات", score: 10 }
                ]
            },
            {
                category: "المريض يستخدم معدات مساعدة",
                nameAttr: "equipamentos",
                options: [
                    { description: "السرير أو الكرسي", score: 0 },
                    { description: "عكاز، عصا، مشاية", score: 5 },
                    { description: "الاتكاء على الأثاث", score: 10 }
                ]
            },
            {
                category: "الحركة",
                nameAttr: "mobilidade",
                options: [
                    { description: "كاملة", score: 0 },
                    { description: "مقيدة أو ضعيفة", score: 10 }
                ]
            },
            {
                category: "الإدراك",
                nameAttr: "cognicao",
                options: [
                    { description: "واعي بالقيود", score: 0 },
                    { description: "ينسى القيود", score: 15 }
                ]
            }
        ];
      
        // --- وظائف حاسبة جونز هوبكنز ---
        function updateScoreDisplay(criterionId) {
            const selectElement = document.getElementById(criterionId);
            const scoreDisplayElement = document.getElementById(`${criterionId}_score_display`);
            if (selectElement && scoreDisplayElement) {
                scoreDisplayElement.innerText = selectElement.value === "" ? "٠" : selectElement.value;
            }
            calcular(); // إعادة حساب المجموع التلقائي
        }

        function calcular() {
            let total = 0;
            let allCategoriesSelected = true;

            johnsData.forEach(item => {
                const selectElement = document.getElementById(item.nameAttr);
                if (selectElement.value === "") {
                    allCategoriesSelected = false;
                } else {
                    total += parseInt(selectElement.value, 10);
                }
            });

            resultadoDiv.style.display = 'block';
            if (!allCategoriesSelected) {
                resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">يرجى اختيار خيار لكل فئة لحساب المخاطر.</strong>';
                resultadoDiv.className = 'resultado bg-info-orange-light';
                delete resultadoDiv.dataset.score;
                return;
            }

            let risco = '';
            let plano = '';
            let resultadoClass = '';

            if (total < 6) {
                risco = 'مخاطر منخفضة';
                plano = 'الحفاظ على المراقبة القياسية وتوجيه المريض حول الحركة الآمنة.';
                resultadoClass = 'bg-green-100';
            } else if (total <= 13) {
                risco = 'مخاطر متوسطة';
                plano = 'تنفيذ إجراءات احترازية مثل الإشارات والدعم في الحركة.';
                resultadoClass = 'bg-yellow-100';
            } else {
                risco = 'مخاطر عالية';
                plano = 'تطبيق بروتوكول الوقاية من السقوط مع الإشراف المستمر والتكيف البيئي.';
                resultadoClass = 'bg-red-100';
            }
            
            resultadoDiv.innerHTML = `<p>المجموع الكلي: <strong class="font-bold">${total}</strong></p><p>المخاطر: <strong class="font-bold">${risco}</strong></p><p>الخطة: <strong class="font-bold">${plano}</strong></p>`;
            resultadoDiv.className = `resultado ${resultadoClass}`;
            resultadoDiv.dataset.score = total;
            resultadoDiv.dataset.risco = risco;
            resultadoDiv.dataset.plano = plano;
            resultadoDiv.dataset.scaleName = "مقياس جونز هوبكنز لمخاطر السقوط";
        }

        function limparCampos() {
            johnsData.forEach(item => {
                document.getElementById(item.nameAttr).selectedIndex = 0;
                document.getElementById(`${item.nameAttr}_score_display`).innerText = '٠';
            });
            resultadoDiv.innerHTML = '';
            resultadoDiv.className = 'resultado hidden';
            delete resultadoDiv.dataset.score;
            delete resultadoDiv.dataset.risco;
            delete resultadoDiv.dataset.plano;
            delete resultadoDiv.dataset.scaleName;
        }

        // ملء النموذج ديناميكيًا
        johnsData.forEach((item, index) => {
            const sectionDiv = document.createElement('div');
            sectionDiv.className = 'johns-criterion-card';
            
            const headerDiv = document.createElement('div');
            headerDiv.className = 'johns-criterion-header';

            const titleH3 = document.createElement('h3');
            titleH3.className = 'johns-criterion-title';
            titleH3.innerText = item.category;
            headerDiv.appendChild(titleH3);

            const scoreSpan = document.createElement('span');
            scoreSpan.className = 'johns-score-display';
            scoreSpan.id = `${item.nameAttr}_score_display`;
            scoreSpan.innerText = '٠';
            headerDiv.appendChild(scoreSpan);
            
            sectionDiv.appendChild(headerDiv);

            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'johns-criterion-options';

            const selectElement = document.createElement('select');
            selectElement.id = item.nameAttr;
            selectElement.className = 'johns-select';
            selectElement.onchange = () => updateScoreDisplay(item.nameAttr);

            const defaultOption = document.createElement('option');
            defaultOption.value = "";
            defaultOption.text = "اختر...";
            defaultOption.disabled = true;
            defaultOption.selected = true;
            selectElement.appendChild(defaultOption);

            item.options.forEach(option => {
                const optionElement = document.createElement('option');
                optionElement.value = option.score;
                optionElement.text = `${option.description} (${option.score})`;
                selectElement.appendChild(optionElement);
            });

            optionsDiv.appendChild(selectElement);
            sectionDiv.appendChild(optionsDiv);
            conteudoDiv.appendChild(sectionDiv);
        });

        // إضافة مستمعي الأحداث للأزرار
        btnCalcular?.addEventListener('click', calcular);
        btnLimpar?.addEventListener('click', limparCampos);

        btnGerarPDF?.addEventListener('click', () => {
            if (!resultadoDiv.dataset.score) {
                alert('يرجى النقر على "احسب" أولاً لإنشاء ملف PDF.');
                return;
            }
            if (typeof gerarPDFGlobal === 'function') {
                gerarPDFGlobal({
                    titulo: 'مقياس جونز هوبكنز لمخاطر السقوط',
                    subtitulo: 'تقرير تقييم مخاطر السقوط',
                    nomeArquivo: 'relatorio_escala_johns_hopkins.pdf',
                    pontuacao: resultadoDiv.dataset.score,
                    classificacao: resultadoDiv.dataset.risco,
                    plano: resultadoDiv.dataset.plano,
                    nomeEscala: resultadoDiv.dataset.scaleName,
                    criterios: johnsData.map(item => {
                        const selectElement = document.getElementById(item.nameAttr);
                        const selectedOption = selectElement.options[selectElement.selectedIndex];
                        return {
                            nome: item.category,
                            valor: selectedOption.text.split(' (')[0],
                            pontuacao: selectElement.value
                        };
                    })
                });
            } else {
                alert('وظيفة إنشاء PDF غير متوفرة حالياً.');
            }
        });

        btnNandaNicNoc?.addEventListener('click', () => {
            if (!resultadoDiv.dataset.score) {
                alert('يرجى النقر على "احسب" أولاً للحصول على تصنيف المخاطر.');
                return;
            }
            const score = parseInt(resultadoDiv.dataset.score, 10);
            let nivelRisco = '';
            if (score < 6) nivelRisco = 'منخفض';
            else if (score <= 13) nivelRisco = 'متوسط';
            else nivelRisco = 'مرتفع';

            if (typeof abrirModalNandaNicNocGlobal === 'function') {
                abrirModalNandaNicNocGlobal('مخاطر السقوط', nivelRisco);
            } else {
                alert('وظيفة NANDA/NIC/NOC غير متوفرة حالياً.');
            }
        });
    });
  </script>
</body>
</html>