<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- Ajustado para carregar o menu da pasta 'ar/' -->
    <link rel="preload" href="menu-global.html" as="fetch" crossorigin />
    <link
      rel="preload"
      href="global-body-elements.html"
      as="fetch"
      crossorigin
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Título e SEO Otimizado para Árabe -->
    <title>مقياس بارثل - تقييم الاعتماد الوظيفي - حاسبات التمريض</title>

    <!-- Metatags e SEO -->
    <link
      rel="canonical"
      href="https://www.calculadorasdeenfermagem.com.br/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="pt-br"
      href="https://www.calculadorasdeenfermagem.com.br/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="en"
      href="https://www.calculadorasdeenfermagem.com.br/en/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="es"
      href="https://www.calculadorasdeenfermagem.com.br/es/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="fr"
      href="https://www.calculadorasdeenfermagem.com.br/fr/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="de"
      href="https://www.calculadorasdeenfermagem.com.br/de/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="it"
      href="https://www.calculadorasdeenfermagem.com.br/it/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="ja"
      href="https://www.calculadorasdeenfermagem.com.br/ja/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="zh"
      href="https://www.calculadorasdeenfermagem.com.br/zh/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="hi"
      href="https://www.calculadorasdeenfermagem.com.br/hi/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="ar"
      href="https://www.calculadorasdeenfermagem.com.br/ar/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="ru"
      href="https://www.calculadorasdeenfermagem.com.br/ru/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="tr"
      href="https://www.calculadorasdeenfermagem.com.br/tr/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="ko"
      href="https://www.calculadorasdeenfermagem.com.br/ko/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="nl"
      href="https://www.calculadorasdeenfermagem.com.br/nl/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="pl"
      href="https://www.calculadorasdeenfermagem.com.br/pl/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="sv"
      href="https://www.calculadorasdeenfermagem.com.br/sv/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="id"
      href="https://www.calculadorasdeenfermagem.com.br/id/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="vi"
      href="https://www.calculadorasdeenfermagem.com.br/vi/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="uk"
      href="https://www.calculadorasdeenfermagem.com.br/uk/ar/barthel.html"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://www.calculadorasdeenfermagem.com.br/ar/barthel.html"
    />

    <!-- Caminho do favicon ajustado -->
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />

    <!-- Descrição e Palavras-chave traduzidas para o árabe -->
    <meta
      name="description"
      content="احسب مقياس بارثل لتقييم الاعتماد الوظيفي في الأنشطة اليومية (ADLs) ودرجة الاستقلالية لدى الأشخاص ذوي الإعاقات الجسدية أو العصبية أو في إعادة التأهيل. أداة أساسية للتمريض وطب الشيخوخة."
    />
    <meta
      name="keywords"
      content="مقياس بارثل, مؤشر بارثل, الاعتماد الوظيفي, أنشطة الحياة اليومية, ABVDs, تقييم التمريض, طب الشيخوخة, إعادة التأهيل"
    />

    <!-- Open Graph (og:) tags traduzidos -->
    <meta
      property="og:title"
      content="مقياس بارثل - تقييم الاعتماد الوظيفي - حاسبات التمريض"
    />
    <meta
      property="og:description"
      content="احسب مقياس بارثل لتقييم الاعتماد الوظيفي في الأنشطة اليومية (ABVDs)."
    />
    <meta
      property="og:url"
      content="https://www.calculadorasdeenfermagem.com.br/ar/barthel.html"
    />
    <meta
      property="og:image"
      content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp"
    />

    <!-- Twitter card tags traduzidos -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="مقياس بارثل - تقييم الاعتماد الوظيفي - حاسبات التمريض"
    />
    <meta
      name="twitter:description"
      content="احسب مقياس بارثل لتقييم الاعتماد الوظيفي في الأنشطة اليومية (ABVDs)."
    />
    <meta
      name="twitter:image"
      content="https://www.calculadorasdeenfermagem.com.br/assets/iconpages.webp"
    />

    <!-- Scripts e Estilos Globais -->
    <link href="/public/output.css" rel="stylesheet" />
    <script
      async
      src="https://kit.fontawesome.com/083bed182a.js"
      crossorigin="anonymous"
    ></script>
    <!-- Caminho dos estilos globais ajustado -->
    <link
      rel="stylesheet"
      href="../global-styles.css"
      media="print"
      onload="this.media='all'"
    />

    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- Adicionando fontes árabes (Cairo) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Inter:wght@400;700&family=Nunito+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="preload"
      href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript
      ><link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"
    /></noscript>

    <!-- Google Analytics & Consent Mode -->
    <script
      defer
      src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("consent", "default", {
        analytics_storage: "denied",
        ad_storage: "denied",
        wait_for_update: 500,
      });
      gtag("config", "AW-952633102");
      gtag("config", "G-8FLJ59XXDK");
    </script>

    <!-- Schema.org Structured Data (traduzido) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "MedicalEntity",
        "name": "مقياس بارثل",
        "url": "https://www.calculadorasdeenfermagem.com.br/ar/barthel.html",
        "description": "حاسبة مقياس بارثل لتقييم الاعتماد الوظيفي في الأنشطة اليومية.",
        "alternateName": ["مؤشر بارثل", "تقييم ADLs"]
      }
    </script>

    <!-- Estilos Específicos da Página Barthel (com ajustes RTL) -->
    <style>
      /* Aplicando a fonte Cairo para o árabe */
      body,
      h1,
      h2,
      h3,
      p,
      span,
      div,
      button,
      label,
      summary,
      strong,
      input,
      select,
      option,
      form {
        font-family: "Cairo", "Inter", sans-serif;
      }
      .font-nunito {
        font-family: "Nunito Sans", "Cairo", sans-serif;
      }
      .font-inter {
        font-family: "Inter", "Cairo", sans-serif;
      }

      /* Estilo padrão para a caixa de resultado (com alinhamento RTL) */
      .standard-result-box {
        background-color: #ebf4ff; /* Azul claro */
        color: #1a3e74; /* Azul escuro */
        border-radius: 0.75rem; /* 12px */
        padding: 1.5rem; /* 24px */
        box-shadow:
          0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -2px rgba(0, 0, 0, 0.1);
        margin-top: 1.5rem;
        text-align: right; /* Alinhamento RTL */
      }
      .bg-info-orange-light {
        background-color: #ffeeba;
        color: #856404;
        text-align: right; /* Alinhamento RTL */
      }

      /* Estilos dos cards da calculadora (com alinhamento RTL) */
      .barthel-criterion-card {
        background-color: #fff;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        padding: 1rem 1.5rem;
        box-shadow:
          0 4px 6px -1px rgba(0, 0, 0, 0.07),
          0 2px 4px -2px rgba(0, 0, 0, 0.07);
        transition: box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }
      .barthel-criterion-card:hover {
        box-shadow:
          0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -4px rgba(0, 0, 0, 0.1);
      }
      .barthel-criterion-title {
        font-size: 1.125rem; /* text-lg */
        font-weight: 700;
        color: #1a3e74;
        text-align: right; /* Alinhamento RTL */
      }
      .barthel-select {
        width: 100%;
        padding: 0.75rem;
        padding-left: 3rem; /* Espaço para o ícone à esquerda em RTL */
        border: 1px solid #d1d5db;
        border-radius: 0.5rem;
        font-size: 1rem;
        color: #374151;
        background-color: #f9fafb;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: left 0.75rem center; /* Ícone à esquerda para RTL */
        background-size: 1.5em 1.5em;
        cursor: pointer;
      }
      .barthel-select:focus {
        outline: none;
        border-color: #1fa4e5;
        box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
      }
      .barthel-options-container {
        width: 100%;
      }

      @media (min-width: 640px) {
        .barthel-criterion-card {
          flex-direction: row;
          align-items: center;
          justify-content: space-between;
        }
        .barthel-criterion-title {
          flex-shrink: 0;
        }
        .barthel-options-container {
          flex-grow: 1;
          max-width: 60%;
        }
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9472305505608641"
      crossorigin="anonymous"
    ></script>
  </head>
  <body class="bg-gray-50 text-gray-800 font-inter">
    <!-- Skip Links (traduzido) -->
    <nav
      aria-label="روابط سريعة للوصول"
      class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline"
    >
      <a href="../index.html" accesskey="I" class="block mb-2"
        >الانتقال إلى البداية [Alt + Shift + I]</a
      >
      <a href="#main-content" accesskey="C" class="block mb-2"
        >الانتقال إلى المحتوى الرئيسي [Alt + Shift + C]</a
      >
      <a href="#barraAcessibilidade" accesskey="A" class="block mb-2"
        >تفعيل شريط الوصول [Alt + Shift + A]</a
      >
      <a href="#backToTopBtn" accesskey="T" class="block"
        >العودة إلى أعلى الصفحة [Alt + Shift + T]</a
      >
    </nav>

    <!-- ARIA Live Region -->
    <div
      id="statusMessage"
      class="sr-only"
      aria-live="polite"
      aria-atomic="true"
    ></div>

    <!-- Container para o Menu Global (chamado da pasta 'ar/') -->
    <div id="global-header-container"></div>
    <!-- Wrapper do seletor de idioma ajustado para RTL -->
    <div
      id="language-dropdown-wrapper"
      class="flex justify-start w-full"
      style="position: relative; z-index: 100; padding-left: 2rem"
    >
      <div class="relative inline-block text-left z-50">
        <button
          id="langButton"
          class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100"
        >
          <!-- Caminhos das bandeiras ajustados -->
          <img
            id="langFlag"
            width="20"
            height="16"
            src="../bandeira-arabia.webp"
            alt="AR"
            class="w-5 h-4 rounded-sm"
          />
          <span id="langText" class="text-gray-700 font-medium">العربية</span>
          <svg
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>

        <div
          id="langMenu"
          class="hidden absolute left-0 mt-2 w-44 bg-white border rounded-lg shadow-lg"
        >
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="pt"
            data-flag="../bandeira-brasil.webp"
          >
            <img
              src="../bandeira-brasil.webp"
              class="w-5 h-4 rounded-sm"
              alt="PT"
              width="20"
              height="16"
            /><span>Português</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="en"
            data-flag="../bandeira-eua.webp"
          >
            <img
              src="../bandeira-eua.webp"
              class="w-5 h-4 rounded-sm"
              alt="EN"
              width="20"
              height="16"
            /><span>English</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="es"
            data-flag="../bandeira-espanha.webp"
          >
            <img
              src="../bandeira-espanha.webp"
              class="w-5 h-4 rounded-sm"
              alt="ES"
              width="20"
              height="16"
            /><span>Español</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="de"
            data-flag="../bandeira-alemanha.webp"
          >
            <img
              src="../bandeira-alemanha.webp"
              class="w-5 h-4 rounded-sm"
              alt="DE"
              width="20"
              height="16"
            /><span>Deutsch</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="it"
            data-flag="../bandeira-italia.webp"
          >
            <img
              src="../bandeira-italia.webp"
              class="w-5 h-4 rounded-sm"
              alt="IT"
              width="20"
              height="16"
            /><span>Italiano</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="fr"
            data-flag="../bandeira-franca.webp"
          >
            <img
              src="../bandeira-franca.webp"
              class="w-5 h-4 rounded-sm"
              alt="FR"
              width="20"
              height="16"
            /><span>Français</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="hi"
            data-flag="../bandeira-india.webp"
          >
            <img
              src="../bandeira-india.webp"
              class="w-5 h-4 rounded-sm"
              alt="HI"
              width="20"
              height="16"
            /><span>हिन्दी</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="zh"
            data-flag="../bandeira-china.webp"
          >
            <img
              src="../bandeira-china.webp"
              class="w-5 h-4 rounded-sm"
              alt="ZH"
              width="20"
              height="16"
            /><span>中文</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="ar"
            data-flag="../bandeira-arabia.webp"
          >
            <img
              src="../bandeira-arabia.webp"
              class="w-5 h-4 rounded-sm"
              alt="AR"
              width="20"
              height="16"
            /><span>العربية</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="ja"
            data-flag="../bandeira-japao.webp"
          >
            <img
              src="../bandeira-japao.webp"
              class="w-5 h-4 rounded-sm"
              alt="JA"
              width="20"
              height="16"
            /><span>日本語</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Conteúdo Principal da Página -->
    <main id="main-content" class="flex-grow p-4 md:p-8">
      <div class="main-content-wrapper max-w-4xl mx-auto">
        <!-- Breadcrumb (traduzido) -->
        <nav class="breadcrumb" aria-label="المسار">
          <ol>
            <li><a href="../index.html">البداية</a></li>
            <li><a href="#">الحاسبات</a></li>
            <li>مقياس بارثل</li>
          </ol>
        </nav>

        <!-- Títulos (traduzidos) -->
        <div class="text-center mb-8">
          <h1
            id="main-title"
            class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl"
          >
            مقياس بارثل
          </h1>
          <div class="title-bar mx-auto mt-2"></div>
          <h2
            id="main-subtitle"
            class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mt-4"
          >
            تقييم الاعتماد الوظيفي في الأنشطة اليومية
          </h2>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
          <!-- Textos (traduzidos e alinhados para RTL) -->
          <p
            class="font-inter text-black-custom text-base lg:text-lg mb-6 text-center sm:text-right"
          >
            مقياس بارثل هو أداة تُستخدم لتقييم الاعتماد الوظيفي في الأنشطة
            اليومية، خاصة لدى الأشخاص ذوي الإعاقات الجسدية أو العصبية. يقيس قدرة
            الفرد على أداء ١٠ مهام أساسية، ويمنح نقاطًا تشير إلى درجة الاعتماد.
          </p>
          <p
            class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
          >
            <strong>سنة الإنشاء:</strong> ١٩٦٥
          </p>
          <p
            class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
          >
            <strong>المؤلفون:</strong> Mahoney FI و Barthel DW
          </p>
          <p
            class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
          >
            <strong>المجال المستخدم:</strong> أقسام رعاية المسنين، دور الرعاية،
            إعادة التأهيل، الرعاية المنزلية، وتقييم المرضى المصابين بجلطة دماغية
            أو حالات أخرى تؤثر على الحركة والاستقلالية.
          </p>
          <p
            class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
          >
            <strong>المعايير المقيمة:</strong> التغذية، الاستحمام، النظافة
            الشخصية، ارتداء الملابس، التحكم في الأمعاء، التحكم في المثانة،
            استخدام المرحاض، التنقل (سرير/كرسي)، الحركة (المشي)، وصعود الدرج.
          </p>
          <p
            class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-right"
          >
            <strong>من يستخدمه؟:</strong> أطباء الشيخوخة، أخصائيو العلاج
            الطبيعي، والممرضون
          </p>
          <p
            class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-center sm:text-right"
          >
            حدد النتيجة لكل نشاط:
          </p>

          <div
            id="conteudo"
            role="form"
            aria-labelledby="main-title"
            class="space-y-4"
          >
            <!-- Os cards da calculadora serão gerados aqui (em árabe) -->
          </div>

          <div id="resultado" class="hidden" aria-live="polite"></div>

          <!-- Botões (traduzidos) -->
          <div class="flex flex-wrap justify-start gap-4 mt-6">
            <button id="btnCalcular" class="btn-primary">احسب</button>
            <button id="btnLimpar" class="btn-primary">مسح</button>
            <button id="btnGerarPDF" class="btn-secondary">إنشاء PDF</button>
            <button id="btnNandaNicNoc" class="btn-primary">
              NANDA, NIC, NOC
            </button>
          </div>

          <!-- Referência (substituída, traduzida e alinhada para RTL) -->
          <div
            class="ref font-inter text-gray-custom text-right mt-8 border-t pt-4"
          >
            <strong>مرجع ببليوغرافي:</strong>
            <p class="mt-2" dir="ltr" style="text-align: right">
              Mahoney FI, Barthel DW. Functional Evaluation: The Barthel Index.
              Maryland State Medical Journal. 1965 Feb;14:61-5.
              <a
                href="https://pubmed.ncbi.nlm.nih.gov/14258950/"
                target="_blank"
                rel="noopener noreferrer"
                class="text-light-blue hover:underline"
              >
                (رابط PubMed)
              </a>
            </p>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer (chamado da pasta 'ar/') -->
    <div id="footer-placeholder"></div>

    <!-- Caminho do script global ajustado -->
    <script src="../global-scripts.js" defer></script>

    <!-- Script Específico da Página Barthel (Tradução e numeração árabe) -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Função para converter números ocidentais para orientais (árabes)
        function toArabicNumeral(n) {
          if (n === null || typeof n === "undefined") return "";
          const arabic = [
            "٠",
            "١",
            "٢",
            "٣",
            "٤",
            "٥",
            "٦",
            "٧",
            "٨",
            "٩",
            "١٠",
            "١٥",
            "٢٠",
            "٢١",
            "٥٠",
            "٦١",
            "٩١",
            "١٠٠",
          ]; // Incluindo números comuns
          const western = [
            "0",
            "1",
            "2",
            "3",
            "4",
            "5",
            "6",
            "7",
            "8",
            "9",
            "10",
            "15",
            "20",
            "21",
            "50",
            "61",
            "91",
            "100",
          ];

          let strN = String(n);
          let index = western.indexOf(strN);
          if (index !== -1) {
            return arabic[index];
          }
          // Fallback para números não listados (embora todos os usados estejam listados)
          return strN
            .split("")
            .map((digit) =>
              digit >= "0" && digit <= "9" ? arabic[parseInt(digit)] : digit,
            )
            .join("");
        }

        // Função para determinar a palavra correta para "ponto(s)" em árabe
        function scoreText(score) {
          if (score === 0) return "نقطة";
          if (score === 1) return "نقطة";
          if (score === 2) return "نقطتان";
          if (score >= 3 && score <= 10) return "نقاط";
          if (score > 10) return "نقطة"; // 15 نقطة
          return "نقاط"; // Padrão
        }

        const resultadoDiv = document.getElementById("resultado");
        const conteudoDiv = document.getElementById("conteudo");
        const btnCalcular = document.getElementById("btnCalcular");
        const btnLimpar = document.getElementById("btnLimpar");
        const btnGerarPDF = document.getElementById("btnGerarPDF");
        const btnNandaNicNoc = document.getElementById("btnNandaNicNoc");

        // Dados da escala (traduzidos para o árabe)
        const barthelData = [
          {
            activity: "التغذية",
            nameAttr: "alimentacao",
            options: [
              { score: 10, description: "مستقل" },
              { score: 5, description: "يحتاج مساعدة في التقطيع، إلخ." },
              { score: 0, description: "غير قادر" },
            ],
          },
          {
            activity: "الاستحمام",
            nameAttr: "banho",
            options: [
              { score: 5, description: "مستقل" },
              { score: 0, description: "معتمد" },
            ],
          },
          {
            activity: "النظافة الشخصية",
            nameAttr: "higienePessoal",
            options: [
              { score: 5, description: "مستقل (وجه/شعر/أسنان/حلاقة)" },
              { score: 0, description: "يحتاج مساعدة" },
            ],
          },
          {
            activity: "ارتداء الملابس",
            nameAttr: "vestir",
            options: [
              { score: 10, description: "مستقل" },
              { score: 5, description: "يحتاج مساعدة" },
              { score: 0, description: "معتمد" },
            ],
          },
          {
            activity: "التحكم في الأمعاء",
            nameAttr: "controleIntestino",
            options: [
              { score: 10, description: "متحكم" },
              { score: 5, description: "حادث عرضي" },
              { score: 0, description: "سلس" },
            ],
          },
          {
            activity: "التحكم في المثانة",
            nameAttr: "controleBexiga",
            options: [
              { score: 10, description: "متحكم" },
              { score: 5, description: "حادث عرضي" },
              { score: 0, description: "سلس" },
            ],
          },
          {
            activity: "استخدام المرحاض",
            nameAttr: "usoToilet",
            options: [
              { score: 10, description: "مستقل" },
              { score: 5, description: "يحتاج مساعدة" },
              { score: 0, description: "معتمد" },
            ],
          },
          {
            activity: "التنقل (سرير/كرسي)",
            nameAttr: "transferencia",
            options: [
              { score: 15, description: "مستقل" },
              { score: 10, description: "مساعدة بسيطة" },
              { score: 5, description: "مساعدة قصوى" },
              { score: 0, description: "غير قادر" },
            ],
          },
          {
            activity: "الحركة (المشي)",
            nameAttr: "mobilidade",
            options: [
              { score: 15, description: "مستقل > ٥٠م" },
              { score: 10, description: "يمشي بمساعدة > ٥٠م" },
              { score: 5, description: "كرسي متحرك مستقل > ٥٠م" },
              { score: 0, description: "طريح الفراش" },
            ],
          },
          {
            activity: "صعود الدرج",
            nameAttr: "escadas",
            options: [
              { score: 10, description: "مستقل" },
              { score: 5, description: "يحتاج مساعدة" },
              { score: 0, description: "غير قادر" },
            ],
          },
        ];

        function createForm() {
          conteudoDiv.innerHTML = ""; // Limpa o conteúdo existente
          barthelData.forEach((activityGroup) => {
            const card = document.createElement("div");
            card.className = "barthel-criterion-card";

            card.innerHTML = `
                    <h3 class="barthel-criterion-title">${activityGroup.activity}</h3>
                    <div class="barthel-options-container">
                        <select id="${activityGroup.nameAttr}-select" class="barthel-select" data-name="${activityGroup.nameAttr}" aria-label="${activityGroup.activity}">
                            <option value="" disabled selected>اختر خيارًا...</option>
                            ${activityGroup.options.map((opt) => `<option value="${opt.score}">${opt.description} (${toArabicNumeral(opt.score)})</option>`).join("")}
                        </select>
                    </div>
                `;
            conteudoDiv.appendChild(card);
          });
        }

        function calcular() {
          let totalScore = 0;
          let allSelected = true;

          barthelData.forEach((activityGroup) => {
            const select = document.getElementById(
              `${activityGroup.nameAttr}-select`,
            );
            if (select && select.value !== "") {
              totalScore += parseInt(select.value, 10);
            } else {
              allSelected = false;
            }
          });

          if (!allSelected) {
            resultadoDiv.innerHTML =
              '⚠️ <strong class="font-bold">يرجى تحديد خيار لكل نشاط.</strong>';
            resultadoDiv.className = "standard-result-box bg-info-orange-light";
            resultadoDiv.style.display = "block";
            delete resultadoDiv.dataset.score;
            return;
          }

          let classificacao = "";
          // Lógica JS com números ocidentais
          if (totalScore === 100) {
            classificacao = "استقلالية تامة";
          } else if (totalScore >= 91) {
            classificacao = "اعتماد طفيف";
          } else if (totalScore >= 61) {
            classificacao = "اعتماد متوسط";
          } else if (totalScore >= 21) {
            classificacao = "اعتماد شديد";
          } else {
            classificacao = "اعتماد كامل";
          }

          // Exibe numerais árabes
          resultadoDiv.innerHTML = `
                <p class="font-bold text-lg">النتيجة الإجمالية: <span class="font-black">${toArabicNumeral(totalScore)} / ${toArabicNumeral(100)}</span></p>
                <p class="font-bold text-lg">التصنيف: <span class="font-black">${classificacao}</span></p>
            `;
          resultadoDiv.className = "standard-result-box";
          resultadoDiv.style.display = "block";
          resultadoDiv.dataset.score = totalScore;
          resultadoDiv.dataset.classificacao = classificacao;
        }

        function limpar() {
          createForm(); // Recria o formulário para resetar os selects
          resultadoDiv.innerHTML = "";
          resultadoDiv.className = "hidden";
          delete resultadoDiv.dataset.score;
          delete resultadoDiv.dataset.classificacao;
        }

        createForm();
        btnCalcular?.addEventListener("click", calcular);
        btnLimpar?.addEventListener("click", limpar);

        btnGerarPDF?.addEventListener("click", () => {
          if (typeof resultadoDiv.dataset.score === "undefined") {
            alert('يرجى النقر على "احسب" أولاً لإنشاء ملف PDF.');
            return;
          }
          if (typeof gerarPDFGlobal === "function") {
            gerarPDFGlobal({
              titulo: "مقياس بارثل",
              subtitulo: "تقرير الاعتماد الوظيفي",
              nomeArquivo: "relatorio_escala_barthel.pdf",
              seletorConteudo: ".main-content-wrapper",
              direcao: "rtl", // Adiciona direção RTL para o PDF
            });
          } else {
            console.error("Função gerarPDFGlobal não definida.");
          }
        });

        btnNandaNicNoc?.addEventListener("click", () => {
          const classificacao = resultadoDiv.dataset.classificacao;
          if (!classificacao) {
            alert("احسب النتيجة للبحث عن الإجراء.");
            return;
          }
          // Traduz a consulta de pesquisa
          const searchQuery = encodeURIComponent(
            `مريض لديه ${classificacao} في مقياس بارثل تصنيف NANDA, NIC و NOC`,
          );
          window.open(
            `https://www.google.com/search?q=${searchQuery}`,
            "_blank",
          );
        });

        // Carrega o footer
        fetch("footer.html")
          .then((response) => response.text())
          .then((data) => {
            const footerPlaceholder =
              document.getElementById("footer-placeholder");
            if (footerPlaceholder) {
              footerPlaceholder.innerHTML = data;
            }
          });
      });
    </script>

    <!-- Caminho do seletor de idioma ajustado -->
    <script src="../lang-selector.js" defer></script>
  </body>
</html>
