<!doctype html>
<html lang="ko">
  <head>
<script defer src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6472730056006847" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preload" href="/menu-global.html" as="fetch" crossorigin />
    <link
      rel="preload"
      href="/global-body-elements.html"
      as="fetch"
      crossorigin
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>qSOFA - 수혈증 빠른 평가</title>

    <link
      rel="canonical"
      href="https://www.calculadorasdeenfermagem.com.br/ko/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="ko"
      href="https://www.calculadorasdeenfermagem.com.br/ko/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="pt-br"
      href="https://www.calculadorasdeenfermagem.com.br/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="en"
      href="https://www.calculadorasdeenfermagem.com.br/en/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="es"
      href="https://www.calculadorasdeenfermagem.com.br/es/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="fr"
      href="https://www.calculadorasdeenfermagem.com.br/fr/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="de"
      href="https://www.calculadorasdeenfermagem.com.br/de/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="it"
      href="https://www.calculadorasdeenfermagem.com.br/it/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="ja"
      href="https://www.calculadorasdeenfermagem.com.br/ja/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="zh"
      href="https://www.calculadorasdeenfermagem.com.br/zh/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="hi"
      href="https://www.calculadorasdeenfermagem.com.br/hi/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="ar"
      href="https://www.calculadorasdeenfermagem.com.br/ar/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="ru"
      href="https://www.calculadorasdeenfermagem.com.br/ru/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="tr"
      href="https://www.calculadorasdeenfermagem.com.br/tr/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="nl"
      href="https://www.calculadorasdeenfermagem.com.br/nl/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="pl"
      href="https://www.calculadorasdeenfermagem.com.br/pl/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="sv"
      href="https://www.calculadorasdeenfermagem.com.br/sv/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="id"
      href="https://www.calculadorasdeenfermagem.com.br/id/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="vi"
      href="https://www.calculadorasdeenfermagem.com.br/vi/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="uk"
      href="https://www.calculadorasdeenfermagem.com.br/uk/qsofa.html"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://www.calculadorasdeenfermagem.com.br/qsofa.html"
    />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <meta
      name="description"
      content="qSOFA 점수를 계산하여 수혈증 위험이 있는 감염 의심 환자를 신속히 식별하세요. 호흡수, 의식 수준, 수축기 혈압을 평가합니다."
    />
    <meta property="og:title" content="qSOFA - 수혈증 빠른 평가" />
    <meta
      property="og:description"
      content="수혈증 위험이 있는 감염 의심 환자의 신속한 선별을 위한 인터랙티브 qSOFA 점수 계산기. 호흡수, 의식 수준, 수축기 혈압을 평가합니다."
    />
    <meta
      property="og:url"
      content="https://www.calculadorasdeenfermagem.com.br/ko/qsofa.html"
    />
    <meta
      property="og:image"
      content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="qSOFA - 수혈증 빠른 평가" />
    <meta
      name="twitter:description"
      content="수혈증 위험이 있는 감염 의심 환자의 신속한 선별을 위한 인터랙티브 qSOFA 점수 계산기. 호흡수, 의식 수준, 수축기 혈압을 평가합니다."
    />
    <meta
      name="twitter:image"
      content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp"
    />

    <link href="/public/output.css" rel="stylesheet" />
    <script
      async
      src="https://kit.fontawesome.com/083bed182a.js"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="global-styles.css"
      media="print"
      onload="this.media='all'"
    />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap"
      rel="stylesheet"
    />
    <link
      rel="preload"
      href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    />
    <noscript
      ><link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"
    /></noscript>

    <script
      defer
      src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("consent", "default", {
        analytics_storage: "denied",
        ad_storage: "denied",
        wait_for_update: 500,
      });
      gtag("config", "AW-952633102");
      gtag("config", "G-8FLJ59XXDK");
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "MedicalEntity",
        "name": "qSOFA - 빠른 수혈증 관련 장기 기능 평가",
        "url": "https://www.calculadorasdeenfermagem.com.br/ko/qsofa.html",
        "description": "수혈증 위험이 있는 감염 의심 환자의 신속한 선별을 위한 인터랙티브 qSOFA 점수 계산기. 호흡수, 의식 수준, 수축기 혈압을 평가합니다.",
        "alternateName": ["qSOFA 점수 계산기", "빠른 수혈증 장기 기능 평가"]
      }
    </script>

    <style>
      .resultado.bg-qsofa-low {
        background-color: #d4edda;
        color: #155724;
      }
      .resultado.bg-qsofa-high {
        background-color: #f8d7da;
        color: #721c24;
      }
      .bg-info-orange-light {
        background-color: #ffeeba;
        border-color: #ffb366;
        color: #856404;
      }

      .qsofa-criteria-container {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }
      .qsofa-criterion-card {
        background-color: #fff;
        border: 1px solid #d1d5db;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s ease;
      }
      .qsofa-criterion-card:hover {
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
      }
      .qsofa-criterion-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
        text-align: left;
      }
      .qsofa-criterion-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1a3e74;
      }
      .qsofa-score-display {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1fa4e5;
      }
      .qsofa-select {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ccc;
        border-radius: 0.375rem;
        font-size: 1rem;
        color: #333;
        background-color: #fff;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.75rem center;
        background-size: 1.5em 1.5em;
      }
      .qsofa-select:focus {
        outline: none;
        border-color: #1fa4e5;
        box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&family=Inter:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9472305505608641"
      crossorigin="anonymous"
    ></script>
  </head>
  <body class="bg-gray-50 text-gray-800 font-inter">
    <nav
      aria-label="접근성 단축키"
      class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline"
    >
      <a href="/" accesskey="I" class="block mb-2"
        >홈으로 이동 [Alt + Shift + I]</a
      >
      <a href="#main-content" accesskey="C" class="block mb-2"
        >메인 콘텐츠로 건너뛰기 [Alt + Shift + C]</a
      >
      <a href="#barraAcessibilidade" accesskey="A" class="block mb-2"
        >접근성 도구 모음 활성화 [Alt + Shift + A]</a
      >
      <a href="#backToTopBtn" accesskey="T" class="block"
        >페이지 상단으로 돌아가기 [Alt + Shift + T]</a
      >
    </nav>

    <div
      id="statusMessage"
      class="sr-only"
      aria-live="polite"
      aria-atomic="true"
    ></div>

    <div id="global-header-container"></div>
    <div
      id="language-dropdown-wrapper"
      class="flex justify-end w-full"
      style="position: relative; z-index: 100; padding-right: 2rem"
    >
      <div class="relative inline-block text-left z-50">
        <button
          id="langButton"
          class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100"
        >
          <img
            id="langFlag"
            width="20"
            height="16"
            src="bandeira-coreia.webp"
            alt="KO"
            class="w-5 h-4 rounded-sm"
          />
          <span id="langText" class="text-gray-700 font-medium">한국어</span>
          <svg
            class="w-4 h-4 text-gray-500"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            />
          </svg>
        </button>

        <div
          id="langMenu"
          class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg"
        >
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="ko"
            data-flag="bandeira-coreia.webp"
          >
            <img
              src="bandeira-coreia.webp"
              class="w-5 h-4 rounded-sm"
              alt="KO"
              width="20"
              height="16"
            /><span>한국어</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="pt"
            data-flag="bandeira-brasil.webp"
          >
            <img
              src="bandeira-brasil.webp"
              class="w-5 h-4 rounded-sm"
              alt="PT"
              width="20"
              height="16"
            /><span>Português</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="en"
            data-flag="bandeira-eua.webp"
          >
            <img
              src="bandeira-eua.webp"
              class="w-5 h-4 rounded-sm"
              alt="EN"
              width="20"
              height="16"
            /><span>English</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="es"
            data-flag="bandeira-espanha.webp"
          >
            <img
              src="bandeira-espanha.webp"
              class="w-5 h-4 rounded-sm"
              alt="ES"
              width="20"
              height="16"
            /><span>Español</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="de"
            data-flag="bandeira-alemanha.webp"
          >
            <img
              src="bandeira-alemanha.webp"
              class="w-5 h-4 rounded-sm"
              alt="DE"
              width="20"
              height="16"
            /><span>Deutsch</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="it"
            data-flag="bandeira-italia.webp"
          >
            <img
              src="bandeira-italia.webp"
              class="w-5 h-4 rounded-sm"
              alt="IT"
              width="20"
              height="16"
            /><span>Italiano</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="fr"
            data-flag="bandeira-franca.webp"
          >
            <img
              src="bandeira-franca.webp"
              class="w-5 h-4 rounded-sm"
              alt="FR"
              width="20"
              height="16"
            /><span>Français</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="hi"
            data-flag="bandeira-india.webp"
          >
            <img
              src="bandeira-india.webp"
              class="w-5 h-4 rounded-sm"
              alt="HI"
              width="20"
              height="16"
            /><span>हिन्दी</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="zh"
            data-flag="bandeira-china.webp"
          >
            <img
              src="bandeira-china.webp"
              class="w-5 h-4 rounded-sm"
              alt="ZH"
              width="20"
              height="16"
            /><span>中文</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="ar"
            data-flag="bandeira-arabia.webp"
          >
            <img
              src="bandeira-arabia.webp"
              class="w-5 h-4 rounded-sm"
              alt="AR"
              width="20"
              height="16"
            /><span>العربية</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="ja"
            data-flag="bandeira-japao.webp"
          >
            <img
              src="bandeira-japao.webp"
              class="w-5 h-4 rounded-sm"
              alt="JA"
              width="20"
              height="16"
            /><span>日本語</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="ru"
            data-flag="bandeira-russia.webp"
          >
            <img
              src="bandeira-russia.webp"
              class="w-5 h-4 rounded-sm"
              alt="RU"
              width="20"
              height="16"
            /><span>Русский</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="tr"
            data-flag="bandeira-turquia.webp"
          >
            <img
              src="bandeira-turquia.webp"
              class="w-5 h-4 rounded-sm"
              alt="TR"
              width="20"
              height="16"
            /><span>Türkçe</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="nl"
            data-flag="bandeira-holanda.webp"
          >
            <img
              src="bandeira-holanda.webp"
              class="w-5 h-4 rounded-sm"
              alt="NL"
              width="20"
              height="16"
            /><span>Nederlands</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="pl"
            data-flag="bandeira-polonia.webp"
          >
            <img
              src="bandeira-polonia.webp"
              class="w-5 h-4 rounded-sm"
              alt="PL"
              width="20"
              height="16"
            /><span>Polski</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="sv"
            data-flag="bandeira-suecia.webp"
          >
            <img
              src="bandeira-suecia.webp"
              class="w-5 h-4 rounded-sm"
              alt="SV"
              width="20"
              height="16"
            /><span>Suédois</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="id"
            data-flag="bandeira-indonesia.webp"
          >
            <img
              src="bandeira-indonesia.webp"
              class="w-5 h-4 rounded-sm"
              alt="ID"
              width="20"
              height="16"
            /><span>Indonésien</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="vi"
            data-flag="bandeira-vietna.webp"
          >
            <img
              src="bandeira-vietna.webp"
              class="w-5 h-4 rounded-sm"
              alt="VI"
              width="20"
              height="16"
            /><span>Tiếng Việt</span>
          </div>
          <div
            class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2"
            data-value="uk"
            data-flag="bandeira-ucrania.webp"
          >
            <img
              src="bandeira-ucrania.webp"
              class="w-5 h-4 rounded-sm"
              alt="UK"
              width="20"
              height="16"
            /><span>Українська</span>
          </div>
        </div>
      </div>
    </div>
    <main id="main-content" class="flex-grow p-4 sm:p-8">
      <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
        <nav class="breadcrumb" aria-label="breadcrumb">
          <ol>
            <li><a href="index.html">홈</a></li>
            <li><a href="#">계산기</a></li>
            <li>qSOFA 척도</li>
          </ol>
        </nav>

        <div
          class="flex flex-col items-center justify-center gap-4 mb-3 text-center"
        >
          <h1
            id="main-title"
            class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl"
          >
            빠른 척도 - qSOFA
          </h1>
        </div>
        <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

        <h2
          id="main-subtitle"
          class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center"
        >
          빠른 수혈증 분류 척도
        </h2>
        <p id="description-text" class="text-gray-700 mb-6 text-left">
          qSOFA (빠른 수혈증 관련 장기 기능 평가) 점수 시스템은 수혈증 개발
          위험이 있는 감염 의심 환자를 식별하는 데 필수적인 빠르고 단순화된 선별
          도구입니다. 수혈증은 감염에 대한 신체의 심각한 전신 염증 반응으로 장기
          기능장애로 이어질 수 있으며, 중증의 경우 사망에 이를 수 있습니다.
          qSOFA는 쉽게 얻을 수 있는 세 가지 임상 기준을 평가합니다: 호흡수, 의식
          수준, 수축기 혈압. 각 긍정적 기준은 총 점수에 1점을 기여합니다. 2점
          이상의 점수는 중증 환자 발생률 증가와 같은 부정적 결과의 높은 위험을
          시사합니다. 그러나 조기 선별과 조사 지시에 Valuable한 도구이지만,
          qSOFA는 수혈증의 확정 진단을 구성하지 않으며, 항상 완전한 임상 평가와
          실험실 검사와 함께 사용되어야 합니다.
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left"
        >
          <strong>생성 연도:</strong> 2016
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left"
        >
          <strong>저자:</strong> Dr. Mervyn Singer
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left"
        >
          <strong>적용 분야:</strong> 병원
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left"
        >
          <strong>평가 기준:</strong> 호흡수, 의식 수준, 수축기 혈압
        </p>
        <p
          class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left"
        >
          <strong>사용자:</strong> 의사 및 간호사
        </p>
        <p
          class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-left"
        >
          아래 각 기준에 대한 점수를 선택하세요:
        </p>

        <div id="conteudo" class="qsofa-criteria-container"></div>

        <div id="resultado" class="resultado hidden" aria-live="polite"></div>

        <div class="flex flex-wrap justify-start gap-4 mt-6">
          <button
            id="btnCalcular"
            class="btn-primary"
            aria-label="qSOFA 점수 계산"
          >
            계산
          </button>
          <button id="btnLimpar" class="btn-primary" aria-label="필드 지우기">
            지우기
          </button>
          <button id="btnGerarPDF" class="btn-secondary" aria-label="PDF 생성">
            PDF 생성
          </button>
          <button
            id="btnNandaNicNoc"
            class="btn-primary"
            aria-label="NANDA, NIC, NOC 검색"
          >
            NANDA, NIC, NOC
          </button>
        </div>

        <div
          class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4"
        >
          <strong>참고 문헌:</strong>
          <p class="mt-2">
            Singer, M., Deutschman, C. S., Seymour, C. W., Shankar-Hari, M.,
            Annane, D., Bauer, M., ... & Hotchkiss, R. S. (2016).
            <a
              href="https://pubmed.ncbi.nlm.nih.gov/26976853/"
              target="_blank"
              rel="noopener noreferrer"
              class="text-light-blue hover:underline"
            >
              The Third International Consensus Definitions for Sepsis and
              Septic Shock (Sepsis-3).
            </a>
            JAMA, 315(8), 801-810.
          </p>
        </div>
      </div>
    </main>

    <script src="global-scripts.js" defer></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const resultadoDiv = document.getElementById("resultado");
        const btnCalcular = document.getElementById("btnCalcular");
        const btnLimpar = document.getElementById("btnLimpar");
        const btnGerarPDF = document.getElementById("btnGerarPDF");
        const btnNandaNicNoc = document.getElementById("btnNandaNicNoc");
        const conteudoDiv = document.getElementById("conteudo");

        const qsofaData = [
          {
            category: "호흡수 (BR)",
            nameAttr: "br",
            explanation: "환자의 분당 호흡수를 평가합니다.",
            options: [
              { description: "22회 미만", score: 0 },
              { description: "22회 이상", score: 1 },
            ],
          },
          {
            category: "의식 수준 (글래스고 혼수 척도 - GCS)",
            nameAttr: "gcs",
            explanation:
              "글래스고 혼수 척도를 사용하여 환자의 의식 수준을 평가합니다.",
            options: [
              { description: "GCS ≥ 15", score: 0 },
              { description: "GCS < 15 (변화됨)", score: 1 },
            ],
          },
          {
            category: "수축기 혈압 (SBP)",
            nameAttr: "sbp",
            explanation: "환자의 mmHg 단위 수축기 혈압을 평가합니다.",
            options: [
              { description: "SBP > 100 mmHg", score: 0 },
              { description: "SBP ≤ 100 mmHg", score: 1 },
            ],
          },
        ];

        // --- qSOFA 계산기 기능 ---
        function updateScoreDisplay(criterionId) {
          const selectElement = document.getElementById(criterionId);
          const scoreDisplayElement = document.getElementById(
            `${criterionId}_score_display`,
          );
          if (selectElement && scoreDisplayElement) {
            scoreDisplayElement.innerText =
              selectElement.value === "" ? "0" : selectElement.value;
          }
        }

        function calcularPontuacao() {
          let totalQSOFAScore = 0;
          let allItemsSelected = true;

          qsofaData.forEach((item) => {
            const selectElement = document.getElementById(item.nameAttr);
            if (selectElement.value === "") {
              allItemsSelected = false;
            } else {
              totalQSOFAScore += parseInt(selectElement.value, 10);
            }
          });

          resultadoDiv.style.display = "block";
          if (!allItemsSelected) {
            resultadoDiv.innerHTML =
              '⚠️ <strong class="font-bold">계산하기 전에 각 기준에 대해 하나의 옵션을 선택하세요</strong>';
            resultadoDiv.className = "resultado bg-info-orange-light";
            delete resultadoDiv.dataset.score;
            return;
          }

          let interpretacao = "";
          let conduta = "";
          let resultadoClasse = "";

          if (totalQSOFAScore >= 2) {
            interpretacao =
              "부정적 결과의 높은 위험 (ICU 체류 시간 증가 및 사망률 증가)";
            conduta =
              "수혈증에 대한 추가 평가와 빠른 개입을 고려하세요. 실험실 조사와 완전한 임상 평가가 필요합니다.";
            resultadoClasse = "bg-qsofa-high";
          } else {
            interpretacao = "현재 부정적 결과의 낮은 위험";
            conduta =
              "임상 모니터링을 유지하세요. 상태가 악화되면 재평가하세요.";
            resultadoClasse = "bg-qsofa-low";
          }

          resultadoDiv.innerHTML = `<p>총 qSOFA 점수: <strong class="font-bold">${totalQSOFAScore}</strong></p><p>해석: <strong class="font-bold">${interpretacao}</strong></p><p>권장 처치: <strong class="font-bold">${conduta}</strong></p>`;
          resultadoDiv.className = `resultado ${resultadoClasse}`;

          resultadoDiv.dataset.score = totalQSOFAScore;
          resultadoDiv.dataset.interpretacao = interpretacao;
          resultadoDiv.dataset.conduta = conduta;
          resultadoDiv.dataset.scaleName = "qSOFA";
        }

        function limparCampos() {
          qsofaData.forEach((item) => {
            const selectElement = document.getElementById(item.nameAttr);
            selectElement.selectedIndex = 0;
            document.getElementById(
              `${item.nameAttr}_score_display`,
            ).innerText = "0";
          });
          resultadoDiv.innerHTML = "";
          resultadoDiv.className = "resultado hidden";
          delete resultadoDiv.dataset.score;
          delete resultadoDiv.dataset.interpretacao;
          delete resultadoDiv.dataset.conduta;
          delete resultadoDiv.dataset.scaleName;
        }

        // 동적으로 양식을 채웁니다
        qsofaData.forEach((item, index) => {
          const sectionDiv = document.createElement("div");
          sectionDiv.className = "qsofa-criterion-card";

          const headerDiv = document.createElement("div");
          headerDiv.className = "qsofa-criterion-header";

          const titleH3 = document.createElement("h3");
          titleH3.className = "qsofa-criterion-title";
          titleH3.innerText = `${item.category}`;
          headerDiv.appendChild(titleH3);

          const scoreSpan = document.createElement("span");
          scoreSpan.className = "qsofa-score-display";
          scoreSpan.id = `${item.nameAttr}_score_display`;
          scoreSpan.innerText = "0";
          headerDiv.appendChild(scoreSpan);

          sectionDiv.appendChild(headerDiv);

          const optionsDiv = document.createElement("div");
          optionsDiv.className = "qsofa-criterion-options";

          const selectElement = document.createElement("select");
          selectElement.id = item.nameAttr;
          selectElement.className = "qsofa-select";
          selectElement.onchange = () => updateScoreDisplay(item.nameAttr);

          const defaultOption = document.createElement("option");
          defaultOption.value = "";
          defaultOption.text = "선택하세요...";
          defaultOption.disabled = true;
          defaultOption.selected = true;
          selectElement.appendChild(defaultOption);

          item.options.forEach((option) => {
            const optionElement = document.createElement("option");
            optionElement.value = option.score;
            optionElement.text = `${option.description} (${option.score})`;
            selectElement.appendChild(optionElement);
          });

          optionsDiv.appendChild(selectElement);
          sectionDiv.appendChild(optionsDiv);

          const explanationP = document.createElement("p");
          explanationP.className = "text-gray-600 text-sm mt-2 text-left";
          explanationP.innerText = item.explanation;
          sectionDiv.appendChild(explanationP);

          conteudoDiv.appendChild(sectionDiv);
        });

        // 버튼에 이벤트 리스너 추가
        btnCalcular?.addEventListener("click", calcularPontuacao);
        btnLimpar?.addEventListener("click", limparCampos);

        btnGerarPDF?.addEventListener("click", () => {
          if (!resultadoDiv.dataset.score) {
            alert('PDF를 생성하려면 먼저 "계산"을 클릭하세요.');
            return;
          }
          if (typeof gerarPDFGlobal === "function") {
            gerarPDFGlobal({
              titulo: "qSOFA 척도",
              subtitulo: "빠른 수혈증 평가 보고서",
              nomeArquivo: "qsofa_점수_보고서.pdf",
              seletorConteudo: ".main-content-wrapper",
            });
          } else {
            console.error("gerarPDFGlobal 함수가 정의되지 않았습니다.");
          }
        });

        btnNandaNicNoc?.addEventListener("click", () => {
          const score = resultadoDiv.dataset.score;
          const scaleName = resultadoDiv.dataset.scaleName;
          const interpretacao = resultadoDiv.dataset.interpretacao;
          if (!score || !interpretacao) {
            alert("처치를 검색하려면 결과를 계산하세요.");
            return;
          }
          const searchQuery = encodeURIComponent(
            `${scaleName} 점수 ${score} 해석 ${interpretacao} NANDA 분류, NANDA 분류, NOC 분류 생성`,
          );
          window.open(
            `https://www.google.com/search?q=${searchQuery}`,
            "_blank",
          );
        });
      });
    </script>

    <script src="/lang-selector.js" defer></script>

    <div id="footer-placeholder"></div>
    <script>
      fetch("footer.html") // 1. 파일을 찾습니다
        .then((response) => response.text()) // 2. 응답을 HTML 텍스트로 변환합니다
        .then((data) => {
          // 3. HTML을 플레이스홀더 내부에 삽입합니다
          document.getElementById("footer-placeholder").innerHTML = data;
        });
    </script>
  </body>
</html>
