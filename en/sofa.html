<!DOCTYPE html>
<html lang="en-US">
<head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/global-body-elements.html" as="fetch" crossorigin>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SOFA - Sequential Organ Failure Assessment - Nursing Calculators</title>
    
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/en/sofa.html" />
   <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/sofa.html" />
   <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/sofa.html" />
   <link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/sofa.html" />
   <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/sofa.html" />
   <link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/sofa.html" />
   <link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/sofa.html" />
   <link rel="alternate" hreflang="hi" href="https://www.calculadorasdeenfermagem.com.br/hi/sofa.html" />
   <link rel="alternate" hreflang="zh" href="https://www.calculadorasdeenfermagem.com.br/zh/sofa.html" />
   <link rel="alternate" hreflang="ar" href="https://www.calculadorasdeenfermagem.com.br/ar/sofa.html" />
   <link rel="alternate" hreflang="ja" href="https://www.calculadorasdeenfermagem.com.br/ja/sofa.html" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <meta name="description" content="Calculate the SOFA (Sequential Organ Failure Assessment) score to assess organ dysfunction in critically ill patients, quantifying severity across six organ systems and assisting in monitoring and clinical decisions." />
    <meta property="og:title" content="SOFA - Sequential Organ Failure Assessment - Nursing Calculators" />
    <meta property="og:description" content="Interactive SOFA score calculator to assess organ dysfunction in critically ill patients, quantifying severity across six organ systems and assisting in monitoring and clinical decisions." />
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/en/sofa.html" />
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="SOFA - Sequential Organ Failure Assessment - Nursing Calculators" />
    <meta name="twitter:description" content="Interactive SOFA score calculator to assess organ dysfunction in critically ill patients, quantifying severity across six organ systems and assisting in monitoring and clinical decisions." />
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />

    <script src="https://cdn.tailwindcss.com" defer></script>
    <script async src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="global-styles.css" media="print" onload="this.media='all'">
    
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/opendyslexic/web/opendyslexic.css" media="print" onload="this.media='all'" />

    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'wait_for_update': 500
        });
        gtag('config', 'AW-952633102');
        gtag('config', 'G-8FLJ59XXDK');
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalEntity",
      "name": "SOFA - Sequential Organ Failure Assessment",
      "url": "https://www.calculadorasdeenfermagem.com.br/en/sofa.html",
      "description": "Interactive SOFA score calculator to assess organ dysfunction in critically ill patients, quantifying severity across six organ systems and assisting in monitoring and clinical decisions.",
      "alternateName": ["SOFA Score Calculator", "Sequential Organ Failure Assessment"]
    }
    </script>

    <style>
        .resultado.bg-sofa-low { background-color: #D4EDDA; color: #155724; }
        .resultado.bg-sofa-medium { background-color: #FFF3CD; color: #856404; }
        .resultado.bg-sofa-high { background-color: #F8D7DA; color: #721C24; }
        .bg-info-orange-light { background-color: #ffeeba; border-color: #ffb366; color: #856404; }

        .sofa-criteria-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .sofa-criterion-card {
            background-color: #fff;
            border: 1px solid #d1d5db;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
        }
        .sofa-criterion-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
        }
        .sofa-criterion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
            text-align: left;
        }
        .sofa-criterion-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1A3E74;
        }
        .sofa-score-display {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1FA4E5;
        }
        .sofa-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.375rem;
            font-size: 1rem;
            color: #333;
            background-color: #fff;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
        }
        .sofa-select:focus {
            outline: none;
            border-color: #1FA4E5;
            box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
        }
    </style>
<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    </head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <div class="w-full flex justify-center py-2 bg-gray-100" aria-label="Espaço para publicidade superior" style="min-height: 90px;"> 
        <script type="text/javascript">
            atOptions = {
                'key' : '1e009bba81deb2bc366b3c4ac030f6be',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        
    </div>
    


    <nav aria-label="Accessibility Shortcuts" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="/" accesskey="I" class="block mb-2">Go to Home [Alt + Shift + I]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">Skip to main content [Alt + Shift + C]</a>
        <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Enable accessibility bar [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">Back to Top of Page [Alt + Shift + T]</a>
    </nav>

    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <div id="global-header-container"></div>
<div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-right:2rem;">
  <div class="relative inline-block text-left z-50">
    <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
      <img id="langFlag" width="20" height="16" src="bandeira-brasil.webp" alt="BR" class="w-5 h-4 rounded-sm">
      <span id="langText" class="text-gray-700 font-medium">Português</span>
      <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </button>

    <div id="langMenu" class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="bandeira-brasil.webp">
        <img src="bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="BR" width="20" height="16"><span>Português</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="bandeira-eua.webp">
        <img src="bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN" width="20" height="16"><span>English</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="bandeira-espanha.webp">
        <img src="bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES" width="20" height="16"><span>Español</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="bandeira-alemanha.webp">
        <img src="bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE" width="20" height="16"><span>Deutsch</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="bandeira-italia.webp">
        <img src="bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT" width="20" height="16"><span>Italiano</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR" width="20" height="16"><span>Français</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="HI" width="20" height="16"><span>भारत</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="CN" width="20" height="16"><span>中国</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR" width="20" height="16"><span>اللغة العربية</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JP" width="20" height="16"><span>日本語</span>
      </div>
    </div>
  </div>
</div>
            <script>
                // Adjust language selector spacing dynamically after menu global loads
                function ajustarEspacoSeletorIdioma() {
                    var header = document.getElementById('global-header-container');
                    var selector = document.getElementById('language-selector-wrapper');
                    if (header && selector) {
                        var headerHeight = header.offsetHeight;
                        selector.style.marginTop = (headerHeight ? headerHeight + 12 : 24) + 'px';
                    }
                }
                window.addEventListener('load', ajustarEspacoSeletorIdioma);
                window.addEventListener('resize', ajustarEspacoSeletorIdioma);
                document.getElementById('languageSelect').addEventListener('change', function() {
                    if (this.value === 'pt') {
                        window.location.href = "/";
                    } else {
                        window.location.href = "/en/";
                    }
                });
            </script>
        
        <script>
            // Chama o menu global da pasta en/
            document.addEventListener('DOMContentLoaded', function() {
                fetch('menu-global.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('global-header-container').innerHTML = html;
                    });
            });
        </script>
    
    <main id="main-content" class="flex-grow p-4 sm:p-8">
        <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
            <nav class="breadcrumb" aria-label="breadcrumb"><ol><li><a href="index.html">Home</a></li><li><a href="#">Calculators</a></li><li>SOFA Scale</li></ol></nav>

            <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
                <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    SOFA Scale
                </h1>
            </div>
            <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

            <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
                Sequential Organ Failure Assessment
            </h2>
            <p id="description-text" class="text-gray-700 mb-6 text-left">
                The term "SOFA scale" refers to the Sequential Organ Failure Assessment score, a crucial tool used to evaluate organ dysfunction in critically ill patients, especially those with sepsis. This scale quantifies the severity of dysfunction across six major organ systems: respiratory, cardiovascular, hepatic, renal, neurological, and hematological. Each system receives a score ranging from 0 to 4, where higher scores indicate greater dysfunction. The total SOFA score can range from 0 to 24. A higher total SOFA score suggests greater disease severity and, consequently, an increased risk of mortality. SOFA is frequently used in intensive care units (ICU) to monitor the evolution of organ dysfunction, assist in clinical decision-making, and evaluate the response to treatment in seriously ill patients.
            </p>
            <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-left">
                Select the score for each of the criteria below:
            </p>

            <div id="conteudo" class="sofa-criteria-container">
                </div>

            <div id="resultado" class="resultado hidden" aria-live="polite"></div>

            <div class="flex flex-wrap justify-start gap-4 mt-6">
                <button id="btnCalcular" class="btn-primary" aria-label="Calculate SOFA score">
                    Calculate
                </button>
                <button id="btnLimpar" class="btn-primary" aria-label="Clear fields">
                    Clear
                </button>
                <button id="btnGerarPDF" class="btn-secondary" aria-label="Generate PDF">
                    Generate PDF
                </button>
                <button id="btnNandaNicNoc" class="btn-primary" aria-label="Search NANDA, NIC, NOC">
                    NANDA, NIC, NOC
                </button>
            </div>

            <div class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
                <strong>Bibliographic Reference:</strong>
                <p class="mt-2">
                    Vincent, J. L., Moreno, R., Takala, J., Willatts, S., De Mendonça, A., Bruining, H., ... & Thijs, L. G. (1996). <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC2703722/" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">
                        The SOFA (Sepsis-related Organ Failure Assessment) score to describe organ dysfunction/failure.
                    </a> On behalf of the Working Group on Sepsis-Related Problems of the European Society of Intensive Care Medicine. Intensive Care Medicine, 22(7), 707-710.
                </p>
            </div>
        </div>
    </main>

    <footer class="bg-[#1A3E74] text-white py-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="border-b border-white pb-4 mb-4">
                <div class="flex justify-start items-center">
                    <img src="https://www.calculadorasdeenfermagem.com.br/iconrodape1.webp" alt="Calculadoras de Enfermagem logo on footer" width="120" height="84" class="h-auto w-auto max-w-[80px] max-h-[80px]" width="80" height="80"" width="80" height="80" loading="lazy" decoding="async">
                </div>
            </div>
            <div class="md:flex md:justify-between md:items-start md:space-x-8 md:items-stretch">
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Institutional</h5>
                    <ul class="list-none space-y-1">
                        <li><a href="index.html" class="text-white hover:underline">Home</a></li>
                        <li><a href="missao.html" class="text-white hover:underline">About Us</a></li>
                        <li><a href="mapa-do-site.html" class="text-white hover:underline">Sitemap</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Cookie Policies</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Data Retention Policy</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">LGPD</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Privacy Policies</a></li>
                        <li><a href="termos.html" class="text-white hover:underline">Terms and Conditions of Use</a></li>
                        <li><a href="politicadeacessibilidade.html" class="text-white hover:underline">Accessibility Policy</a></li>
                    </ul>
                </div>
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Digital Sustainability</h5>
                    <ul class="list-none space-y-1">
                        <li><a href="nossocompromisso.html" class="text-white hover:underline">Our Commitment</a></li>
                        <li><a href="impactodigital.html" class="text-white hover:underline">Impact Report</a></li>
                        <li><a href="tecnologiaverde.html" class="text-white hover:underline">Green Technology</a></li>
                    </ul>
                </div>
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Our Commitment</h5>
                    <p class="text-white text-sm mb-2 max-w-sm md:max-w-xs">Our site adopts as a principle of governance, the commitment with high standards of digital accessibility, digital sustainability and data protection.</p>
                    <div class="flex space-x-4 items-center justify-start">
                        <img src="https://www.calculadorasdeenfermagem.com.br/seloacessibilidade.webp" alt="Accessibility Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" width="80" height="80"" loading="lazy" decoding="async">
                        <img src="https://www.calculadorasdeenfermagem.com.br/selosustentabilidade.webp" alt="Sustainability Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" width="80" height="80"" loading="lazy" decoding="async">
                        <img src="https://www.calculadorasdeenfermagem.com.br/selolgpd.webp" alt="LGPD Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" width="80" height="80"" loading="lazy" decoding="async">
                    </div>
                </div>
                <div class="flex flex-1 flex-col md:flex-row justify-end items-start md:items-start">
                    <div class="vertical-divider-footer-stretched hidden md:block"></div>
                    <div class="flex flex-col items-start space-y-4">
                        <h5 class="font-bold mb-2">Follow Us</h5>
                        <div class="flex space-x-4">
                            <a href="https://linkedin.com/company/calculadoras-de-enfermagem" target="_blank" class="footer-social-icon" title="LinkedIn" aria-label="Visit Our LinkedIn Profile"><i class="fab fa-linkedin text-xl"></i></a>
                            <a href="https://www.instagram.com/calculadorasdeenfermagem/" target="_blank" class="footer-social-icon" title="Instagram" aria-label="Visit Our Instagram Profile"><i class="fab fa-instagram text-xl"></i></a>
                            <a href="https://www.tiktok.com/@calculadorasdeenf" target="_blank" class="footer-social-icon" title="TikTok" aria-label="Visit Our TikTok Profile"><i class="fab fa-tiktok text-xl"></i></a>
                            <a href="https://www.youtube.com/channel/UC_6runTDHz8u5S1Yab842pg" target="_blank" class="footer-social-icon" title="YouTube" aria-label="Visit Our YouTube Channel"><i class="fab fa-youtube text-xl"></i></a>
                        </div>
                        <button id="openGranularCookieModalBtn" class="btn-secondary text-white mt-4 py-2 px-4 rounded-md" aria-label="Manage Cookie Preferences">
                            Manage Cookie Preferences
                        </button>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <p>© 2025 Calculadoras de Enfermagem. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    
    
    <script src="../global-scripts.js" defer></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const resultadoDiv = document.getElementById('resultado');
            const btnCalcular = document.getElementById('btnCalcular');
            const btnLimpar = document.getElementById('btnLimpar');
            const btnGerarPDF = document.getElementById('btnGerarPDF');
            const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
            const conteudoDiv = document.getElementById('conteudo');
            
            const sofaData = [
                {
                    category: "Respiratory (PaO₂/FiO₂)",
                    nameAttr: "respiratorio",
                    explanation: "Assess the patient's PaO₂/FiO₂ ratio. PaO₂ in mmHg.",
                    options: [
                        { description: "> 400 mmHg", score: 0 },
                        { description: "< 400 mmHg", score: 1 },
                        { description: "< 300 mmHg", score: 2 },
                        { description: "< 200 mmHg with ventilatory support", score: 3 },
                        { description: "< 100 mmHg with ventilatory support", score: 4 }
                    ]
                },
                {
                    category: "Coagulation (Platelets)",
                    nameAttr: "coagulacao",
                    explanation: "Assess the patient's platelet count (x10³ /µL).",
                    options: [
                        { description: "≥ 150 x 10³", score: 0 },
                        { description: "< 150 x 10³", score: 1 },
                        { description: "< 100 x 10³", score: 2 },
                        { description: "< 50 x 10³", score: 3 },
                        { description: "< 20 x 10³", score: 4 }
                    ]
                },
                {
                    category: "Hepatic (Bilirubin)",
                    nameAttr: "hepatico",
                    explanation: "Assess the patient's bilirubin level (mg/dL).",
                    options: [
                        { description: "< 1.2 mg/dL", score: 0 },
                        { description: "1.2-1.9 mg/dL", score: 1 },
                        { description: "2-5.9 mg/dL", score: 2 },
                        { description: "6-11.9 mg/dL", score: 3 },
                        { description: "> 12 mg/dL", score: 4 }
                    ]
                },
                {
                    category: "Cardiovascular (MAP and Vasoactive Drugs)",
                    nameAttr: "cardiovascular",
                    explanation: "Assess the Mean Arterial Pressure (MAP) or the use of vasoactive drugs.",
                    options: [
                        { description: "MAP ≥ 70 mmHg", score: 0 },
                        { description: "MAP < 70 mmHg", score: 1 },
                        { description: "Dopamine < 5 µg/kg/min or any dose of dobutamine", score: 2 },
                        { description: "Dopamine 5.1-15 µg/kg/min or epinephrine ≤ 0.1 µg/kg/min or norepinephrine ≤ 0.1 µg/kg/min", score: 3 },
                        { description: "Dopamine > 15 µg/kg/min or epinephrine > 0.1 µg/kg/min or norepinephrine > 0.1 µg/kg/min", score: 4 }
                    ]
                },
                {
                    category: "GCS (Glasgow)",
                    nameAttr: "snc",
                    explanation: "Assess the patient's Glasgow Coma Scale (GCS).",
                    options: [
                        { description: "GCS 15", score: 0 },
                        { description: "GCS 13-14", score: 1 },
                        { description: "GCS 10-12", score: 2 },
                        { description: "GCS 6-9", score: 3 },
                        { description: "GCS < 6", score: 4 }
                    ]
                },
                {
                    category: "Renal (Creatinine/Urine Output)",
                    nameAttr: "renal",
                    explanation: "Assess the serum creatinine (mg/dL) or urine output (mL/24h).",
                    options: [
                        { description: "Serum Cr < 1.2 mg/dL", score: 0 },
                        { description: "Serum Cr 1.2-1.9 mg/dL", score: 1 },
                        { description: "Serum Cr 2-3.4 mg/dL", score: 2 },
                        { description: "Serum Cr 3.5-4.9 mg/dL or Urine Output < 500 mL/24h", score: 3 },
                        { description: "Serum Cr > 5 mg/dL or Urine Output < 200 mL/24h", score: 4 }
                    ]
                }
            ];

            // --- SOFA Calculator Functions ---
            function updateScoreDisplay(criterionId) {
                const selectElement = document.getElementById(criterionId);
                const scoreDisplayElement = document.getElementById(`${criterionId}_score_display`);
                if (selectElement && scoreDisplayElement) {
                    scoreDisplayElement.innerText = selectElement.value === "" ? "0" : selectElement.value;
                }
            }

            function calcularPontuacao() {
                let totalSOFAScore = 0;
                let allItemsSelected = true;

                sofaData.forEach(item => {
                    const selectElement = document.getElementById(item.nameAttr);
                    if (selectElement.value === "") {
                        allItemsSelected = false;
                    } else {
                        totalSOFAScore += parseInt(selectElement.value, 10);
                    }
                });

                resultadoDiv.style.display = 'block';
                if (!allItemsSelected) {
                    resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">Please, select an option for each criterion</strong> before calculating.';
                    resultadoDiv.className = 'resultado bg-info-orange-light';
                    delete resultadoDiv.dataset.score;
                    return;
                }

                let interpretacao = '';
                let conduta = '';
                let resultadoClasse = '';

                if (totalSOFAScore >= 0 && totalSOFAScore <= 4) {
                    interpretacao = "Low organ dysfunction. Prognosis is generally good.";
                    resultadoClasse = 'bg-sofa-low';
                    conduta = "Maintain clinical monitoring. Reassess as the patient's condition evolves.";
                } else if (totalSOFAScore >= 5 && totalSOFAScore <= 9) {
                    interpretacao = "Moderate organ dysfunction. Increased risk of mortality.";
                    resultadoClasse = 'bg-sofa-medium';
                    conduta = "Intensive evaluation and management. Consider investigation for sepsis and other causes of dysfunction.";
                } else { // totalSOFAScore >= 10
                    interpretacao = "Severe organ dysfunction. High risk of mortality.";
                    resultadoClasse = 'bg-sofa-high';
                    conduta = "Aggressive management of organ dysfunction. Advanced life support and active search for reversible causes.";
                }

                resultadoDiv.innerHTML = `<p>Total SOFA Score: <strong class="font-bold">${totalSOFAScore}</strong></p><p>Interpretation: <strong class="font-bold">${interpretacao}</strong></p><p>Suggested Action: <strong class="font-bold">${conduta}</strong></p>`;
                resultadoDiv.className = `resultado ${resultadoClasse}`;
                
                resultadoDiv.dataset.score = totalSOFAScore;
                resultadoDiv.dataset.interpretacao = interpretacao;
                resultadoDiv.dataset.conduta = conduta;
                resultadoDiv.dataset.scaleName = "SOFA Scale";
            }

            function limparCampos() {
                sofaData.forEach(item => {
                    const selectElement = document.getElementById(item.nameAttr);
                    selectElement.selectedIndex = 0;
                    document.getElementById(`${item.nameAttr}_score_display`).innerText = '0';
                });
                resultadoDiv.innerHTML = '';
                resultadoDiv.className = 'resultado hidden';
                delete resultadoDiv.dataset.score;
                delete resultadoDiv.dataset.interpretacao;
                delete resultadoDiv.dataset.conduta;
                delete resultadoDiv.dataset.scaleName;
            }

            // Populates the form dynamically
            sofaData.forEach((item, index) => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'sofa-criterion-card';
                
                const headerDiv = document.createElement('div');
                headerDiv.className = 'sofa-criterion-header';

                const titleH3 = document.createElement('h3');
                titleH3.className = 'sofa-criterion-title';
                titleH3.innerText = `${item.category}`;
                headerDiv.appendChild(titleH3);

                const scoreSpan = document.createElement('span');
                scoreSpan.className = 'sofa-score-display';
                scoreSpan.id = `${item.nameAttr}_score_display`;
                scoreSpan.innerText = '0';
                headerDiv.appendChild(scoreSpan);
                
                sectionDiv.appendChild(headerDiv);

                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'sofa-criterion-options';

                const selectElement = document.createElement('select');
                selectElement.id = item.nameAttr;
                selectElement.className = 'sofa-select';
                selectElement.onchange = () => updateScoreDisplay(item.nameAttr);

                const defaultOption = document.createElement('option');
                defaultOption.value = "";
                defaultOption.text = "Select...";
                defaultOption.disabled = true;
                defaultOption.selected = true;
                selectElement.appendChild(defaultOption);

                item.options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option.score;
                    optionElement.text = `${option.description} (${option.score})`;
                    selectElement.appendChild(optionElement);
                });

                optionsDiv.appendChild(selectElement);
                sectionDiv.appendChild(optionsDiv);

                const explanationP = document.createElement('p');
                explanationP.className = 'text-gray-600 text-sm mt-2 text-left';
                explanationP.innerText = item.explanation;
                sectionDiv.appendChild(explanationP);
                
                conteudoDiv.appendChild(sectionDiv);
            });

            // Add event listeners to buttons
            btnCalcular?.addEventListener('click', calcularPontuacao);
            btnLimpar?.addEventListener('click', limparCampos);

            btnGerarPDF?.addEventListener('click', () => {
                if (!resultadoDiv.dataset.score) {
                    alert('Please, click on "Calculate" first to generate the PDF.');
                    return;
                }
                if (typeof gerarPDFGlobal === 'function') {
                    gerarPDFGlobal({
                        titulo: 'SOFA Scale',
                        subtitulo: 'Organ Dysfunction Assessment Report',
                        nomeArquivo: 'sofa_scale_report.pdf',
                        seletorConteudo: '.main-content-wrapper'
                    });
                } else {
                    console.error('Function gerarPDFGlobal not defined.');
                }
            });
            
            btnNandaNicNoc?.addEventListener('click', () => {
                const score = resultadoDiv.dataset.score;
                const scaleName = resultadoDiv.dataset.scaleName;
                const conduta = resultadoDiv.dataset.conduta;
                if (!score || !conduta) {
                    alert('Calculate the result to search for the nursing care plan.');
                    return;
                }
                const searchQuery = encodeURIComponent(`${scaleName} score ${score} action ${conduta} NANDA NIC NOC`);
                window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
            });
        });
    </script>



<script type="text/javascript">
	atOptions = {
		'key' : '1e009bba81deb2bc366b3c4ac030f6be',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>

<script src="/lang-selector.js" defer></script>
<div id="adterra-banner-container" style="min-height: 90px; width: 100%; text-align: center; margin: 10px 0;">
    <script type='text/javascript' async src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>
</div>
</body>
</html>