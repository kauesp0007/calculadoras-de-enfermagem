<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/global-body-elements.html" as="fetch" crossorigin>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>APACHE II - Disease Severity Assessment - Nursing Calculators</title>
    
    <!-- EN home pages -->
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/en/apache.html" />
  <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/apache.html" />
<link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/pt-br/apache.html" />
<link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/apache.html" />
<link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/apache.html" />
<link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/apache.html" />
<link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/apache.html" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <meta name="description" content="Calculate the APACHE II score to assess disease severity and predict mortality in ICU patients." />
    <meta name="keywords" content="APACHE II, Acute Physiology and Chronic Health Evaluation II, ICU, disease severity, mortality, prediction, nursing, intensive care medicine, risk score" />
    <meta property="og:title" content="APACHE II - Disease Severity Assessment - Nursing Calculators" />
    <meta property="og:description" content="Calculate the APACHE II score to assess disease severity and predict mortality in ICU patients." />
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/en/apache.html" />
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="APACHE II - Disease Severity Assessment - Nursing Calculators" />
    <meta name="twitter:description" content="Calculate the APACHE II score to assess disease severity and predict mortality in ICU patients." />
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/assets/iconpages.webp" />

    <script src="https://cdn.tailwindcss.com" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="global-styles.css" media="print" onload="this.media='all'">

    <link rel="preconnect" href="https://fonts.googleapis.com&display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&family=Inter:wght@400;700&display=swap&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/opendyslexic/web/opendyslexic.css" media="print" onload="this.media='all'" />

    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'wait_for_update': 500
        });
        gtag('config', 'AW-952633102');
        gtag('config', 'G-8FLJ59XXDK');
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalEntity",
      "name": "APACHE II - Disease Severity Assessment",
      "url": "https://www.calculadorasdeenfermagem.com.br/en/apache.html",
      "description": "Online APACHE II score calculator to assess disease severity and predict mortality in ICU patients.",
      "alternateName": ["Acute Physiology and Chronic Health Evaluation II"]
    }
    </script>

    <style>
        .resultado.bg-apache-low { background-color: #D4EDDA; color: #006400; }
        .resultado.bg-apache-medium { background-color: #FFF3CD; color: #856404; }
        .resultado.bg-apache-high { background-color: #F8D7DA; color: #8B0000; }
        .bg-info-orange-light { background-color: #ffeeba; color: #856404; }

        .modal-option-label {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            padding: 0.75rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
        }
        .modal-option-label:hover {
            background-color: #f1f5f9;
        }

        .modal-option-label input[type="radio"] {
            accent-color: #1A3E74;
            width: 1.1rem;
            height: 1.1rem;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <div class="w-full flex justify-center py-2 bg-gray-100" aria-label="Espaço para publicidade superior"> 
        <script type="text/javascript">
            atOptions = {
                'key' : '1e009bba81deb2bc366b3c4ac030f6be',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/1e009bba81deb2bc366b3c4ac030f6be/invoke.js" defer></script>
    </div>
    

    
    <nav aria-label="Accessibility Shortcuts" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="/" accesskey="I" class="block mb-2">Go to Home [Alt + Shift + H]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">Skip to main content [Alt + Shift + C]</a>
        <a href="#accessibilityBar" accesskey="A" class="block mb-2">Activate accessibility bar [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">Back to Top of Page [Alt + Shift + T]</a>
    </nav>

    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>
    <!-- Container para o Menu Global e elementos globais -->
        <div id="global-header-container"></div>
<div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-right:2rem;">
  <div class="relative inline-block text-left z-50">
    <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
      <img id="langFlag" src="bandeira-brasil.webp" alt="BR" class="w-5 h-4 rounded-sm">
      <span id="langText" class="text-gray-700 font-medium">Português</span>
      <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
      </svg>
    </button>

    <div id="langMenu" class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="bandeira-brasil.webp">
        <img src="bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="BR"><span>Português</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="bandeira-eua.webp">
        <img src="bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN"><span>English</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="bandeira-espanha.webp">
        <img src="bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES"><span>Español</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="bandeira-alemanha.webp">
        <img src="bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE"><span>Deutsch</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="bandeira-italia.webp">
        <img src="bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT"><span>Italiano</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR"><span>Français</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="HI"><span>भारत</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="CN"><span>中国</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR"><span>اللغة العربية</span>
      </div>
      <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="bandeira-franca.webp">
        <img src="bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JP"><span>日本語</span>
      </div>
    </div>
  </div>
</div>
        <script>
            // Adjust language selector spacing dynamically after menu global loads
            function ajustarEspacoSeletorIdioma() {
                var header = document.getElementById('global-header-container');
                var selector = document.getElementById('language-selector-wrapper');
                if (header && selector) {
                    var headerHeight = header.offsetHeight;
                    selector.style.marginTop = (headerHeight ? headerHeight + 12 : 24) + 'px';
                }
            }
            window.addEventListener('load', ajustarEspacoSeletorIdioma);
            window.addEventListener('resize', ajustarEspacoSeletorIdioma);
            document.getElementById('languageSelect').addEventListener('change', function() {
                if (this.value === 'pt') {
                    window.location.href = "/";
                } else {
                    window.location.href = "/en/";
                }
            });
        </script>
    
    <script>
            // Chama o menu global da pasta en/
            document.addEventListener('DOMContentLoaded', function() {
                fetch('menu-global.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('global-header-container').innerHTML = html;
                    });
            });
        </script>

    <main id="main-content" class="flex-grow p-4 md:p-8">
        <div class="main-content-wrapper max-w-4xl mx-auto">
            <nav class="breadcrumb" aria-label="breadcrumb">
                <ol>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">Calculators</a></li>
                    <li>APACHE II Scale</li>
                </ol>
            </nav>

            <div class="text-center mb-8">
                <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    APACHE II Scale
                </h1>
                <div class="title-bar mx-auto mt-2"></div>
                <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mt-4">
                    Acute Physiology and Chronic Health Evaluation
                </h2>
            </div>
            
            <div class="bg-white p-6 rounded-lg shadow-md">
                <p class="font-inter text-black-custom text-base lg:text-lg mb-6 text-center sm:text-left">
                    The APACHE II (Acute Physiology and Chronic Health Evaluation II) scale is a scoring system used to assess the severity of illness in critically ill patients, especially those admitted to intensive care units (ICUs). It combines acute physiological data, age, and chronic health history to provide an estimate of the risk of hospital mortality. The scale is applied within the first 24 hours of the patient's admission.
                </p>
                <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-center sm:text-left">
                    Click on each criterion to select the corresponding option:
                </p>

                <div id="conteudo" role="form" aria-labelledby="main-title" class="space-y-3">
                    </div>
                
                <div id="resultado" class="resultado hidden mt-6 p-4 rounded-md font-medium" aria-live="polite"></div>

                <div class="flex flex-wrap justify-start gap-4 mt-6">
                    <button id="btnCalcular" class="btn-primary">Calculate</button>
                    <button id="btnLimpar" class="btn-primary">Clear</button>
                    <button id="btnGerarPDF" class="btn-secondary">Generate PDF</button>
                    <button id="btnNandaNicNoc" class="btn-primary">NANDA, NIC, NOC</button>
                </div>

                <div class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
                    <strong>Bibliographic Reference:</strong>
                    <ul class="list-disc list-inside space-y-1 mt-2">
                        <li>COREN-SP. (2018). Orientação Fundamentada 077/2018 - APACHE II.
                            <a href="https://portal.coren-sp.gov.br/wp-content/uploads/2018/04/Orienta%C3%A7%C3%A3o-Fundamentada-077_2.pdf" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">
                                Access Document
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <div id="selection-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-lg max-h-full overflow-y-auto">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 id="modal-title" class="text-xl font-bold text-dark-blue">Select Option</h3>
                <button id="modal-close-btn" class="text-gray-500 hover:text-gray-800">
                    <i class="fas fa-times fa-lg"></i>
                </button>
            </div>
            <div id="modal-content" class="p-4 space-y-2">
                </div>
        </div>
    </div>

<!-- Newsletter Section -->
<form id="newsletters-section" action="https://formspree.io/f/movlvvzp" method="POST" role="form" aria-label="Subscribe to Newsletter">
    <h2 class="newsletter-heading">Subscribe to our Newsletter</h2>
    <p class="newsletter-description">Receive the latest news, articles, and updates directly in your inbox!</p>
    <div class="newsletter-form-container">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="Your email" class="newsletter-email-input" aria-label="Email" required aria-describedby="erro-email ajuda-email">
        <div id="ajuda-email" class="sr-only">Enter a valid email address to receive updates.</div>

        <div class="newsletter-consent-checkbox-group">
            <input type="checkbox" id="newsletterConsent" name="consent" class="newsletter-consent-checkbox" required>
            <label for="newsletterConsent" class="newsletter-consent-label">I agree to receive information and updates.</label>
        </div>

        <button type="submit" id="subscribeNewsletterBtn" class="newsletter-subscribe-button" aria-label="Subscribe to newsletter" disabled>Subscribe</button>
    </div>
    <span id="erro-email" class="newsletter-error-message" aria-live="assertive"></span>
</form>
    <footer class="bg-[#1A3E74] text-white py-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="border-b border-white pb-4 mb-4">
                <div class="flex justify-start items-center">
                    <img src="https://www.calculadorasdeenfermagem.com.br/iconrodape1.webp" alt="Nursing Calculators Logo in footer" width="120" height="84" class="h-auto w-auto max-w-[80px] max-h-[80px]" width="80" height="80" loading="lazy" decoding="async">
                </div>
            </div>
            <div class="md:flex md:justify-between md:items-start md:space-x-8 md:items-stretch">
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Institutional</h5>
                    <ul class="list-none space-y-1">
                        <li><a href="index.html" class="text-white hover:underline">Home</a></li>
                        <li><a href="missao.html" class="text-white hover:underline">About Us</a></li>
                        <li><a href="mapa-do-site.html" class="text-white hover:underline">Site Map</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Cookies Policy</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Data Retention Policy</a></li>
                        <li><a href="politica.html" class="text-white hover:underline"><abbr lang="en" title="General Data Protection Law">LGPD</abbr></a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Privacy Policies</a></li>
                        <li><a href="termos.html" class="text-white hover:underline">Terms and Conditions of Use</a></li>
                        <li><a href="politicadeacessibilidade.html" class="text-white hover:underline">Accessibility Policy</a></li>
                    </ul>
                </div>
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Digital Sustainability</h5>
                    <ul class="list-none space-y-1">
                        <li><a href="nossocompromisso.html" class="text-white hover:underline">Our Commitment</a></li>
                        <li><a href="impactodigital.html" class="text-white hover:underline">Impact Report</a></li>
                        <li><a href="tecnologiaverde.html" class="text-white hover:underline">Green Technology</a></li>
                    </ul>
                </div>
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Our Commitment</h5>
                    <p class="text-white text-sm mb-2 max-w-sm md:max-w-xs">Our site adopts as a governance principle, the commitment to high standards of digital accessibility, digital sustainability, and data protection.</p>
                    <div class="flex space-x-4 items-center justify-start">
                        <img src="https://www.calculadorasdeenfermagem.com.br/seloacessibilidade.webp" alt="Accessibility Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" loading="lazy" decoding="async">
                        <img src="https://www.calculadorasdeenfermagem.com.br/selosustentabilidade.webp" alt="Sustainability Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" loading="lazy" decoding="async">
                        <img src="https://www.calculadorasdeenfermagem.com.br/selolgpd.webp" alt="LGPD Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" loading="lazy" decoding="async">
                    </div>
                </div>
                <div class="flex flex-1 flex-col md:flex-row justify-end items-start md:items-start">
                    <div class="vertical-divider-footer-stretched hidden md:block"></div>
                    <div class="flex flex-col items-start space-y-4">
                        <h5 class="font-bold mb-2">Follow Us</h5>
                        <div class="flex space-x-4">
                            <a href="https://linkedin.com/company/calculadoras-de-enfermagem" target="_blank" class="footer-social-icon" title="LinkedIn" aria-label="Access Our LinkedIn Profile"><i class="fab fa-linkedin text-xl"></i></a>
                            <a href="https://www.instagram.com/calculadorasdeenfermagem/" target="_blank" class="footer-social-icon" title="Instagram" aria-label="Access Our Instagram Profile"><i class="fab fa-instagram text-xl"></i></a>
                            <a href="https://www.tiktok.com/@calculadorasdeenf" target="_blank" class="footer-social-icon" title="TikTok" aria-label="Access Our TikTok Profile"><i class="fab fa-tiktok text-xl"></i></a>
                            <a href="https://www.youtube.com/channel/UC_6runTDHz8u5S1Yab842pg" target="_blank" class="footer-social-icon" title="YouTube" aria-label="Access Our YouTube Channel"><i class="fab fa-youtube text-xl"></i></a>
                        </div>
                        <button id="openGranularCookieModalBtn" class="btn-secondary text-white mt-4 py-2 px-4 rounded-md" aria-label="Manage Cookie Preferences">
                            Manage Cookie Preferences
                        </button>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <p>© 2025 Calculadoras de Enfermagem. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" defer></script>
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script src="../global-scripts.js" defer></script>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Page elements
        const resultadoDiv = document.getElementById('resultado');
        const conteudoDiv = document.getElementById('conteudo');
        const btnCalcular = document.getElementById('btnCalcular');
        const btnLimpar = document.getElementById('btnLimpar');
        const btnGerarPDF = document.getElementById('btnGerarPDF');
        const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');

        // Modal elements
        const modal = document.getElementById('selection-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const modalCloseBtn = document.getElementById('modal-close-btn');

        // Scale data
        const apacheData = [
            // Temperature values converted to Fahrenheit
            { category: "Rectal Temperature (°F)", nameAttr: "tempRetal", options: [{ description: "> 105.6", score: 4 }, { description: "102.2-105.6", score: 3 }, { description: "101.3-102.0", score: 1 }, { description: "96.8-101.1", score: 0 }, { description: "93.2-96.6", score: 1 }, { description: "89.6-93.0", score: 2 }, { description: "86.0-89.4", score: 3 }, { description: "< 86.0", score: 4 }] },
            { category: "Mean Arterial Pressure (mmHg)", nameAttr: "pam", options: [{ description: "> 159", score: 4 }, { description: "130-159", score: 3 }, { description: "110-129", score: 2 }, { description: "70-109", score: 0 }, { description: "55-69", score: 2 }, { description: "40-54", score: 3 }, { description: "< 40", score: 4 }] },
            { category: "Heart Rate (bpm)", nameAttr: "fc", options: [{ description: "> 179", score: 4 }, { description: "140-179", score: 3 }, { description: "110-129", score: 2 }, { description: "70-109", score: 0 }, { description: "55-69", score: 2 }, { description: "40-54", score: 3 }, { description: "< 40", score: 4 }] },
            { category: "Respiratory Rate (rpm)", nameAttr: "fr", options: [{ description: "> 49", score: 4 }, { description: "35-49", score: 3 }, { description: "25-34", score: 1 }, { description: "12-24", score: 0 }, { description: "10-11", score: 1 }, { description: "6-9", score: 2 }, { description: "< 6", score: 4 }] },
            { category: "Oxygenation (PaO2/FiO2 or A-aDO2)", nameAttr: "oxigenacao", options: [{ description: "If FiO2 ≥ 0.5 (A-aDO2) > 499", score: 4 }, { description: "If FiO2 ≥ 0.5 (A-aDO2) 350-499", score: 3 }, { description: "If FiO2 ≥ 0.5 (A-aDO2) 200-349", score: 2 }, { description: "If FiO2 ≥ 0.5 (A-aDO2) < 200", score: 0 }, { description: "If FiO2 < 0.5 (PaO2) > 70", score: 0 }, { description: "If FiO2 < 0.5 (PaO2) 61-70", score: 1 }, { description: "If FiO2 < 0.5 (PaO2) 56-60", score: 3 }, { description: "If FiO2 < 0.5 (PaO2) < 56", score: 4 }] },
            { category: "Arterial pH", nameAttr: "phArterial", options: [{ description: "> 7.69", score: 4 }, { description: "7.60-7.69", score: 3 }, { description: "7.50-7.59", score: 1 }, { description: "7.33-7.49", score: 0 }, { description: "7.25-7.32", score: 2 }, { description: "7.15-7.24", score: 3 }, { description: "< 7.15", score: 4 }] },
            { category: "Plasma Sodium (mmol/L)", nameAttr: "sodioPlasmatico", options: [{ description: "> 179", score: 4 }, { description: "160-179", score: 3 }, { description: "155-159", score: 2 }, { description: "150-154", score: 1 }, { description: "130-149", score: 0 }, { description: "120-129", score: 2 }, { description: "111-119", score: 3 }, { description: "< 111", score: 4 }] },
            { category: "Plasma Potassium (mmol/L)", nameAttr: "potassioPlasmatico", options: [{ description: "> 6.9", score: 4 }, { description: "6.0-6.9", score: 3 }, { description: "5.5-5.9", score: 1 }, { description: "3.5-5.4", score: 0 }, { description: "3.0-3.4", score: 1 }, { description: "2.5-2.9", score: 2 }, { description: "< 2.5", score: 4 }] },
            { category: "Creatinine (mg/dL)", nameAttr: "creatinina", options: [{ description: "> 3.4", score: 4 }, { description: "2.0-3.4", score: 3 }, { description: "1.5-1.9", score: 2 }, { description: "0.6-1.4", score: 0 }, { description: "< 0.6", score: 2 }] },
            { category: "Hematocrit (%)", nameAttr: "hematocrito", options: [{ description: "> 59.9", score: 4 }, { description: "50-59.9", score: 2 }, { description: "46-49.9", score: 1 }, { description: "30-45.9", score: 0 }, { description: "20-29.9", score: 2 }, { description: "< 20", score: 4 }] },
            { category: "White Blood Cells (x1000)", nameAttr: "globulosBrancos", options: [{ description: "> 39.9", score: 4 }, { description: "20-39.9", score: 2 }, { description: "15-19.9", score: 1 }, { description: "3-14.9", score: 0 }, { description: "1-2.9", score: 2 }, { description: "< 1", score: 4 }] },
            { category: "Glasgow Coma Scale (GCS)", nameAttr: "gcs", options: [{ description: "15 (current GCS)", score: 0 }, { description: "14 (current GCS)", score: 1 }, { description: "13 (current GCS)", score: 2 }, { description: "12 (current GCS)", score: 3 }, { description: "11 (current GCS)", score: 4 }, { description: "10 (current GCS)", score: 5 }, { description: "9 (current GCS)", score: 6 }, { description: "8 (current GCS)", score: 7 }, { description: "7 (current GCS)", score: 8 }, { description: "6 (current GCS)", score: 9 }, { description: "5 (current GCS)", score: 10 }, { description: "4 (current GCS)", score: 11 }, { description: "3 (current GCS)", score: 12 }] },
            { category: "Patient Age", nameAttr: "idadePaciente", options: [{ description: "< 45 years", score: 0 }, { description: "45-54 years", score: 2 }, { description: "55-64 years", score: 3 }, { description: "65-74 years", score: 5 }, { description: "≥ 75 years", score: 6 }] },
            { category: "Chronic Conditions", nameAttr: "condicoesCronicas", options: [{ description: "No history of chronic conditions", score: 0 }, { description: "History of chronic conditions, if patient is admitted after elective surgery", score: 2 }, { description: "History of chronic conditions, if patient is admitted for emergency surgery or for other reason", score: 5 }] }
        ];

        // Stores user selections
        let userSelections = {};

        function openModalForCriterion(paramGroup) {
            modalTitle.textContent = paramGroup.category;
            modalContent.innerHTML = ''; 
            
            paramGroup.options.forEach(option => {
                const label = document.createElement('label');
                label.className = 'modal-option-label';
                
                const radio = document.createElement('input');
                radio.type = 'radio';
                radio.name = 'modal-option';
                radio.value = option.score;
                
                if (userSelections[paramGroup.nameAttr] && userSelections[paramGroup.nameAttr].score === option.score) {
                    radio.checked = true;
                }

                radio.addEventListener('click', () => handleSelection(paramGroup.nameAttr, option.score, option.description));
                
                const descriptionSpan = document.createElement('span');
                descriptionSpan.textContent = `${option.description} (${option.score} point(s))`;
                
                label.appendChild(radio);
                label.appendChild(descriptionSpan);
                modalContent.appendChild(label);
            });
            
            modal.classList.remove('hidden');
        }

        function handleSelection(nameAttr, score, description) {
            userSelections[nameAttr] = { score: parseInt(score, 10), description: description };
            
            const listItem = document.querySelector(`[data-name="${nameAttr}"] .selected-value`);
            if (listItem) {
                listItem.textContent = description;
                listItem.classList.remove('text-gray-400');
                listItem.classList.add('text-blue-600', 'font-semibold');
            }
            
            modal.classList.add('hidden');
        }

        function createCriteriaList() {
            conteudoDiv.innerHTML = ''; 
            apacheData.forEach((paramGroup, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'flex justify-between items-center p-3 bg-gray-50 border rounded-lg shadow-sm cursor-pointer hover:bg-gray-100';
                itemDiv.dataset.name = paramGroup.nameAttr;
                
                itemDiv.innerHTML = `
                    <span class="font-medium text-gray-700">${index + 1}. ${paramGroup.category}</span>
                    <span class="selected-value text-gray-400 text-sm text-right">Click to select</span>
                `;
                
                itemDiv.addEventListener('click', () => openModalForCriterion(paramGroup));
                conteudoDiv.appendChild(itemDiv);
            });
        }
        
        function calcular() {
            let totalScore = 0;
            const totalCriteria = apacheData.length;
            const selectedCriteriaCount = Object.keys(userSelections).length;

            if (selectedCriteriaCount < totalCriteria) {
                resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">Please select an option for each criterion.</strong>';
                resultadoDiv.className = 'resultado p-4 rounded-md font-medium bg-info-orange-light';
                resultadoDiv.style.display = 'block';
                delete resultadoDiv.dataset.score;
                return;
            }

            for (const key in userSelections) {
                totalScore += userSelections[key].score;
            }

            let interpretacao = '';
            let probabilidadeMorte = '';
            let resultadoClasse = '';

            if (totalScore <= 9) {
                interpretacao = "Low risk of hospital mortality.";
                probabilidadeMorte = "Approximately 5-10%";
                resultadoClasse = 'bg-apache-low';
            } else if (totalScore <= 19) {
                interpretacao = "Moderate risk of hospital mortality.";
                probabilidadeMorte = "Approximately 10-30%";
                resultadoClasse = 'bg-apache-medium';
            } else {
                interpretacao = "High risk of hospital mortality.";
                probabilidadeMorte = "Approximately >30%";
                resultadoClasse = 'bg-apache-high';
            }

            resultadoDiv.innerHTML = `
                <p>APACHE II Total Score: <strong class="font-bold">${totalScore}</strong></p>
                <p>Estimated Probability of Mortality: <strong class="font-bold">${probabilidadeMorte}</strong></p>
                <p>Interpretation: <strong class="font-bold">${interpretacao}</strong></p>
            `;
            resultadoDiv.className = `resultado p-4 rounded-md font-medium ${resultadoClasse}`;
            resultadoDiv.style.display = 'block';
            resultadoDiv.dataset.score = totalScore;
            resultadoDiv.dataset.interpretacao = interpretacao;
        }

        function limpar() {
            userSelections = {};
            createCriteriaList();
            resultadoDiv.innerHTML = '';
            resultadoDiv.className = 'resultado hidden';
            delete resultadoDiv.dataset.score;
            delete resultadoDiv.dataset.interpretacao;
        }

        btnCalcular?.addEventListener('click', calcular);
        btnLimpar?.addEventListener('click', limpar);
        modalCloseBtn?.addEventListener('click', () => modal.classList.add('hidden'));
        modal?.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.add('hidden');
            }
        });

        btnGerarPDF?.addEventListener('click', () => {
            if (!resultadoDiv.dataset.score) {
                alert('Please click "Calculate" first to generate the PDF.');
                return;
            }
            if (typeof gerarPDFGlobal === 'function') {
                gerarPDFGlobal({
                    titulo: 'APACHE II Scale',
                    subtitulo: 'Acute Physiology and Chronic Health Evaluation Report',
                    nomeArquivo: 'relatorio_apache_ii.pdf',
                    seletorConteudo: '.main-content-wrapper'
                });
            } else {
                console.error('gerarPDFGlobal function not defined.');
            }
        });

        btnNandaNicNoc?.addEventListener('click', () => {
            const interpretacao = resultadoDiv.dataset.interpretacao;
            if (!interpretacao) {
                alert('Calculate the result to search for the conduct.');
                return;
            }
            const searchQuery = encodeURIComponent(`${interpretacao} NANDA, NIC and NOC taxonomy`);
            window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
        });

        createCriteriaList();
    });
    </script>
<script type='text/javascript' src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>
<script type='text/javascript' src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>

<script type="text/javascript">
	atOptions = {
		'key' : '1e009bba81deb2bc366b3c4ac030f6be',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/1e009bba81deb2bc366b3c4ac030f6be/invoke.js" defer></script>
<script src="/lang-selector.js" defer></script>
</body>
</html>
