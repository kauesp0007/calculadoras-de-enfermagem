<!DOCTYPE html>
<html lang="en-US">

<head>
    <link rel="dns-prefetch" href="//googleads.g.doubleclick.net">
    <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NANDA 2018 Taxonomy - Nursing Diagnoses</title>

    <!-- Essential Preconnects and Preloads -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link rel="preconnect" href="https://fonts.googleapis.com?display=swap">

    <!-- Module HTML Preloads -->
    <link rel="preload" href="menu-global.html" as="fetch" crossorigin="">
    <link rel="preload" href="/global-body-elements.html" as="fetch" crossorigin="">
    <link rel="preload" href="footer.html" as="fetch" crossorigin="">
    <link rel="preload" href="/_language_selector.html" as="fetch" crossorigin="">

    <!-- Meta Tags and SEO -->
    <meta name="description"
        content="Complete list of NANDA International nursing diagnoses (2018-2020). Official list of 256 nursing diagnoses organized by domains and classes for clinical practice.">
    <meta name="keywords"
        content="NANDA 2018, nursing diagnoses, NANDA taxonomy, nursing process, NANDA domains, nurse, diagnosis list">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="NANDA 2018 Taxonomy - Nursing Diagnoses List">
    <meta property="og:description"
        content="Access the complete list of 256 NANDA nursing diagnoses organized for clinical practice.">
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp">
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/en/diagnosticosnanda.html">

    <!-- Canonical and Hreflang -->
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/en/diagnosticosnanda.html">

    <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/diagnosticosnanda.html">
    <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/diagnosticosnanda.html">
    <link rel="alternate" hreflang="ru" href="https://www.calculadorasdeenfermagem.com.br/ru/diagnosticosnanda.html">
    <link rel="alternate" hreflang="tr" href="https://www.calculadorasdeenfermagem.com.br/tr/diagnosticosnanda.html">
    <link rel="alternate" hreflang="ko" href="https://www.calculadorasdeenfermagem.com.br/ko/diagnosticosnanda.html">
    <link rel="alternate" hreflang="nl" href="https://www.calculadorasdeenfermagem.com.br/nl/diagnosticosnanda.html">
    <link rel="alternate" hreflang="pl" href="https://www.calculadorasdeenfermagem.com.br/pl/diagnosticosnanda.html">
    <link rel="alternate" hreflang="sv" href="https://www.calculadorasdeenfermagem.com.br/sv/diagnosticosnanda.html">
    <link rel="alternate" hreflang="id" href="https://www.calculadorasdeenfermagem.com.br/id/diagnosticosnanda.html">
    <link rel="alternate" hreflang="vi" href="https://www.calculadorasdeenfermagem.com.br/vi/diagnosticosnanda.html">
    <link rel="alternate" hreflang="uk" href="https://www.calculadorasdeenfermagem.com.br/uk/diagnosticosnanda.html">
    <link rel="alternate" hreflang="x-default"
        href="https://www.calculadorasdeenfermagem.com.br/diagnosticosnanda.html">
    <!-- Hreflang Tags Organized Alphabetically with EN first -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <!-- Global Styles -->
    <link href="/public/output.css" rel="stylesheet">
    <link rel="stylesheet" href="/global-styles.css" media="print" onload="this.media='all'">

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700;900&amp;family=Inter:wght@400;700&amp;display=swap"
        rel="stylesheet">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css" as="style"
        onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css" />
    </noscript>

    <!-- Global Scripts (Head) -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" as="style"
        onload="this.onload=null;this.rel='stylesheet'">

    <noscript>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    </noscript>


    <!-- Google Analytics & Ads -->
    <script>
  /* =========================================================
     MODO ADMIN + GOOGLE TAG + CONSENT + ADSENSE (LAZY LOAD)
     (VERSÃƒO: APENAS G-8FLJ59XXDK + ADS)
     ========================================================= */

  if (
    localStorage.getItem('admin_mode') === 'true' ||
    new URLSearchParams(window.location.search).get('admin') === '1'
  ) {
    console.log('ðŸš§ Modo Admin: Bloqueado.');
    if (new URLSearchParams(window.location.search).get('admin') === '1') {
      localStorage.setItem('admin_mode','true');
    }
  } else {
    var savedConsent = localStorage.getItem("cookieConsent");
    var isRefused = (savedConsent === "refused");
    var isManaged = (savedConsent === "managed");
    var adsBlocked = isRefused || (isManaged && localStorage.getItem("ad_storage") === "denied");

    window.__metricsLoaded = false;
    window.__adsenseLoaded = false;
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    window.gtag = gtag;

    function loadAnalytics() {
      if (window.__metricsLoaded) return;
      window.__metricsLoaded = true;

      var aState = isRefused ? "denied" : (localStorage.getItem("analytics_storage") || "granted");
      var adState = adsBlocked ? "denied" : "granted";

      gtag("consent","default",{
        analytics_storage: aState,
        ad_storage: adState,
        ad_user_data: adState,
        ad_personalization: adState,
        wait_for_update: 500
      });

      var s = document.createElement("script");
      s.async = true;
      s.src = "https://www.googletagmanager.com/gtag/js?id=G-8FLJ59XXDK";
      document.head.appendChild(s);

      gtag("js", new Date());
      gtag("config","G-8FLJ59XXDK");
      gtag("config","AW-952633102");
    }

    function loadAdSenseOnce() {
      if (window.__adsenseLoaded || adsBlocked) return;
      window.__adsenseLoaded = true;
      var ad = document.createElement("script");
      ad.async = true;
      ad.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6472730056006847";
      ad.crossOrigin = "anonymous";
      document.head.appendChild(ad);
    }

    loadAnalytics();

    function onUserInteraction(){
      loadAdSenseOnce();
      window.removeEventListener("scroll", onUserInteraction);
      window.removeEventListener("mousemove", onUserInteraction);
      window.removeEventListener("touchstart", onUserInteraction);
    }

    if (!adsBlocked){
      window.addEventListener("scroll", onUserInteraction, {passive:true});
      window.addEventListener("mousemove", onUserInteraction, {passive:true});
      window.addEventListener("touchstart", onUserInteraction, {passive:true});
      setTimeout(loadAdSenseOnce, 3500);
    }

    function applyConsent(consent){
      gtag("consent","update", consent);
      if (consent.ad_storage === "granted"){
        adsBlocked = false;
        loadAdSenseOnce();
      } else {
        adsBlocked = true;
        document.querySelectorAll("ins.adsbygoogle, .google-auto-placed")
          .forEach(ad => { ad.style.display="none"; ad.innerHTML=""; });
      }
      localStorage.setItem("analytics_storage", consent.analytics_storage);
      localStorage.setItem("ad_storage", consent.ad_storage);
    }

    window.acceptAllCookies = function(){
      localStorage.setItem("cookieConsent","accepted");
      applyConsent({
        analytics_storage:"granted",
        ad_storage:"granted",
        ad_user_data:"granted",
        ad_personalization:"granted"
      });
    };

    window.rejectAllCookies = function(){
      localStorage.setItem("cookieConsent","refused");
      applyConsent({
        analytics_storage:"denied",
        ad_storage:"denied",
        ad_user_data:"denied",
        ad_personalization:"denied"
      });
    };
  }
</script>






    <!-- Schema.org -->



    <style>
        /* --- Domain Card Style --- */
        .nanda-card {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            /* border-gray-200 */
            border-radius: 0.75rem;
            /* rounded-xl */
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            /* shadow-sm */
            margin-bottom: 1rem;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nanda-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            /* shadow-lg */
            border-color: #bfdbfe;
            /* border-blue-200 */
        }

        .nanda-card-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem;
            /* p-5 */
            cursor: pointer;
            background-color: #ffffff;
            transition: background-color 0.2s;
            list-style: none;
        }

        .nanda-card-summary:hover {
            background-color: #f9fafb;
            /* bg-gray-50 */
        }

        .nanda-card-summary::-webkit-details-marker {
            display: none;
        }

        .nanda-card-title-container {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .nanda-card-title {
            font-family: 'Nunito Sans', sans-serif;
            font-weight: 700;
            font-size: 1.25rem;
            /* text-xl */
            color: #1a3e74;
            /* text-dark-blue */
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .nanda-card-subtitle {
            font-size: 0.8rem;
            color: #9ca3af;
            /* text-gray-400 */
            margin-left: 2rem;
            /* Aligned with title text */
            font-style: italic;
        }

        /* --- Class Style --- */
        .nanda-class-container {
            border-top: 1px solid #f3f4f6;
            /* border-gray-100 */
            background-color: #f9fafb;
            /* bg-gray-50 */
            padding: 1rem;
        }

        .nanda-class-details {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .nanda-class-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
            list-style: none;
        }

        .nanda-class-summary:hover {
            background-color: #eff6ff;
            /* hover:bg-blue-50 */
        }

        .nanda-class-summary::-webkit-details-marker {
            display: none;
        }

        .nanda-class-title-container {
            display: flex;
            flex-direction: column;
            gap: 0.1rem;
        }

        .nanda-class-title {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            color: #374151;
            /* text-gray-700 */
            font-size: 0.95rem;
        }

        .nanda-class-subtitle {
            font-size: 0.75rem;
            color: #9ca3af;
            /* text-gray-400 */
            font-style: italic;
        }

        /* --- Diagnosis Area --- */
        .diagnosis-container {
            padding: 0.75rem;
            background-color: #ffffff;
            border-top: 1px solid #f3f4f6;
        }

        .diagnosis-search {
            width: 100%;
            margin-bottom: 0.75rem;
            padding: 0.5rem 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            outline: none;
            transition: box-shadow 0.2s, border-color 0.2s;
        }

        .diagnosis-search:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }

        .diagnosis-btn {
            width: 100%;
            text-align: left;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 0.375rem;
            border: 1px solid #f3f4f6;
            background-color: #f9fafb;
            color: #374151;
            font-size: 0.875rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.2s;
        }

        .diagnosis-btn:hover {
            background-color: #2563eb;
            color: #ffffff;
            border-color: #2563eb;
        }

        .diagnosis-btn.selected {
            background-color: #1d4ed8;
            /* bg-blue-700 */
            color: #ffffff;
            border-color: #1d4ed8;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: scale(1.01);
        }

        .diagnosis-btn i {
            opacity: 0;
            transition: opacity 0.2s;
        }

        .diagnosis-btn:hover i,
        .diagnosis-btn.selected i {
            opacity: 1;
        }

        .chevron-icon {
            color: #9ca3af;
            transition: transform 0.3s;
        }

        details[open]>summary .chevron-icon {
            transform: rotate(180deg);
            color: #2563eb;
        }

        /* --- Action Panel --- */
        /* Mobile: fixed bottom. Desktop: static sidebar */
        #action-panel-container {
            /* Container for side cards */
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            /* Spacing between cards */
        }

        .side-card {
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            /* rounded-xl */
            padding: 1.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }

        /* Mobile selection panel specific styles */
        @media(max-width: 1023px) {
            #action-panel-mobile-wrapper {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                background-color: #ffffff;
                border-top: 1px solid #e5e7eb;
                box-shadow: 0 -4px 6px -1px rgba(0, 0, 0, 0.1);
                padding: 1.5rem;
                transform: translateY(100%);
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                z-index: 50;
                border-top-left-radius: 1rem;
                border-top-right-radius: 1rem;
            }

            #action-panel-mobile-wrapper.visible {
                transform: translateY(0);
            }

            /* Hide standard side container on mobile */
            #action-panel-container {
                display: none;
            }
        }

        @media(min-width: 1024px) {
            #action-panel-mobile-wrapper {
                display: none;
                /* Hide mobile wrapper on desktop */
            }

            #action-panel-container {
                display: flex;
                /* Show side column on desktop */
            }
        }
    </style>
    <meta name="author" content="Calculadoras de Enfermagem">
    <meta property="og:site_name" content="Calculadoras de Enfermagem">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="NANDA 2018 Taxonomy - Nursing Diagnoses">
    <meta name="twitter:description"
        content="Complete list of NANDA International nursing diagnoses (2018-2020). Official list of 256 nursing diagnoses organized by domains and classes for clinical practice.">
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/../img/livronanda.webp">
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "Organization",
            "@id": "https://www.calculadorasdeenfermagem.com.br/#organization",
            "name": "Calculadoras de Enfermagem",
            "url": "https://www.calculadorasdeenfermagem.com.br",
            "logo": {
              "@type": "ImageObject",
              "url": "https://www.calculadorasdeenfermagem.com.br/assets/logo.png"
            }
          },
          {
            "@type": "WebSite",
            "@id": "https://www.calculadorasdeenfermagem.com.br/#website",
            "url": "https://www.calculadorasdeenfermagem.com.br",
            "name": "Calculadoras de Enfermagem",
            "inLanguage": "pt-BR"
          },
          {
            "@type": "SoftwareApplication",
            "@id": "https://www.calculadorasdeenfermagem.com.br/en/diagnosticosnanda.html/#app",
            "name": "NANDA 2018 Taxonomy - Nursing Diagnoses",
            "operatingSystem": "Web",
            "applicationCategory": "HealthApplication",
            "isAccessibleForFree": true,
            "inLanguage": "en",
            "offers": {
              "@type": "Offer",
              "price": 0,
              "priceCurrency": "BRL",
              "url": "https://www.calculadorasdeenfermagem.com.br/en/diagnosticosnanda.html"
            },
            "publisher": {
              "@id": "https://www.calculadorasdeenfermagem.com.br/#organization"
            }
          },
          {
            "@type": "MedicalWebPage",
            "@id": "https://www.calculadorasdeenfermagem.com.br/en/diagnosticosnanda.html/#webpage",
            "url": "https://www.calculadorasdeenfermagem.com.br/en/diagnosticosnanda.html",
            "name": "NANDA 2018 Taxonomy - Nursing Diagnoses",
            "description": "Complete list of NANDA International nursing diagnoses (2018-2020). Official list of 256 nursing diagnoses organized by domains and classes for clinical practice.",
            "inLanguage": "en",
            "isPartOf": {
              "@id": "https://www.calculadorasdeenfermagem.com.br/#website"
            },
            "primaryImageOfPage": {
              "@id": "https://www.calculadorasdeenfermagem.com.br/en/diagnosticosnanda.html/#primaryimage"
            },
            "datePublished": "2025-12-19T07:59:47.736Z",
            "dateModified": "2025-12-19T10:29:05.253Z",
            "author": {
              "@id": "https://www.calculadorasdeenfermagem.com.br/#organization"
            },
            "audience": {
              "@type": "MedicalAudience",
              "audienceType": "Clinician"
            },
            "specialty": {
              "@type": "MedicalSpecialty",
              "name": "Nursing"
            }
          },
          {
            "@type": "BreadcrumbList",
            "itemListElement": [
              {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://www.calculadorasdeenfermagem.com.br/en/"
              },
              {
                "@type": "ListItem",
                "position": 2,
                "name": "NANDA International Nursing Diagnoses List"
              }
            ]
          }
        ]
      }
    </script>
    <!-- OTIMIZADOR_MASTER_V2 -->

    <style id="otimizador-master-responsive">
        /* OTIMIZADOR_MASTER_V3 - RESPONSIVE SAFE */
        img,
        video {
            max-width: 100%;
            height: auto;
        }

        iframe {
            max-width: 100%;
        }

        body {
            overflow-x: hidden;
        }

        .table-responsive {
            width: 100%;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 font-inter">
    <nav aria-label="Accessibility Shortcuts"
        class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="/" accesskey="I" class="block mb-2">Go to Home [Alt + Shift + I]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">Skip to main content [Alt + Shift + C]</a>
        <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Activate accessibility bar [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">Back to Top [Alt + Shift + T]</a>
    </nav>

    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <div id="global-header-container" style="min-height: 70px;"></div>
    <div id="language-dropdown-wrapper" class="flex justify-end w-full"
        style="position: absolute; top: 1.5rem; right: 0; z-index: 1000; padding-right: 2rem; pointer-events: none;">
    </div>

    <div class="max-w-7xl mx-auto flex flex-col lg:flex-row lg:space-x-8 px-4 md:px-8">
        <main id="main-content" class="flex-grow w-full py-4">
            <nav class="breadcrumb" aria-label="breadcrumb">
                <ol>
                    <li><a href="index.html">Home</a></li>
                    <li>NANDA International Nursing Diagnoses List</li>
                </ol>
            </nav>

            <div class="text-center mb-10">
                <h1 class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    NANDA International Nursing Diagnoses List
                </h1>
                <div class="title-bar mx-auto mt-3"></div>
                <p
                    class="font-inter text-gray-600 text-base mt-6 max-w-4xl mx-auto text-justify sm:text-center leading-relaxed px-8 sm:px-12 lg:px-20">
                    The NANDA Taxonomy is an internationally recognized system for standardized classification of
                    nursing diagnoses, used as a reference by nurses in many countries. It supports the nursing process
                    by offering official terms, standardized descriptions, and logically organized clinical criteria
                    directly aiding the nursing diagnosis phase. This NANDA 2018â€“2020 version presents 13 domains, 47
                    classes, and 256 updated nursing diagnoses, covering human responses to health conditions and life
                    situations throughout the life cycle. Its purpose is to guide clinical reasoning, improve
                    decision-making, standardize professional language, and strengthen scientific, safe, and
                    evidence-based care practice.
                </p>


            </div>

            <div class="flex flex-col lg:flex-row gap-8 items-start">
                <!-- Navigation Tree -->
                <div class="w-full lg:w-2/3">
                    <div id="nanda-container" class="space-y-4">
                        <div class="text-center py-10">
                            <i class="fas fa-spinner fa-spin text-4xl text-blue-600"></i>
                            <p class="mt-2 text-gray-500">Loading Full Taxonomy...</p>
                        </div>
                    </div>
                </div>

                <!-- Side Column (Desktop) -->
                <div class="w-full lg:w-1/3">
                    <div id="action-panel-container">
                        <!-- Card 1: Selection/Action -->
                        <div id="action-panel-desktop" class="side-card">
                            <!-- Content injected via JS -->
                        </div>

                        <!-- Card 2: About NANDA -->
                        <div class="side-card">
                            <h3 class="font-nunito font-bold text-lg text-dark-blue mb-3 border-b border-gray-100 pb-2">
                                About NANDA International
                            </h3>
                            <p class="font-inter text-xs text-gray-600 leading-relaxed mb-4 text-justify">
                                Currently NANDA International is in its 13th edition (2024-2026), has 13 domains, 48
                                classes and 277 nursing diagnoses: 46 removed from previous versions and 98 titles
                                changed.
                            </p>
                            <div class="rounded-lg overflow-hidden border border-gray-200">
                                <img height="405" width="330" src="../img/livronanda.webp"
                                    alt="NANDA International 2024-2026 Book Cover" class="w-full h-auto object-cover"
                                    loading="lazy"
                                    onerror="this.src='https://placehold.co/400x300/e2e8f0/64748b?text=NANDA+Book';">
                            </div>
                            <p class="text-[10px] text-gray-400 mt-1 text-center italic">
                                NANDA International 2024-2025 Book Image
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Wrapper for Mobile Panel (Fixed at bottom) -->
            <div id="action-panel-mobile-wrapper">
                <!-- Content injected via JS -->
            </div>

            <div class="mt-16 pt-8 border-t border-gray-200">
                <p class="font-inter text-gray-custom text-sm bg-gray-50 p-4 rounded-lg border border-gray-100">
                    <strong class="text-dark-blue"><i class="fas fa-book mr-2"></i>Bibliographic Reference:</strong><br>
                    Herdman, T. H., &amp; Kamitsuru, S. (Eds.). (2017). <em>NANDA International Nursing Diagnoses:
                        Definitions &amp; Classification 2018-2020</em> (11th ed.). Thieme. Available at: <a
                        href="https://nanda.org/" target="_blank" rel="noopener noreferrer"
                        class="text-blue-600 hover:underline font-semibold">https://nanda.org/</a>
                </p>
            </div>

        </main>
    </div>

    <div id="footer-placeholder"></div>
    <div id="global-body-elements-container"></div>

    <script>
        // Function to load modular HTML
        function fetchHTML(url, containerId) {
            fetch(url)
                .then((response) => (response.ok ? response.text() : Promise.reject()))
                .then((data) => {
                    const container = document.getElementById(containerId);
                    if (container) container.innerHTML = data;
                })
                .catch((error) => console.error(`Error loading ${url}:`, error));
        }

        document.addEventListener("DOMContentLoaded", () => {
            // Load modules
            fetchHTML("menu-global.html", "global-header-container");
            fetchHTML("_language_selector.html", "language-dropdown-wrapper");
            fetchHTML("footer.html", "footer-placeholder");
            fetchHTML(
                "/global-body-elements.html",
                "global-body-elements-container"
            );
            initNandaApp();
        });

        // FULL DATA - 256 DIAGNOSES (Translated to English)
        const nandaData = [
            {
                domain: "Domain 1. Health Promotion",
                classes: [
                    {
                        name: "Class 1. Health Awareness",
                        diagnoses: [
                            "Decreased diversional activity engagement",
                            "Readiness for enhanced health literacy",
                            "Sedentary lifestyle"
                        ]
                    },
                    {
                        name: "Class 2. Health Management",
                        diagnoses: [
                            "Risk for elopement attempt",
                            "Frail elderly syndrome",
                            "Risk for frail elderly syndrome",
                            "Readiness for enhanced exercise engagement",
                            "Deficient community health",
                            "Risk-prone health behavior",
                            "Ineffective health maintenance",
                            "Ineffective health management",
                            "Readiness for enhanced health management",
                            "Ineffective family health management",
                            "Ineffective home maintenance",
                            "Risk for ineffective home maintenance",
                            "Readiness for enhanced home maintenance",
                            "Ineffective protection"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 2. Nutrition",
                classes: [
                    {
                        name: "Class 1. Ingestion",
                        diagnoses: [
                            "Imbalanced nutrition: less than body requirements",
                            "Readiness for enhanced nutrition",
                            "Insufficient breast milk production",
                            "Ineffective breastfeeding",
                            "Interrupted breastfeeding",
                            "Readiness for enhanced breastfeeding",
                            "Ineffective adolescent eating dynamics",
                            "Ineffective child eating dynamics",
                            "Ineffective infant feeding dynamics",
                            "Obesity",
                            "Overweight",
                            "Risk for overweight",
                            "Ineffective infant sucking reflex",
                            "Impaired swallowing"
                        ]
                    },
                    { name: "Class 2. Digestion", diagnoses: ["This Class currently contains no diagnoses"] },
                    { name: "Class 3. Absorption", diagnoses: ["This Class currently contains no diagnoses"] },
                    {
                        name: "Class 4. Metabolism",
                        diagnoses: [
                            "Risk for unstable blood glucose level",
                            "Neonatal hyperbilirubinemia",
                            "Risk for neonatal hyperbilirubinemia",
                            "Risk for impaired liver function",
                            "Risk for metabolic syndrome"
                        ]
                    },
                    {
                        name: "Class 5. Hydration",
                        diagnoses: [
                            "Risk for electrolyte imbalance",
                            "Risk for imbalanced fluid volume",
                            "Deficient fluid volume",
                            "Risk for deficient fluid volume",
                            "Excess fluid volume"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 3. Elimination and Exchange",
                classes: [
                    {
                        name: "Class 1. Urinary Function",
                        diagnoses: [
                            "Disability-associated urinary incontinence",
                            "Impaired urinary elimination",
                            "Mixed urinary incontinence",
                            "Stress urinary incontinence",
                            "Urge urinary incontinence",
                            "Risk for urge urinary incontinence",
                            "Urinary retention",
                            "Risk for urinary retention"
                        ]
                    },
                    {
                        name: "Class 2. Gastrointestinal Function",
                        diagnoses: [
                            "Constipation",
                            "Risk for constipation",
                            "Perceived constipation",
                            "Chronic functional constipation",
                            "Risk for chronic functional constipation",
                            "Bowel incontinence",
                            "Diarrhea",
                            "Dysfunctional gastrointestinal motility",
                            "Risk for dysfunctional gastrointestinal motility"
                        ]
                    },
                    { name: "Class 3. Integumentary Function", diagnoses: ["This Class currently contains no diagnoses"] },
                    {
                        name: "Class 4. Respiratory Function",
                        diagnoses: [
                            "Impaired gas exchange"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 4. Activity/Rest",
                classes: [
                    {
                        name: "Class 1. Sleep/Rest",
                        diagnoses: [
                            "Insomnia",
                            "Sleep deprivation",
                            "Readiness for enhanced sleep",
                            "Disturbed sleep pattern"
                        ]
                    },
                    {
                        name: "Class 2. Activity/Exercise",
                        diagnoses: [
                            "Activity intolerance",
                            "Risk for activity intolerance",
                            "Risk for disuse syndrome",
                            "Impaired bed mobility",
                            "Impaired physical mobility",
                            "Impaired wheelchair mobility",
                            "Impaired sitting",
                            "Impaired standing",
                            "Impaired transfer ability",
                            "Impaired walking"
                        ]
                    },
                    {
                        name: "Class 3. Energy Balance",
                        diagnoses: [
                            "Imbalanced energy field",
                            "Fatigue",
                            "Wandering"
                        ]
                    },
                    {
                        name: "Class 4. Cardiovascular/Pulmonary Responses",
                        diagnoses: [
                            "Ineffective breathing pattern",
                            "Decreased cardiac output",
                            "Risk for decreased cardiac output",
                            "Risk for impaired cardiovascular function",
                            "Ineffective lymphedema self-management",
                            "Risk for ineffective lymphedema self-management",
                            "Impaired spontaneous ventilation",
                            "Risk for unstable blood pressure",
                            "Risk for thrombosis",
                            "Risk for decreased cardiac tissue perfusion",
                            "Risk for ineffective cerebral tissue perfusion",
                            "Ineffective peripheral tissue perfusion",
                            "Risk for ineffective peripheral tissue perfusion",
                            "Dysfunctional ventilatory weaning response",
                            "Dysfunctional adult ventilatory weaning response"
                        ]
                    },
                    {
                        name: "Class 5. Self-Care",
                        diagnoses: [
                            "Bathing self-care deficit",
                            "Dressing self-care deficit",
                            "Feeding self-care deficit",
                            "Toileting self-care deficit",
                            "Readiness for enhanced self-care",
                            "Self-neglect"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 5. Perception/Cognition",
                classes: [
                    {
                        name: "Class 1. Attention",
                        diagnoses: [
                            "Unilateral neglect"
                        ]
                    },
                    { name: "Class 2. Orientation", diagnoses: ["This Class currently contains no diagnoses"] },
                    { name: "Class 3. Sensation/Perception", diagnoses: ["This Class currently contains no diagnoses"] },
                    {
                        name: "Class 4. Cognition",
                        diagnoses: [
                            "Acute confusion",
                            "Risk for acute confusion",
                            "Chronic confusion",
                            "Labile emotional control",
                            "Ineffective impulse control",
                            "Deficient knowledge",
                            "Readiness for enhanced knowledge",
                            "Impaired memory",
                            "Disturbed thought process"
                        ]
                    },
                    {
                        name: "Class 5. Communication",
                        diagnoses: [
                            "Readiness for enhanced communication",
                            "Impaired verbal communication"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 6. Self-Perception",
                classes: [
                    {
                        name: "Class 1. Self-Concept",
                        diagnoses: [
                            "Hopelessness",
                            "Readiness for enhanced hope",
                            "Risk for compromised human dignity",
                            "Disturbed personal identity",
                            "Risk for disturbed personal identity",
                            "Readiness for enhanced self-concept"
                        ]
                    },
                    {
                        name: "Class 2. Self-Esteem",
                        diagnoses: [
                            "Chronic low self-esteem",
                            "Risk for chronic low self-esteem",
                            "Situational low self-esteem",
                            "Risk for situational low self-esteem"
                        ]
                    },
                    {
                        name: "Class 3. Body Image",
                        diagnoses: [
                            "Disturbed body image"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 7. Role Relationships",
                classes: [
                    {
                        name: "Class 1. Caregiving Roles",
                        diagnoses: [
                            "Impaired parenting",
                            "Risk for impaired parenting",
                            "Readiness for enhanced parenting",
                            "Caregiver role strain",
                            "Risk for caregiver role strain"
                        ]
                    },
                    {
                        name: "Class 2. Family Relationships",
                        diagnoses: [
                            "Risk for impaired attachment",
                            "Disturbed family identity syndrome",
                            "Risk for disturbed family identity syndrome",
                            "Dysfunctional family processes",
                            "Interrupted family processes",
                            "Readiness for enhanced family processes"
                        ]
                    },
                    {
                        name: "Class 3. Role Performance",
                        diagnoses: [
                            "Ineffective relationship",
                            "Risk for ineffective relationship",
                            "Readiness for enhanced relationship",
                            "Parental role conflict",
                            "Ineffective role performance",
                            "Impaired social interaction"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 8. Sexuality",
                classes: [
                    { name: "Class 1. Sexual Identity", diagnoses: ["This Class currently contains no diagnoses"] },
                    {
                        name: "Class 2. Sexual Function",
                        diagnoses: [
                            "Sexual dysfunction",
                            "Ineffective sexuality pattern"
                        ]
                    },
                    {
                        name: "Class 3. Reproduction",
                        diagnoses: [
                            "Ineffective childbearing process",
                            "Risk for ineffective childbearing process",
                            "Readiness for enhanced childbearing process",
                            "Risk for disturbed maternal-fetal dyad"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 9. Coping/Stress Tolerance",
                classes: [
                    {
                        name: "Class 1. Post-Trauma Responses",
                        diagnoses: [
                            "Risk for complicated immigration transition",
                            "Post-trauma syndrome",
                            "Risk for post-trauma syndrome",
                            "Rape-trauma syndrome",
                            "Relocation stress syndrome",
                            "Risk for relocation stress syndrome"
                        ]
                    },
                    {
                        name: "Class 2. Coping Responses",
                        diagnoses: [
                            "Ineffective activity planning",
                            "Risk for ineffective activity planning",
                            "Anxiety",
                            "Defensive coping",
                            "Ineffective coping",
                            "Readiness for enhanced coping",
                            "Ineffective community coping",
                            "Readiness for enhanced community coping",
                            "Compromised family coping",
                            "Disabled family coping",
                            "Readiness for enhanced family coping",
                            "Death anxiety",
                            "Ineffective denial",
                            "Fear",
                            "Grieving",
                            "Complicated grieving",
                            "Risk for complicated grieving",
                            "Readiness for enhanced grieving",
                            "Impaired mood regulation",
                            "Powerlessness",
                            "Risk for powerlessness",
                            "Readiness for enhanced power",
                            "Impaired resilience",
                            "Risk for impaired resilience",
                            "Readiness for enhanced resilience",
                            "Chronic sorrow",
                            "Stress overload"
                        ]
                    },
                    {
                        name: "Class 3. Neurobehavioral Stress",
                        diagnoses: [
                            "Acute substance withdrawal syndrome",
                            "Risk for acute substance withdrawal syndrome",
                            "Autonomic dysreflexia",
                            "Risk for autonomic dysreflexia",
                            "Decreased intracranial adaptive capacity",
                            "Neonatal abstinence syndrome",
                            "Disorganized infant behavior",
                            "Risk for disorganized infant behavior",
                            "Readiness for enhanced organized infant behavior"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 10. Life Principles",
                classes: [
                    { name: "Class 1. Values", diagnoses: ["This Class currently contains no diagnoses"] },
                    {
                        name: "Class 2. Beliefs",
                        diagnoses: [
                            "Readiness for enhanced spiritual well-being"
                        ]
                    },
                    {
                        name: "Class 3. Value/Belief/Action Congruence",
                        diagnoses: [
                            "Readiness for enhanced decision-making",
                            "Decisional conflict",
                            "Impaired emancipated decision-making",
                            "Risk for impaired emancipated decision-making",
                            "Readiness for enhanced emancipated decision-making",
                            "Moral distress",
                            "Impaired religiosity",
                            "Risk for impaired religiosity",
                            "Readiness for enhanced religiosity",
                            "Spiritual distress",
                            "Risk for spiritual distress"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 11. Safety/Protection",
                classes: [
                    {
                        name: "Class 1. Infection",
                        diagnoses: [
                            "Risk for infection",
                            "Risk for surgical site infection"
                        ]
                    },
                    {
                        name: "Class 2. Physical Injury",
                        diagnoses: [
                            "Ineffective airway clearance",
                            "Risk for aspiration",
                            "Risk for bleeding",
                            "Impaired dentition",
                            "Risk for dry eye",
                            "Ineffective dry eye self-management",
                            "Risk for dry mouth",
                            "Risk for falls",
                            "Risk for falls in children",
                            "Risk for injury",
                            "Risk for corneal injury",
                            "Nipple-areolar complex injury",
                            "Risk for nipple-areolar complex injury",
                            "Risk for urinary tract injury",
                            "Risk for perioperative positioning injury",
                            "Risk for thermal injury",
                            "Impaired oral mucous membrane integrity",
                            "Risk for impaired oral mucous membrane integrity",
                            "Risk for peripheral neurovascular dysfunction",
                            "Risk for physical trauma",
                            "Risk for vascular trauma",
                            "Pressure injury in adult",
                            "Risk for pressure injury in adult",
                            "Pressure injury in child",
                            "Risk for pressure injury in child",
                            "Neonatal pressure injury",
                            "Risk for neonatal pressure injury",
                            "Risk for shock",
                            "Impaired skin integrity",
                            "Risk for impaired skin integrity",
                            "Risk for sudden infant death syndrome",
                            "Risk for suffocation",
                            "Delayed surgical recovery",
                            "Risk for delayed surgical recovery",
                            "Impaired tissue integrity",
                            "Risk for impaired tissue integrity"
                        ]
                    },
                    {
                        name: "Class 3. Violence",
                        diagnoses: [
                            "Risk for female genital mutilation",
                            "Risk for other-directed violence",
                            "Risk for self-directed violence",
                            "Self-mutilation",
                            "Risk for self-mutilation",
                            "Risk for suicidal behavior"
                        ]
                    },
                    {
                        name: "Class 4. Environmental Hazards",
                        diagnoses: [
                            "Contamination",
                            "Risk for contamination",
                            "Risk for occupational injury",
                            "Risk for poisoning"
                        ]
                    },
                    {
                        name: "Class 5. Defensive Processes",
                        diagnoses: [
                            "Risk for adverse reaction to iodinated contrast media",
                            "Risk for allergy response",
                            "Risk for latex allergy response"
                        ]
                    },
                    {
                        name: "Class 6. Thermoregulation",
                        diagnoses: [
                            "Hyperthermia",
                            "Hypothermia",
                            "Risk for hypothermia",
                            "Neonatal hypothermia",
                            "Risk for neonatal hypothermia",
                            "Risk for perioperative hypothermia",
                            "Ineffective thermoregulation",
                            "Risk for ineffective thermoregulation"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 12. Comfort",
                classes: [
                    {
                        name: "Class 1. Physical Comfort",
                        diagnoses: [
                            "Impaired comfort",
                            "Readiness for enhanced comfort",
                            "Nausea",
                            "Acute pain",
                            "Chronic pain",
                            "Chronic pain syndrome",
                            "Labor pain"
                        ]
                    },
                    {
                        name: "Class 2. Environmental Comfort",
                        diagnoses: [
                            "Impaired comfort",
                            "Readiness for enhanced comfort"
                        ]
                    },
                    {
                        name: "Class 3. Social Comfort",
                        diagnoses: [
                            "Impaired comfort",
                            "Readiness for enhanced comfort",
                            "Risk for loneliness",
                            "Social isolation"
                        ]
                    }
                ]
            },
            {
                domain: "Domain 13. Growth/Development",
                classes: [
                    { name: "Class 1. Growth", diagnoses: ["This Class currently contains no diagnoses"] },
                    {
                        name: "Class 2. Development",
                        diagnoses: [
                            "Delayed child development",
                            "Risk for delayed child development",
                            "Delayed infant motor development",
                            "Risk for delayed infant motor development"
                        ]
                    }
                ]
            }
        ];

        function initNandaApp() {
            const container = document.getElementById("nanda-container");
            const desktopPanel = document.getElementById("action-panel-desktop");
            const mobilePanelWrapper = document.getElementById("action-panel-mobile-wrapper");

            if (!container) return;

            // Render Action Panel
            function renderActionPanel(cleanName = null) {
                let html = '';

                if (!cleanName) {
                    // Empty State
                    html = `
                    <div class="text-center py-8">
                        <div class="mb-4 inline-block p-4 bg-blue-50 rounded-full">
                            <i class="fas fa-hand-pointer text-4xl text-blue-300"></i>
                        </div>
                        <p class="text-gray-600 font-bold text-lg mb-2">Select a Diagnosis</p>
                        <p class="text-sm text-gray-400 leading-relaxed">
                            Browse domains and classes on the side and click a diagnosis to view search options.
                        </p>
                    </div>
                `;
                } else {
                    // Active State
                    html = `
                    <div>
                        <div class="mb-6">
                            <span class="text-xs font-bold text-blue-600 uppercase tracking-widest bg-blue-50 px-2 py-1 rounded">Selected Diagnosis</span>
                        </div>

                        <p class="text-xl font-bold text-dark-blue mb-8 leading-snug border-l-4 border-blue-600 pl-4">
                            ${cleanName}
                        </p>

                        <button
                            onclick="searchDefinition('${cleanName}')"
                            class="w-full group relative flex items-center justify-center gap-3 bg-gradient-to-r from-blue-700 to-blue-600 hover:from-blue-800 hover:to-blue-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"
                        >
                            <i class="fab fa-google text-lg"></i>
                            <span>Definition and Factors</span>
                            <i class="fas fa-external-link-alt text-xs opacity-50 group-hover:opacity-100 absolute right-4"></i>
                        </button>

                        <p class="text-xs text-gray-500 mt-4 text-center border-t border-gray-100 pt-4 leading-relaxed">
                            By clicking this button you will be redirected to the Google search page using artificial intelligence to search the NANDA 2018 bibliography for the definition and risk factors related to the diagnosis.
                        </p>
                    </div>
                `;
                }

                // Update Desktop
                if (desktopPanel) desktopPanel.innerHTML = html;

                // Update Mobile
                if (mobilePanelWrapper) {
                    mobilePanelWrapper.innerHTML = `
                    <div class="bg-white p-6 rounded-t-2xl shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] border-t border-gray-200">
                        ${html}
                    </div>
                `;
                }
            }

            // Global search function
            window.searchDefinition = (cleanName) => {
                const query = `NANDA nursing diagnosis ${cleanName} Definition Risk factors`;
                window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, "_blank");
            };

            container.innerHTML = "";

            // Cleanup function
            function cleanDiagnosisName(fullName) {
                return fullName.replace(/\s*\d+$/, "").replace(/^\d+\s*/, "").trim();
            }

            // Initialize empty
            renderActionPanel();

            nandaData.forEach((domain) => {
                const domainDetails = document.createElement("details");
                domainDetails.className = "nanda-card";

                const domainSummary = document.createElement("summary");
                domainSummary.className = "nanda-card-summary";
                domainSummary.innerHTML = `
                <div class="nanda-card-title-container">
                    <span class="nanda-card-title">
                        <i class="fas fa-folder text-blue-500"></i>
                        ${domain.domain}
                    </span>
                    <span class="nanda-card-subtitle">Click the domain and select the desired class</span>
                </div>
                <i class="fas fa-chevron-down chevron-icon"></i>
            `;

                const classesContainer = document.createElement("div");
                classesContainer.className = "nanda-class-container";

                domain.classes.forEach((classe) => {
                    const classDetails = document.createElement("details");
                    classDetails.className = "nanda-class-details";

                    const classSummary = document.createElement("summary");
                    classSummary.className = "nanda-class-summary";
                    classSummary.innerHTML = `
                    <div class="nanda-class-title-container">
                        <span class="nanda-class-title">${classe.name}</span>
                        <span class="nanda-class-subtitle">Click the class and select the nursing diagnosis</span>
                    </div>
                    <i class="fas fa-chevron-down chevron-icon text-sm"></i>
                `;

                    const diagnosisContainer = document.createElement("div");
                    diagnosisContainer.className = "diagnosis-container";

                    // Search box inside class
                    const searchInput = document.createElement("input");
                    searchInput.type = "text";
                    searchInput.placeholder = "Filter diagnoses in this class...";
                    searchInput.className = "diagnosis-search";

                    // Diagnosis list
                    const diagListDiv = document.createElement("div");

                    // Filter logic
                    searchInput.addEventListener("input", (e) => {
                        const term = e.target.value.toLowerCase();
                        const buttons = diagListDiv.querySelectorAll("button");
                        buttons.forEach(btn => {
                            const txt = btn.textContent.toLowerCase();
                            if (txt.includes(term)) {
                                btn.style.display = "flex";
                            } else {
                                btn.style.display = "none";
                            }
                        });
                    });

                    classe.diagnoses.forEach((diag) => {
                        const cleanName = cleanDiagnosisName(diag);

                        if (cleanName.includes("This Class currently")) {
                            const emptyMsg = document.createElement("p");
                            emptyMsg.className = "text-gray-400 text-sm italic p-2 pl-1";
                            emptyMsg.innerText = cleanName;
                            diagListDiv.appendChild(emptyMsg);
                            searchInput.style.display = 'none';
                            return;
                        }

                        const btn = document.createElement("button");
                        btn.className = "diagnosis-btn";
                        btn.innerHTML = `
                        <span>${cleanName}</span>
                        <i class="fas fa-check text-blue-200"></i>
                    `;

                        btn.addEventListener("click", () => {
                            document.querySelectorAll(".diagnosis-btn.selected").forEach(b => b.classList.remove("selected"));
                            btn.classList.add("selected");

                            renderActionPanel(cleanName);

                            if (mobilePanelWrapper) mobilePanelWrapper.classList.add("visible");
                        });

                        diagListDiv.appendChild(btn);
                    });

                    diagnosisContainer.appendChild(searchInput);
                    diagnosisContainer.appendChild(diagListDiv);

                    classDetails.appendChild(classSummary);
                    classDetails.appendChild(diagnosisContainer);
                    classesContainer.appendChild(classDetails);
                });

                domainDetails.appendChild(domainSummary);
                domainDetails.appendChild(classesContainer);
                container.appendChild(domainDetails);
            });

            // Close mobile panel on click outside
            document.addEventListener('click', (e) => {
                if (window.innerWidth < 1024) {
                    if (mobilePanelWrapper && mobilePanelWrapper.classList.contains("visible") &&
                        !mobilePanelWrapper.contains(e.target) &&
                        !container.contains(e.target) &&
                        !e.target.classList.contains('diagnosis-btn')) {
                        mobilePanelWrapper.classList.remove("visible");
                    }
                }
            });
        }
    </script>

    <script src="global-scripts.js" defer=""></script>
<!-- Supabase (cliente) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>

<!-- ComentÃ¡rios da PÃ¡gina (Supabase) - SEM MODERAÃ‡ÃƒO -->
<script defer>
  document.addEventListener("DOMContentLoaded", function () {
    const SUPABASE_URL = "https://asjkftjfbkuuhilnqonx.supabase.co";
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFzamtmdGpmYmt1dWhpbG5xb254Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwODMxNjQsImV4cCI6MjA4MjY1OTE2NH0.mly76L5r2zoasonwta8aNND2mWWrkAoXirAAs99mDYo";

    if (!window.supabase || !window.supabase.createClient) {
      console.error("Supabase JS nÃ£o carregou.");
      return;
    }

    const sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const page_path = window.location.pathname || "/";
    const lang = (document.documentElement.getAttribute("lang") || "pt-BR").toLowerCase();

    const statusEl = document.getElementById("comments-status");
    const listEl = document.getElementById("comments-list");
    const formEl = document.getElementById("comments-form");
    const nameEl = document.getElementById("comment-name");
    const textEl = document.getElementById("comment-text");
    const linesEl = document.getElementById("comment-lines");
    const charsEl = document.getElementById("comment-chars");
    const refreshBtn = document.getElementById("comment-refresh");
    const honeypotEl = document.getElementById("company");

    function setStatus(msg) {
      if (!statusEl) return;
      statusEl.textContent = msg || "";
    }

    function escapeHtml(s) {
      return String(s)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    function countLines(value) {
      if (!value) return 0;
      return value.split("\n").length;
    }

    function updateCounters() {
      const text = textEl?.value || "";
      const lines = countLines(text);
      const chars = text.length;

      if (linesEl) linesEl.textContent = "Linhas: " + lines + "/500";
      if (charsEl) charsEl.textContent = "Caracteres: " + chars + "/20000";

      if (lines > 500) {
        setStatus("Limite de 500 linhas atingido. Remova algumas quebras de linha para continuar.");
        const limited = text.split("\n").slice(0, 500).join("\n");
        textEl.value = limited;
      } else {
        setStatus("");
      }
    }

    if (textEl) textEl.addEventListener("input", updateCounters);

    async function loadComments() {
      setStatus("Carregando comentÃ¡rios...");
      if (listEl) listEl.innerHTML = "";

      const { data, error } = await sb
        .from("page_comments")
        .select("id, name, comment, created_at")
        .eq("page_path", page_path)
        .eq("lang", lang)
        .order("created_at", { ascending: false })
        .limit(50);

      if (error) {
        console.error(error);
        setStatus("NÃ£o foi possÃ­vel carregar os comentÃ¡rios agora.");
        return;
      }

      if (!data || data.length === 0) {
        setStatus("Nenhum comentÃ¡rio ainda. Seja o primeiro.");
        return;
      }

      setStatus("");

      const html = data.map((c) => {
        const nm = c.name ? escapeHtml(c.name) : "AnÃ´nimo";
        const dt = c.created_at ? new Date(c.created_at).toLocaleString("pt-BR") : "";
        const tx = escapeHtml(c.comment).replaceAll("\n", "<br>");
        return (
          '<div class="comment-item">' +
            '<div class="comment-head">' +
              '<span class="comment-name">' + nm + '</span>' +
              '<span class="comment-date">' + dt + '</span>' +
            "</div>" +
            '<div class="comment-text">' + tx + "</div>" +
          "</div>"
        );
      }).join("");

      if (listEl) listEl.innerHTML = html;
    }

    if (refreshBtn) refreshBtn.addEventListener("click", loadComments);

    async function submitComment(e) {
      e.preventDefault();

      if (honeypotEl && honeypotEl.value) return;

      const name = (nameEl?.value || "").trim().slice(0, 80);
      const comment = (textEl?.value || "").trim();

      if (!comment) {
        setStatus("Escreva um comentÃ¡rio antes de publicar.");
        return;
      }

      const last = Number(localStorage.getItem("last_comment_ts") || "0");
      const now = Date.now();
      if (now - last < 15000) {
        setStatus("Aguarde alguns segundos antes de enviar outro comentÃ¡rio.");
        return;
      }

      if (countLines(comment) > 500) {
        setStatus("Seu comentÃ¡rio ultrapassou 500 linhas.");
        return;
      }

      setStatus("Enviando...");

      const { error } = await sb.from("page_comments").insert([{
        page_path: page_path,
        lang: lang,
        name: name || null,
        comment: comment,
        is_approved: true
      }]);

      if (error) {
        console.error(error);
        setStatus("NÃ£o foi possÃ­vel enviar. Tente novamente.");
        return;
      }

      localStorage.setItem("last_comment_ts", String(now));
      setStatus("ComentÃ¡rio publicado com sucesso.");
      if (textEl) textEl.value = "";
      updateCounters();
      loadComments();
    }

    if (formEl) formEl.addEventListener("submit", submitComment);

    updateCounters();
    loadComments();
  });
</script>

    <script src="/lang-selector.js" defer=""></script>


<!-- =========================
     COMENTÃRIOS DA PÃGINA
     (SUPABASE) - SEM MODERAÃ‡ÃƒO
     ========================= -->
<section id="page-comments" class="mt-10 mb-6">
  <!-- Estilo local do card (profissional, compacto, azul escuro) -->
  <style>
    #page-comments .comments-card {
      width: 100%;
      border: 1px solid rgba(15, 23, 42, 0.20);
      border-radius: 14px;
      background: #ffffff;
      box-shadow: 0 10px 28px rgba(2, 6, 23, 0.28);
      color: #0b2a4a;
      padding: 14px 16px;
    }
    #page-comments .comments-card * {
      color: #0b2a4a !important;
    }
    #page-comments .comments-title {
      font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 800;
      font-size: 1.35rem;
      line-height: 1.15;
      margin: 0;
    }
    #page-comments .comments-subtitle {
      font-size: 0.92rem;
      margin-top: 6px;
      opacity: 0.95;
    }
    #page-comments label {
      font-size: 0.88rem;
      font-weight: 700;
      margin-bottom: 4px;
      display: block;
    }
    #page-comments input,
    #page-comments textarea {
      width: 100%;
      border: 1px solid rgba(15, 23, 42, 0.22);
      border-radius: 10px;
      padding: 9px 10px;
      font-size: 0.92rem;
      outline: none;
      background: #fff;
    }
    #page-comments textarea {
      resize: vertical;
      min-height: 130px;
    }
    #page-comments .comments-meta {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      margin-top: 6px;
      font-size: 0.78rem;
      opacity: 0.9;
    }
    #page-comments .comments-actions {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    /* =========================
       BOTÃ•ES â€“ SEMI TRANSPARENTES
       TEXTO BRANCO
       ========================= */
    #page-comments .comments-actions .btn-primary,
    #page-comments .comments-actions .btn-secondary {
      font-size: 0.88rem;
      padding: 8px 12px;
      min-height: 38px;
      border-radius: 10px;

      background: rgba(11, 42, 74, 0.65);
      color: #ffffff !important;
      border: 1px solid rgba(11, 42, 74, 0.45);
      box-shadow: 0 6px 16px rgba(2, 6, 23, 0.25);
      backdrop-filter: blur(2px);
    }
    #page-comments .comments-actions .btn-primary:hover,
    #page-comments .comments-actions .btn-secondary:hover {
      background: rgba(11, 42, 74, 0.85);
    }
    #page-comments .comments-actions .btn-primary:active,
    #page-comments .comments-actions .btn-secondary:active {
      background: rgba(11, 42, 74, 0.95);
    }

    #page-comments .comments-divider {
      border-top: 1px solid rgba(15, 23, 42, 0.12);
      margin-top: 12px;
      padding-top: 10px;
    }
    #page-comments .comments-list-title {
      font-size: 0.95rem;
      font-weight: 800;
      margin: 0;
    }
    #page-comments .comment-item {
      border: 1px solid rgba(15, 23, 42, 0.14);
      border-radius: 12px;
      background: #f8fafc;
      padding: 10px 12px;
      box-shadow: 0 6px 18px rgba(2, 6, 23, 0.14);
    }
    #page-comments .comment-head {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
      font-size: 0.82rem;
      opacity: 0.95;
    }
    #page-comments .comment-name {
      font-weight: 800;
      font-size: 0.92rem;
    }
    #page-comments .comment-date {
      font-size: 0.78rem;
      opacity: 0.85;
    }
    #page-comments .comment-text {
      margin-top: 6px;
      font-size: 0.92rem;
      line-height: 1.45;
    }
    #page-comments #comments-status {
      margin-top: 10px;
      font-size: 0.85rem;
      font-weight: 600;
    }
  </style>

  <div class="main-content-wrapper">
    <div class="comments-card">
      <h2 class="comments-title">Deixe seus comentÃ¡rios</h2>
      <p class="comments-subtitle">
        Compartilhe dÃºvidas, sugestÃµes ou experiÃªncias relacionadas a esta pÃ¡gina.
      </p>

      <div id="comments-status" aria-live="polite"></div>

      <form id="comments-form" class="mt-2">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div>
            <label for="comment-name">Nome (opcional)</label>
            <input
              id="comment-name"
              type="text"
              maxlength="80"
              placeholder="Ex.: Maria"
              autocomplete="name"
            />
          </div>

          <!-- Honeypot anti-spam (nÃ£o mexa) -->
          <div style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;" aria-hidden="true">
            <label for="company">Company</label>
            <input id="company" type="text" tabindex="-1" autocomplete="off">
          </div>
        </div>

        <div class="mt-3">
          <label for="comment-text">ComentÃ¡rio (atÃ© 500 linhas)</label>
          <textarea
            id="comment-text"
            rows="7"
            maxlength="20000"
            placeholder="Escreva seu comentÃ¡rio..."
            required
          ></textarea>

          <div class="comments-meta">
            <span id="comment-lines">Linhas: 0/500</span>
            <span id="comment-chars">Caracteres: 0/20000</span>
          </div>
        </div>

        <div class="comments-actions">
          <button id="comment-submit" type="submit" class="btn-primary">
            Publicar comentÃ¡rio
          </button>
          <button id="comment-refresh" type="button" class="btn-secondary">
            Atualizar
          </button>
        </div>
      </form>

      <div class="comments-divider">
        <h3 class="comments-list-title">ComentÃ¡rios</h3>
        <div id="comments-list" class="mt-3 space-y-3"></div>
      </div>
    </div>
  </div>
</section>

</body>

</html>