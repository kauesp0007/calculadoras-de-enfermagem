<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tinetti Scale: Gait and Balance Assessment - Nursing Calculators</title>
  
  <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/en/tinetti.html" />
  <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/tinetti.html" />
  <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/tinetti.html" />
  <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/tinetti.html" />
  <link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/tinetti.html" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
  <meta name="description" content="Calculate the Tinetti Scale (POMA) to assess balance and gait in elderly people, identifying the risk of falls. An essential tool for patient safety." />
  <meta property="og:title" content="Tinetti Scale: Gait and Balance Assessment - Nursing Calculators" />
  <meta property="og:description" content="Calculate the Tinetti Scale (POMA) to assess balance and gait in elderly people, identifying the risk of falls. An essential tool for patient safety." />
  <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/en/tinetti.html" />
  <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Tinetti Scale: Gait and Balance Assessment - Nursing Calculators" />
  <meta name="twitter:description" content="Calculate the Tinetti Scale (POMA) to assess balance and gait in elderly people, identifying the risk of falls. An essential tool for patient safety." />
  <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="global-styles.css">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/opendyslexic/web/opendyslexic.css" />

  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('consent', 'default', {
        'analytics_storage': 'denied',
        'ad_storage': 'denied',
        'wait_for_update': 500
    });
    gtag('config', 'AW-952633102');
    gtag('config', 'G-8FLJ59XXDK');
  </script>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"MedicalEntity",
    "name":"Tinetti Scale",
    "url":"https://www.calculadorasdeenfermagem.com.br/en/tinetti.html",
    "description":"Tinetti Scale calculator to assess the risk of falls in the elderly.",
    "alternateName":["Tinetti Scale Calculator", "POMA Scale"]
  }
  </script>

  <style>
    /* Style for each scale item, as an individual table/box */
    .tinetti-criterion-section {
        background-color: #fff;
        border: 1px solid #d1d5db;
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s ease;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }
    .tinetti-criterion-section:hover {
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
    }
    .tinetti-criterion-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: #1A3E74;
        margin-bottom: 0.75rem;
        text-align: left;
    }
    .tinetti-criterion-select {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #ccc;
        border-radius: 0.375rem;
        font-size: 1rem;
        color: #333;
        background-color: #fff;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 0.75rem center;
        background-size: 1.5em 1.5em;
    }
    .tinetti-criterion-select:focus {
        outline: none;
        border-color: #1FA4E5;
        box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
    }
    .tinetti-criterion-explain {
        font-size: 0.9rem;
        color: #6b7280;
        margin-top: 0.25rem;
    }
    .incomplete {
        border: 2px solid #ef4444 !important;
        box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
    }
    .resultado {
        background-color: #e0f2fe; /* light blue background */
        color: #1A3E74; /* dark blue font */
        border: 1px solid #bfdbfe; /* blue border */
        border-radius: 1rem; /* rounded border */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* shadow */
        padding: 1rem; /* 1cm internal spacing is too big, 1rem (16px) is a good standard */
        margin-top: 1.5rem;
        display: none;
    }
    .resultado p {
        margin: 0;
        line-height: 1.5;
    }
    .resultado strong {
        font-weight: 700;
    }
    .resultado.bg-red-100 { background-color: #fee2e2; color: #dc2626; border-color: #fca5a5; }
    
    @media (min-width: 640px) {
        .tinetti-criterion-section {
            flex-direction: row;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
        }
        .tinetti-criterion-title {
            flex-basis: 55%;
            margin-bottom: 0;
        }
        .tinetti-criterion-select {
            flex-basis: 40%;
        }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800 font-inter">

  <nav aria-label="Accessibility Shortcuts" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
    <a href="/" accesskey="I" class="block mb-2">Go to Home [Alt + Shift + I]</a>
    <a href="#main-content" accesskey="C" class="block mb-2">Skip to main content [Alt + Shift + C]</a>
    <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Enable accessibility bar [Alt + Shift + A]</a>
    <a href="#backToTopBtn" accesskey="T" class="block">Back to Top of Page [Alt + Shift + T]</a>
  </nav>

  <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

  <div id="global-header-container"></div>
  <!-- Language Selector (Top Right, below global menu, dynamic spacing and z-index) -->
            <div id="language-selector-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-right:2rem;">
                <div class="flex items-center space-x-2 bg-gray-100 rounded-lg px-2 py-1 shadow"
                         style="font-size:0.95rem; height:2.2rem; margin-top:24px;">
                    <label for="languageSelect" class="text-gray-700 font-semibold" style="font-size:0.95rem;">üåê</label>
                    <select id="languageSelect" class="border border-gray-300 rounded px-2 py-1" style="font-size:0.95rem; min-width:90px;">
                        <option value="en" selected>üá∫üá∏ English</option>
                        <option value="pt">üáßüá∑ Portugu√™s</option>
                    </select>
                </div>
            </div>
            <script>
                // Adjust language selector spacing dynamically after menu global loads
                function ajustarEspacoSeletorIdioma() {
                    var header = document.getElementById('global-header-container');
                    var selector = document.getElementById('language-selector-wrapper');
                    if (header && selector) {
                        var headerHeight = header.offsetHeight;
                        selector.style.marginTop = (headerHeight ? headerHeight + 12 : 24) + 'px';
                    }
                }
                window.addEventListener('load', ajustarEspacoSeletorIdioma);
                window.addEventListener('resize', ajustarEspacoSeletorIdioma);
                document.getElementById('languageSelect').addEventListener('change', function() {
                    if (this.value === 'pt') {
                        window.location.href = "/";
                    } else {
                        window.location.href = "/en/";
                    }
                });
            </script>
        
        <script>
            // Chama o menu global da pasta en/
            document.addEventListener('DOMContentLoaded', function() {
                fetch('menu-global.html')
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('global-header-container').innerHTML = html;
                    });
            });
        </script>

  <main id="main-content" class="flex-grow p-4 sm:p-8">
    <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
        <nav class="breadcrumb" aria-label="breadcrumb"><ol><li><a href="index.html">Home</a></li><li><a href="#">Fall Risk Scales</a></li><li>Tinetti Scale</li></ol></nav>

        <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
            <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                Tinetti Scale (POMA)
            </h1>
        </div>
        <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>
        <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
          Gait and Balance Assessment
        </h2>

        <p id="intro-paragraph" class="font-inter font-normal text-black-custom text-base lg:text-lg mb-6 text-left">
          The Tinetti Scale (Performance-Oriented Mobility Assessment - POMA) assesses the risk of falls in the elderly by observing balance and gait. Select the option that best describes the patient for each of the 16 items. The maximum score is 28.
        </p>

        <div id="conteudo">
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">1. Sitting Balance</h3>
                <p class="tinetti-criterion-explain">Ability to maintain stability when seated in a chair. </p>
                <select id="sentado" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Slips, slides down in the chair (0)</option>
                    <option value="1">Firm and secure (1)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">2. Rising from Chair</h3>
                <p class="tinetti-criterion-explain">Ability to stand up from a chair.</p>
                <select id="levantando" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Unable without help (0)</option>
                    <option value="1">Able, but uses arms to stand up (1)</option>
                    <option value="2">Able, without using arms (2)</option>
                </select>
            </div>

            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">3. Attempts to Rise</h3>
                <p class="tinetti-criterion-explain">Observe the number of attempts to stand up. </p>
                <select id="tentando_levantar" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Unable or more than one attempt (0)</option>
                    <option value="1">Able in a single attempt (1)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">4. Immediate Standing Balance (first 5 seconds)</h3>
                <p class="tinetti-criterion-explain">Stability in the initial 5 seconds after standing up.</p>
                <select id="apos_levantar" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Unstable (staggers, moves feet, trunk) (0)</option>
                    <option value="1">Stable with support from another person or object (1)</option>
                    <option value="2">Stable without support, but sways (2)</option>
                </select>
            </div>

            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">5. Standing Balance</h3>
                <p class="tinetti-criterion-explain">Stability in an upright posture.</p>
                <select id="em_pe" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Unbalanced (0)</option>
                    <option value="1">With support / base of support > 9cm (1)</option>
                    <option value="2">Without support / small base of support (2)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">6. Three-time Test (sternum)</h3>
                <p class="tinetti-criterion-explain">Reaction to a slight push on the sternum. The patient should be standing, with feet a comfortable distance apart.</p>
                <select id="teste_3_tempos" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Begins to fall (0)</option>
                    <option value="1">Grabs or sways (arms) (1)</option>
                    <option value="2">Stable (2)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">7. Balance with Eyes Closed</h3>
                <p class="tinetti-criterion-explain">Patient's stability with eyes closed.</p>
                <select id="olhos_fechados" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Unbalanced (0)</option>
                    <option value="1">Balanced (1)</option>
                </select>
            </div>

            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">8. Turning 360¬∫</h3>
                <p class="tinetti-criterion-explain">Observe the ability to turn a full circle and stability.</p>
                <select id="girando" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Discontinuous steps / unbalanced (0)</option>
                    <option value="1">Continuous steps / stable (1)</option>
                </select>
            </div>
             
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">9. Sitting Down</h3>
                <p class="tinetti-criterion-explain">Ability to sit down in a chair.</p>
                <select id="sentando" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Unsure / falls into the chair (0)</option>
                    <option value="1">Uses arms or doesn't move smoothly (1)</option>
                    <option value="2">Firm and secure (2)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">10. Initiation of Gait</h3>
                <p class="tinetti-criterion-explain">Observes the start of walking.</p>
                <select id="inicio_marcha" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Hesitation or multiple attempts (0)</option>
                    <option value="1">No hesitation (1)</option>
                </select>
            </div>

            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">11. Step Length and Height</h3>
                <p class="tinetti-criterion-explain">Observe the length and height of the step.</p>
                <select id="passo" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Right foot does not pass left or does not lift; Left foot does not pass right or does not lift (0)</option>
                    <option value="1">Right foot passes left and lifts; Left foot passes right and lifts (1)</option>
                </select>
            </div>

            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">12. Step Symmetry</h3>
                <p class="tinetti-criterion-explain">Observe if the steps are symmetrical.</p>
                <select id="simetria_passo" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Unequal lengths (0)</option>
                    <option value="1">Equal lengths (1)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">13. Step Continuity</h3>
                <p class="tinetti-criterion-explain">Observe if the walk is fluid or if there are interruptions.</p>
                <select id="continuidade_passo" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Stops or discontinuities (0)</option>
                    <option value="1">Continuous steps (1)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">14. Gait Direction</h3>
                <p class="tinetti-criterion-explain">Observe the deviation from the walking line.</p>
                <select id="direcao_marcha" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Marked deviation or uses help to stay on the line (0)</option>
                    <option value="1">Slight or moderate deviation, but without help (1)</option>
                    <option value="2">No deviation, walks in a straight line (2)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">15. Trunk</h3>
                <p class="tinetti-criterion-explain">Observe the trunk's sway and use of arms during gait.</p>
                <select id="tronco_marcha" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Trunk sways or uses arms to balance (0)</option>
                    <option value="1">Bends knees or back / spreads arms (1)</option>
                    <option value="2">No sway or bend (2)</option>
                </select>
            </div>
            
            <div class="tinetti-criterion-section">
                <h3 class="tinetti-criterion-title">16. Base of Support during Walking</h3>
                <p class="tinetti-criterion-explain">Distance between the heels during gait.</p>
                <select id="base_marcha" class="tinetti-criterion-select">
                    <option value="">Select...</option>
                    <option value="0">Ankles apart or unstable (0)</option>
                    <option value="1">Ankles touch or are close, without deviation (1)</option>
                </select>
            </div>
          </div>

        <div id="resultado" class="resultado" aria-live="polite" style="display: none;"></div>

        <div id="reference-section" class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
          <strong>References:</strong><br>
          <ul class="list-disc list-inside mt-2">
            <li>BRASIL. Minist√©rio da Sa√∫de. **Envelhecimento e sa√∫de da pessoa idosa**. Bras√≠lia: Minist√©rio da Sa√∫de, 2007 (S√©rie A. Normas e Manuais T√©cnicos. Cadernos de Aten√ß√£o B√°sica, n. 19).</li>
            <li>TINETTI, M. E. Performance-oriented assessment of mobility problems in elderly patients. **Journal of the American Geriatrics Society**, v. 34, p. 119-126, 1986.</li>
          </ul>
        </div>
      </div>

      <div class="flex flex-wrap justify-start gap-4 mt-6">
        <button id="btnCalcular" class="btn-primary" aria-label="Calculate score">
          Calculate Score
        </button>
        <button id="btnLimpar" class="btn-primary" aria-label="Clear fields">
          Clear
        </button>
        <button id="btnGerarPDF" class="btn-secondary" aria-label="Generate PDF">
          Generate PDF
        </button>
        <button id="btnNandaNicNoc" class="btn-primary" aria-label="Search NANDA, NIC, NOC">
            NANDA, NIC, NOC
        </button>
      </div>

    </main>
  
    <footer class="bg-[#1A3E74] text-white py-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="border-b border-white pb-4 mb-4">
                <div class="flex justify-start items-center">
                    <img src="https://www.calculadorasdeenfermagem.com.br/iconrodape1.webp" alt="Calculadoras de Enfermagem logo on footer" width="120" height="84" class="h-auto w-auto max-w-[80px] max-h-[80px]" loading="lazy" decoding="async">
                </div>
            </div>
            <div class="md:flex md:justify-between md:items-start md:space-x-8 md:items-stretch">
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Institutional</h5>
                    <ul class="list-none space-y-1">
                        <li><a href="index.html" class="text-white hover:underline">Home</a></li>
                        <li><a href="missao.html" class="text-white hover:underline">About Us</a></li>
                        <li><a href="mapa-do-site.html" class="text-white hover:underline">Sitemap</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Cookie Policies</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Data Retention Policy</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">LGPD</a></li>
                        <li><a href="politica.html" class="text-white hover:underline">Privacy Policies</a></li>
                        <li><a href="termos.html" class="text-white hover:underline">Terms and Conditions of Use</a></li>
                        <li><a href="politicadeacessibilidade.html" class="text-white hover:underline">Accessibility Policy</a></li>
                    </ul>
                </div>
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Digital Sustainability</h5>
                    <ul class="list-none space-y-1">
                        <li><a href="nossocompromisso.html" class="text-white hover:underline">Our Commitment</a></li>
                        <li><a href="impactodigital.html" class="text-white hover:underline">Impact Report</a></li>
                        <li><a href="tecnologiaverde.html" class="text-white hover:underline">Green Technology</a></li>
                    </ul>
                </div>
                <div class="mb-6 md:mb-0">
                    <h5 class="font-bold mb-2">Our Commitment</h5>
                    <p class="text-white text-sm mb-2 max-w-sm md:max-w-xs">Our site adopts as a principle of governance, the commitment with high standards of digital accessibility, digital sustainability and data protection.</p>
                    <div class="flex space-x-4 items-center justify-start">
                        <img src="https://www.calculadorasdeenfermagem.com.br/seloacessibilidade.webp" alt="Accessibility Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" loading="lazy" decoding="async">
                        <img src="https://www.calculadorasdeenfermagem.com.br/selosustentabilidade.webp" alt="Sustainability Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" loading="lazy" decoding="async">
                        <img src="https://www.calculadorasdeenfermagem.com.br/selolgpd.webp" alt="LGPD Seal" width="100" height="100" class="w-auto h-auto max-w-[80px] max-h-[80px]" loading="lazy" decoding="async">
                    </div>
                </div>
                <div class="flex flex-1 flex-col md:flex-row justify-end items-start md:items-start">
                    <div class="vertical-divider-footer-stretched hidden md:block"></div>
                    <div class="flex flex-col items-start space-y-4">
                        <h5 class="font-bold mb-2">Follow Us</h5>
                        <div class="flex space-x-4">
                            <a href="https://linkedin.com/company/calculadoras-de-enfermagem" target="_blank" class="footer-social-icon" title="LinkedIn" aria-label="Visit Our LinkedIn Profile"><i class="fab fa-linkedin text-xl"></i></a>
                            <a href="https://www.instagram.com/calculadorasdeenfermagem/" target="_blank" class="footer-social-icon" title="Instagram" aria-label="Visit Our Instagram Profile"><i class="fab fa-instagram text-xl"></i></a>
                            <a href="https://www.tiktok.com/@calculadorasdeenf" target="_blank" class="footer-social-icon" title="TikTok" aria-label="Visit Our TikTok Profile"><i class="fab fa-tiktok text-xl"></i></a>
                            <a href="https://www.youtube.com/channel/UC_6runTDHz8u5S1Yab842pg" target="_blank" class="footer-social-icon" title="YouTube" aria-label="Visit Our YouTube Channel"><i class="fab fa-youtube text-xl"></i></a>
                        </div>
                        <button id="openGranularCookieModalBtn" class="btn-secondary text-white mt-4 py-2 px-4 rounded-md" aria-label="Manage Cookie Preferences">
                            Manage Cookie Preferences
                        </button>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <p>¬© 2025 Calculadoras de Enfermagem. All rights reserved.</p>
            </div>
        </div>
    </footer>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
  <script src="../global-scripts.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        const resultadoDiv = document.getElementById('resultado');
        const btnCalcular = document.getElementById('btnCalcular');
        const btnLimpar = document.getElementById('btnLimpar');
        const btnGerarPDF = document.getElementById('btnGerarPDF');
        const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
        const conteudoDiv = document.getElementById('conteudo');
        
        // Tinetti scale data
        const tinettiData = [
            {
                title: "1. Sitting Balance",
                nameAttr: "sentado",
                explain: "Ability to maintain stability when seated in a chair. ",
                options: [
                    { description: "Slips, slides down in the chair", score: 0 },
                    { description: "Firm and secure", score: 1 }
                ]
            },
            {
                title: "2. Rising",
                nameAttr: "levantando",
                explain: "Ability to stand up from a chair.",
                options: [
                    { description: "Unable without help", score: 0 },
                    { description: "Able, but uses arms to stand up", score: 1 },
                    { description: "Able, without using arms", score: 2 }
                ]
            },
            {
                title: "3. Attempts to Rise",
                nameAttr: "tentando_levantar",
                explain: "Observe the number of attempts to stand up. ",
                options: [
                    { description: "Unable or more than one attempt", score: 0 },
                    { description: "Able in a single attempt", score: 1 }
                ]
            },
            {
                title: "4. Immediate Standing Balance (first 5 seconds)",
                nameAttr: "apos_levantar",
                explain: "Stability in the initial 5 seconds after standing up.",
                options: [
                    { description: "Unstable (staggers, moves feet, trunk)", score: 0 },
                    { description: "Stable with support from another person or object", score: 1 },
                    { description: "Stable without support, but sways", score: 2 }
                ]
            },
            {
                title: "5. Standing Balance",
                nameAttr: "em_pe",
                explain: "Stability in an upright posture.",
                options: [
                    { description: "Unbalanced", score: 0 },
                    { description: "With support / base of support > 9cm", score: 1 },
                    { description: "Without support / small base of support", score: 2 }
                ]
            },
            {
                title: "6. Three-time Test (sternum)",
                nameAttr: "teste_3_tempos",
                explain: "Reaction to a slight push on the sternum. The patient should be standing, with feet a comfortable distance apart.",
                options: [
                    { description: "Starts to fall", score: 0 },
                    { description: "Grabs or sways (arms)", score: 1 },
                    { description: "Stable", score: 2 }
                ]
            },
            {
                title: "7. Balance with Eyes Closed",
                nameAttr: "olhos_fechados",
                explain: "Patient's stability with eyes closed.",
                options: [
                    { description: "Unbalanced", score: 0 },
                    { description: "Balanced", score: 1 }
                ]
            },
            {
                title: "8. Turning 360¬∫",
                nameAttr: "girando",
                explain: "Observe the ability to turn a full circle and stability.",
                options: [
                    { description: "Discontinuous steps / unbalanced", score: 0 },
                    { description: "Continuous steps / stable", score: 1 }
                ]
            },
            {
                title: "9. Sitting Down",
                nameAttr: "sentando",
                explain: "Ability to sit down in a chair.",
                options: [
                    { description: "Unsure / falls into the chair", score: 0 },
                    { description: "Uses arms or doesn't move smoothly", score: 1 },
                    { description: "Firm and secure", score: 2 }
                ]
            },
            {
                title: "10. Initiation of Gait",
                nameAttr: "inicio_marcha",
                explain: "Observes the start of walking.",
                options: [
                    { description: "Hesitation or multiple attempts", score: 0 },
                    { description: "No hesitation", score: 1 }
                ]
            },
            {
                title: "11. Step Length and Height",
                nameAttr: "passo",
                explain: "Observe the length and height of the step.",
                options: [
                    { description: "Right foot does not pass left or does not lift; Left foot does not pass right or does not lift", score: 0 },
                    { description: "Right foot passes left and lifts; Left foot passes right and lifts", score: 1 }
                ]
            },
            {
                title: "12. Step Symmetry",
                nameAttr: "simetria_passo",
                explain: "Observe if the steps are symmetrical.",
                options: [
                    { description: "Unequal lengths", score: 0 },
                    { description: "Equal lengths", score: 1 }
                ]
            },
            {
                title: "13. Step Continuity",
                nameAttr: "continuidade_passo",
                explain: "Observe if the walk is fluid or if there are interruptions.",
                options: [
                    { description: "Stops or discontinuities", score: 0 },
                    { description: "Continuous steps", score: 1 }
                ]
            },
            {
                title: "14. Gait Direction",
                nameAttr: "direcao_marcha",
                explain: "Observe the deviation from the walking line.",
                options: [
                    { description: "Marked deviation or uses help to stay on the line", score: 0 },
                    { description: "Slight or moderate deviation, but without help", score: 1 },
                    { description: "No deviation, walks in a straight line", score: 2 }
                ]
            },
            {
                title: "15. Trunk",
                nameAttr: "tronco_marcha",
                explain: "Observe the trunk's sway and use of arms during gait.",
                options: [
                    { description: "Trunk sways or uses arms to balance", score: 0 },
                    { description: "Bends knees or back / spreads arms", score: 1 },
                    { description: "No sway or bend", score: 2 }
                ]
            },
            {
                title: "16. Base of Support during Walking",
                nameAttr: "base_marcha",
                explain: "Distance between the heels during gait.",
                options: [
                    { description: "Ankles apart or unstable", score: 0 },
                    { description: "Ankles touch or are close, without deviation", score: 1 }
                ]
            }
        ];

        // Dynamically populates the form
        tinettiData.forEach(item => {
            const sectionDiv = document.createElement('div');
            sectionDiv.className = 'tinetti-criterion-section';
            sectionDiv.id = `section-${item.nameAttr}`;

            const titleH3 = document.createElement('h3');
            titleH3.className = 'tinetti-criterion-title';
            titleH3.innerHTML = item.title;
            sectionDiv.appendChild(titleH3);

            const explainP = document.createElement('p');
            explainP.className = 'tinetti-criterion-explain';
            explainP.innerHTML = item.explain;
            sectionDiv.appendChild(explainP);

            const selectElement = document.createElement('select');
            selectElement.id = item.nameAttr;
            selectElement.className = 'tinetti-criterion-select mt-2';
            
            const defaultOption = document.createElement('option');
            defaultOption.value = "";
            defaultOption.text = "Select...";
            selectElement.appendChild(defaultOption);

            item.options.forEach(option => {
                const optionElement = document.createElement('option');
                optionElement.value = option.score;
                optionElement.text = `${option.description} (points: ${option.score})`;
                selectElement.appendChild(optionElement);
            });

            sectionDiv.appendChild(selectElement);
            conteudoDiv.appendChild(sectionDiv);
        });
        
        function calcularTinetti() {
            const selects = document.querySelectorAll('#conteudo select');
            let allSelected = true;
            let total = 0;

            selects.forEach(select => {
                if (select.value === "") {
                    allSelected = false;
                    select.classList.add('incomplete');
                } else {
                    select.classList.remove('incomplete');
                    total += Number(select.value);
                }
            });

            resultadoDiv.style.display = "block";
            if (!allSelected) {
                resultadoDiv.innerHTML = '‚ö†Ô∏è <strong class="font-bold">Please select an option for all items before calculating.</strong>';
                resultadoDiv.className = `resultado bg-red-100`;
                delete resultadoDiv.dataset.score;
                return;
            }

            let recomendacao = '';
            
            if (total <= 19) {
                recomendacao = `A score of ${total} indicates a high risk of falls. The implementation of safety measures and a fall prevention intervention plan is recommended.`;
            } else {
                recomendacao = `A score of ${total} indicates a low risk of falls. Continue to monitor the patient's mobility.`;
            }

            resultadoDiv.innerHTML = `
                <p>Total score: <strong class="font-bold">${total}</strong></p>
                <p class="mt-4"><strong>Recommendation:</strong> ${recomendacao}</p>
            `;
            resultadoDiv.className = `resultado bg-blue-50`;
            resultadoDiv.style.display = "block";

            resultadoDiv.dataset.score = total;
            resultadoDiv.dataset.scaleName = "Tinetti Scale";
        }

        function limparCampos() {
            const selects = document.querySelectorAll('#conteudo select');
            selects.forEach(select => {
                select.selectedIndex = 0;
                select.classList.remove('incomplete');
            });
            resultadoDiv.innerHTML = '';
            resultadoDiv.className = 'resultado hidden';
            delete resultadoDiv.dataset.score;
            delete resultadoDiv.dataset.scaleName;
        }

        // Add event listeners to buttons
        btnCalcular?.addEventListener('click', calcularTinetti);
        btnLimpar?.addEventListener('click', limparCampos);

        btnGerarPDF?.addEventListener('click', () => {
            if (!resultadoDiv.dataset.score) {
                alert('Please, click on "Calculate Score" first to generate the PDF.');
                return;
            }
            if (typeof gerarPDFGlobal === 'function') {
                const selectedOptions = {};
                document.querySelectorAll('#conteudo select').forEach(select => {
                    const selected = select.options[select.selectedIndex];
                    if (selected.value !== "") {
                        selectedOptions[select.id] = selected.text;
                    }
                });

                let contentToPrint = document.querySelector('.main-content-wrapper').cloneNode(true);
                let contentContainer = contentToPrint.querySelector('#conteudo');
                
                contentContainer.innerHTML = '';
                
                let balanceSectionTitle = document.createElement('h3');
                balanceSectionTitle.className = 'text-lg font-semibold mt-4 mb-2';
                balanceSectionTitle.innerText = `Balance Section (Maximum Score: 16)`;
                contentContainer.appendChild(balanceSectionTitle);

                tinettiData.slice(0, 9).forEach(item => {
                    let selectedText = selectedOptions[item.nameAttr];
                    if (selectedText) {
                        let itemDiv = document.createElement('div');
                        itemDiv.className = 'mb-2 p-2 bg-gray-50 rounded';
                        itemDiv.innerHTML = `<strong>${item.title}:</strong> ${selectedText}`;
                        contentContainer.appendChild(itemDiv);
                    }
                });

                let gaitSectionTitle = document.createElement('h3');
                gaitSectionTitle.className = 'text-lg font-semibold mt-4 mb-2';
                gaitSectionTitle.innerText = `Gait Section (Maximum Score: 12)`;
                contentContainer.appendChild(gaitSectionTitle);

                tinettiData.slice(9, 16).forEach(item => {
                    let selectedText = selectedOptions[item.nameAttr];
                    if (selectedText) {
                        let itemDiv = document.createElement('div');
                        itemDiv.className = 'mb-2 p-2 bg-gray-50 rounded';
                        itemDiv.innerHTML = `<strong>${item.title}:</strong> ${selectedText}`;
                        contentContainer.appendChild(itemDiv);
                    }
                });

                let resultadoHtml = resultadoDiv.cloneNode(true);
                if(resultadoHtml.style.display !== 'none') {
                    contentContainer.appendChild(resultadoHtml);
                }
                
                gerarPDFGlobal({
                    titulo: 'Tinetti Scale',
                    subtitulo: 'Gait and Balance Assessment Report',
                    nomeArquivo: 'tinetti_scale_report.pdf',
                    seletorConteudo: '.main-content-wrapper'
                });
            } else {
                console.error('Function gerarPDFGlobal not defined.');
            }
        });

        btnNandaNicNoc?.addEventListener('click', () => {
            const score = resultadoDiv.dataset.score;
            const scaleName = resultadoDiv.dataset.scaleName;
            if (!score) {
                alert('Calculate the result to search for the nursing care plan.');
                return;
            }
            const recomendacaoRisco = score <= 19 ? 'high risk of falls' : 'low risk of falls';
            const searchQuery = encodeURIComponent(`nursing care plan for elderly patient with ${recomendacaoRisco} on Tinetti Scale NANDA NIC NOC`);
            window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
        });
    });
  </script>
<script type='text/javascript' src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script></body>
</html>