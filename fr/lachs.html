<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- CHEMINS MIS À JOUR POUR POINTER VERS LE DOSSIER /fr/ -->
    <link rel="preload" href="/fr/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/fr/global-body-elements.html" as="fetch" crossorigin>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Échelle de Lachs : Évaluation de la Capacité Fonctionnelle des Personnes Âgées - Calculatrices de Soins Infirmiers</title>
    
    <!-- Metatags et SEO Traduits -->
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/fr/lachs.html" />
    <!-- BLOC HREFLANG MIS À JOUR SELON VOTRE DEMANDE -->
    <link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/lachs.html" />
    <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/lachs.html" />
    <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/lachs.html" />
    <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/lachs.html" />
    <link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/lachs.html" />
    <link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/lachs.html" />
    <link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/lachs.html" />
    
    <!-- CHEMIN DU FAVICON CORRIGÉ -->
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <meta name="description" content="Calculez l'échelle de Lachs pour dépister la capacité fonctionnelle des personnes âgées sur 11 items, tels que la vision, l'audition, la mobilité et le contrôle des sphincters." />
    <meta property="og:title" content="Échelle de Lachs : Évaluation de la Capacité Fonctionnelle des Personnes Âgées - Calculatrices de Soins Infirmiers" />
    <meta property="og:description" content="Calculez l'échelle de Lachs pour dépister la capacité fonctionnelle des personnes âgées sur 11 items, tels que la vision, l'audition, la mobilité et le contrôle des sphincters." />
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/fr/lachs.html" />
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Échelle de Lachs : Évaluation de la Capacité Fonctionnelle des Personnes Âgées - Calculatrices de Soins Infirmiers" />
    <meta name="twitter:description" content="Calculez l'échelle de Lachs pour dépister la capacité fonctionnelle des personnes âgées sur 11 items, tels que la vision, l'audition, la mobilité et le contrôle des sphincters." />
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />

    <!-- Scripts et Styles Globaux (Chemins corrigés) -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script async src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../global-styles.css" media="print" onload="this.media='all'">
    
    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com&display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/opendyslexic/web/opendyslexic.css" media="print" onload="this.media='all'" />

     <!-- Google Analytics & Consent Mode -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'wait_for_update': 500
        });
        gtag('config', 'AW-952633102');
        gtag('config', 'G-8FLJ59XXDK');
    </script>

    <!-- Schema.org Structured Data Traduit -->
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"MedicalTest",
      "name":"Échelle de Lachs",
      "alternateName":["Lachs Functional Assessment Tool", "Évaluation Fonctionnelle de Lachs"],
      "description":"Un outil de dépistage rapide pour identifier les déficiences fonctionnelles chez les personnes âgées dans divers domaines tels que la vision, l'audition, la mobilité et la cognition.",
      "url":"https://www.calculadorasdeenfermagem.com.br/fr/lachs.html",
      "relevantSpecialty": {
        "@type": "MedicalSpecialty",
        "name": "Gériatrie, Soins primaires"
      }
    }
    </script>

    <!-- Estilos Específicos da Página (Maintenus, classes traduites) -->
    <style>
        .lachs-criterion-section {
            background-color: #fff;
            border: 1px solid #d1d5db; /* Gris */
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
            display: flex;
            flex-direction: column; /* Empile par défaut */
            gap: 0.75rem;
        }
        .lachs-criterion-section:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
        }
        .lachs-criterion-title {
            font-size: 1.25rem; /* Taille */
            font-weight: 700; /* Gras */
            color: #1A3E74; /* Bleu foncé */
            /* Suppression du margin-bottom car gap est utilisé */
            text-align: left;
        }
        .lachs-criterion-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.375rem;
            font-size: 1rem;
            color: #333;
            background-color: #fff;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
        }
        .lachs-criterion-select:focus {
            outline: none;
            border-color: #1FA4E5; /* Bleu clair */
            box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
        }
        .lachs-criterion-explain {
            font-size: 0.9rem; /* Taille plus petite */
            color: #6b7280; /* Gris */
            margin-top: 0; /* Pas de marge car gap est utilisé */
        }
        .incomplete { /* Classe pour mise en évidence */
            border: 2px solid #ef4444 !important;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
        }
        .resultado {
            background-color: #e0f2fe; /* Bleu clair */
            color: #1A3E74; /* Bleu foncé */
            border: 1px solid #bfdbfe; /* Bleu */
            border-radius: 1rem; /* Bords arrondis */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Ombre */
            padding: 1.5rem; /* Marge interne */
            margin-top: 1.5rem;
            display: none; /* Caché par défaut */
        }
        .resultado p {
            margin: 0;
            line-height: 1.5;
        }
        .resultado strong {
            font-weight: 700;
        }
        /* Classe pour résultat indiquant un risque */
        .resultado.bg-red-100 { 
            background-color: #fee2e2; 
            color: #dc2626; 
            border-color: #fca5a5; 
        }
        
        /* Ajustements pour écrans larges */
        @media (min-width: 640px) {
            .lachs-criterion-section {
                flex-direction: row; /* Met en ligne */
                align-items: center; /* Centre verticalement */
                justify-content: space-between; /* Espace */
                gap: 1rem; /* Espace entre les éléments */
            }
            .lachs-criterion-content { /* Nouveau conteneur pour titre et explication */
                 flex-basis: 55%;
                 display: flex;
                 flex-direction: column;
                 gap: 0.25rem; /* Espace entre titre et explication */
            }
            .lachs-criterion-title {
                 margin-bottom: 0; /* Suppression de la marge */
            }
            .lachs-criterion-select-container { /* Nouveau conteneur pour le select */
                flex-basis: 40%;
            }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <div class="w-full flex justify-center py-2 bg-gray-100" aria-label="Espace publicitaire supérieur"> 
        <script type="text/javascript">
            atOptions = {
                'key' : '1e009bba81deb2bc366b3c4ac030f6be',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        
    </div>
    
    <!-- Skip Links Traduzidos -->
    <nav aria-label="Raccourcis d'accessibilité" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="../index.html" accesskey="I" class="block mb-2">Aller à l'accueil [Alt + Shift + I]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">Passer au contenu principal [Alt + Shift + C]</a>
        <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Activer la barre d'accessibilité [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">Retour en haut de page [Alt + Shift + T]</a>
    </nav>

    <!-- ARIA Live Region -->
    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- Container para o Menu Global (carregado via JS da pasta /fr/) -->
    <div id="global-header-container"></div>
    
    <!-- Seletor de Idioma (Caminhos das bandeiras corrigidos para ../) -->
    <div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-right:2rem;">
      <div class="relative inline-block text-left z-50">
        <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
          <img id="langFlag" width="20" height="16" src="../bandeira-franca.webp" alt="FR" class="w-5 h-4 rounded-sm">
          <span id="langText" class="text-gray-700 font-medium">Français</span>
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>

        <div id="langMenu" class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="../bandeira-brasil.webp">
            <img src="../bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="BR"><span>Português</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="../bandeira-eua.webp">
            <img src="../bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN"><span>English</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="../bandeira-espanha.webp">
            <img src="../bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES"><span>Español</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="../bandeira-alemanha.webp">
            <img src="../bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE"><span>Deutsch</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="../bandeira-italia.webp">
            <img src="../bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT"><span>Italiano</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="../bandeira-franca.webp">
            <img src="../bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR"><span>Français</span>
          </div>
           <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="in" data-flag="../bandeira-india.webp">
            <img src="../bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="IN"><span>भारत</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="cn" data-flag="../bandeira-china.webp">
            <img src="../bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="CN"><span>中国</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ar" data-flag="../bandeira-arabia.webp">
            <img src="../bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR"><span>اللغة العربية</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="jp" data-flag="../bandeira-japao.webp">
            <img src="../bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JP"><span>日本語</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Script do menu global (caminho corrigido) -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/fr/menu-global.html') // Chemin absolu vers le dossier FR
                .then(response => response.text())
                .then(html => {
                    document.getElementById('global-header-container').innerHTML = html;
                    ajusterEspacoSeletorIdioma();
                });
        });

        function ajustarEspacoSeletorIdioma() {
            var header = document.getElementById('global-header-container');
            var selector = document.getElementById('language-dropdown-wrapper');
            if (header && selector) {
                var headerHeight = header.offsetHeight;
                selector.style.marginTop = (headerHeight > 0 ? headerHeight + 12 : 70) + 'px';
            }
        }
        window.addEventListener('load', ajustarEspacoSeletorIdioma);
        window.addEventListener('resize', ajustarEspacoSeletorIdioma);
    </script>
    
    <!-- Conteúdo Principal da Página (Traduzido) -->
    <main id="main-content" class="flex-grow p-4 sm:p-8">
        <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
            <!-- Breadcrumb Traduzido et avec chemin corrigé -->
            <nav class="breadcrumb" aria-label="breadcrumb">
                <ol>
                    <li><a href="../index.html">Accueil</a></li>
                    <li><a href="#">Échelles Gériatriques</a></li>
                    <li>Échelle de Lachs</li>
                </ol>
            </nav>

            <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
                <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    Échelle de Lachs
                </h1>
            </div>
            <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>
            <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
              Évaluation de la Capacité Fonctionnelle des Personnes Âgées
            </h2>

            <p id="intro-paragraph" class="font-inter font-normal text-black-custom text-base lg:text-lg mb-6 text-left">
              Sélectionnez une option pour chaque item de l'échelle de Lachs afin de dépister la capacité fonctionnelle de la personne âgée, en identifiant les problèmes pouvant entraîner une perte d'autonomie.
            </p>
             <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                 <strong>Année de Création:</strong> 1990
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Auteurs:</strong> Marie S. Lachs et collaborateurs.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Domaine d'application:</strong> Soins Primaires (APS) et Gériatrie.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Critères évalués:</strong> Vision, Audition, Incontinence urinaire, AVQ et AIVQ, Force de préhension (membres supérieurs), Force des membres inférieurs, Nutrition, État mental, Dépression, Environnement domestique, Soutien social.
            </p>
             <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                 <strong>Qui l'utilise?:</strong> Médecin de famille et communautaire. Médecin gériatre, infirmier en soins primaires et gériatrie.
             </p>

            <!-- Container pour les critères de la calculatrice -->
            <div id="conteudo">
                <!-- Les cartes de critères seront générées ici -->
            </div>

            <!-- Div pour afficher le résultat -->
            <div id="resultado" class="resultado" aria-live="polite"></div>

            <!-- Boutons d'action -->
            <div class="flex flex-wrap justify-start gap-4 mt-6">
                <button id="btnCalcular" class="btn-primary" aria-label="Calculer le score">
                  Calculer le Score
                </button>
                <button id="btnLimpar" class="btn-primary" aria-label="Effacer les champs">
                  Effacer
                </button>
                <button id="btnGerarPDF" class="btn-secondary" aria-label="Générer PDF">
                  Générer PDF
                </button>
                <button id="btnNandaNicNoc" class="btn-primary" aria-label="Rechercher NANDA, NIC, NOC">
                    NANDA, NIC, NOC
                </button>
            </div>

            <!-- Références Bibliographiques (Source principale en français) -->
            <div id="reference-section" class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
              <strong>Références :</strong><br>
              <ul class="list-disc list-inside mt-2">
                <li>LACHS, M. S. et al. A simple procedure for general screening for functional disability in elderly patients. **Annals of Internal Medicine**, v. 111, p. 699-706, 1990. <a href="https://doi.org/10.7326/0003-4819-112-9-699" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">DOI: 10.7326/0003-4819-112-9-699</a> (Article original)</li>
                <li>HAS - Haute Autorité de Santé. (2007). *Repérage des fragilités chez les personnes âgées de 65 ans et plus en soins de premier recours*. Consulté sur <a href="https://www.has-sante.fr/" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">HAS website</a> (Bien que plus large, ce type de document cite souvent des outils comme Lachs pour le repérage fonctionnel).</li>
              </ul>
            </div>
        </div>
    </main>

    <!-- Placeholder pour le Rodapé Carregado via JS -->
    <div id="footer-placeholder"></div>
    
    <!-- Elementos globais do corpo (como modal de cookies, botão 'voltar ao topo') -->
    <div id="global-body-elements-container"></div>
    
    <!-- Scripts Globais e de Bibliotecas (Chemins corrigés) -->
    
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script src="../global-scripts.js" defer></script>

    <!-- Script Específico da Página Lachs (Traduzido) -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Carrega le rodapé da pasta /fr/ via fetch
            fetch('footer.html') 
                .then(response => response.text()) 
                .then(data => {
                    document.getElementById('footer-placeholder').innerHTML = data;
                });

            // Carrega les éléments globaux da pasta /fr/
            fetch('/fr/global-body-elements.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('global-body-elements-container').innerHTML = html;
                    // Ativa o VLibras et outros scripts globaux APRÈS carregar le contenu
                    if (typeof initVLibras === 'function') {
                        initVLibras();
                    }
                    if (typeof setupGlobalElements === 'function') {
                        setupGlobalElements();
                    }
                });

            const resultadoDiv = document.getElementById('resultado');
            const btnCalcular = document.getElementById('btnCalcular');
            const btnLimpar = document.getElementById('btnLimpar');
            const btnGerarPDF = document.getElementById('btnGerarPDF');
            const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
            const conteudoDiv = document.getElementById('conteudo');
            
            // Données de l'échelle Lachs traduites
            const lachsData = [
                {
                    category: "Vision",
                    nameAttr: "vision",
                    explain: "Le patient peut-il lire une carte de Jaeguer à 35 cm, avec des lunettes si nécessaire, jusqu'au niveau 20/40 ?",
                    options: [
                        { description: "Oui, peut lire jusqu'à 20/40.", score: 1 },
                        { description: "Non, ne peut pas lire jusqu'à 20/40.", score: 0 },
                    ]
                },
                {
                    category: "Audition",
                    nameAttr: "audition",
                    explain: "Le patient répond-il lorsqu'on lui pose une question chuchotée (Ex. : 'quel est votre nom ?') hors de son champ de vision ?",
                    options: [
                        { description: "Oui, répond à la question.", score: 1 },
                        { description: "Non, ne répond pas à la question.", score: 0 },
                    ]
                },
                {
                    category: "Incontinence urinaire",
                    nameAttr: "incontinence_urinaire",
                    explain: "Le patient perd-il involontairement de l'urine et mouille-t-il ses sous-vêtements au moins 6 jours distincts au cours de la dernière année ?",
                    options: [
                        { description: "Non", score: 1 },
                        { description: "Oui", score: 0 },
                    ]
                },
                {
                    category: "AVQ et AIVQ", // Activités de la Vie Quotidienne / Activités Instrumentales de la Vie Quotidienne
                    nameAttr: "avq_aivq",
                    explain: "Le patient peut-il se lever du lit, s'habiller, préparer ses repas et faire ses courses seul ?",
                    options: [
                        { description: "Oui, capable de réaliser toutes les activités.", score: 1 },
                        { description: "Non, incapable de réaliser au moins une des activités.", score: 0 },
                    ]
                },
                {
                    category: "Force de préhension (membres supérieurs)",
                    nameAttr: "force_prehension",
                    explain: "Le patient peut-il toucher sa nuque avec les deux mains et tenir une cuillère ?",
                    options: [
                        { description: "Oui, peut réaliser les deux tâches.", score: 1 },
                        { description: "Non, ne peut réaliser une ou les deux tâches.", score: 0 },
                    ]
                },
                {
                    category: "Force des membres inférieurs",
                    nameAttr: "force_inferieurs",
                    explain: "Le patient peut-il se lever d'une chaise, marcher 3 mètres, revenir et s'asseoir en moins de 12 secondes ?",
                    options: [
                        { description: "Oui, réalise le test en ≤ 12 secondes.", score: 1 },
                        { description: "Non, ne marche pas ou met plus de 12 secondes pour compléter le test.", score: 0 },
                    ]
                },
                {
                    category: "Nutrition",
                    nameAttr: "nutrition",
                    explain: "Le patient a-t-il un IMC (Indice de Masse Corporelle) supérieur à 22 kg/m² ?",
                    options: [
                        { description: "Oui, IMC ≥ 22 kg/m².", score: 1 },
                        { description: "Non, IMC < 22 kg/m².", score: 0 },
                    ]
                },
                {
                    category: "État mental",
                    nameAttr: "etat_mental",
                    explain: "Le patient peut-il répéter trois mots (ex : 'voiture', 'vase', 'balle') après 1 minute ?",
                    options: [
                        { description: "Oui, peut répéter tous les mots.", score: 1 },
                        { description: "Non, ne peut répéter au moins un des mots.", score: 0 },
                    ]
                },
                {
                    category: "Dépression",
                    nameAttr: "depression",
                    explain: "Le patient se sent-il triste ou déprimé(e) souvent ?",
                    options: [
                        { description: "Non", score: 1 },
                        { description: "Oui", score: 0 },
                    ]
                },
                {
                    category: "Environnement à domicile",
                    nameAttr: "environnement",
                    explain: "Le patient a-t-il des difficultés avec les escaliers, la baignoire, les tapis non fixés ou un faible éclairage à la maison ?",
                    options: [
                        { description: "Non, l'environnement est sûr.", score: 1 },
                        { description: "Oui, il y a des risques dans l'environnement domestique.", score: 0 },
                    ]
                },
                {
                    category: "Soutien social",
                    nameAttr: "soutien_social",
                    explain: "Le patient a-t-il de la famille, des amis ou des voisins sur qui compter en cas de maladie ou d'urgence ?",
                    options: [
                        { description: "Oui, dispose d'un soutien social.", score: 1 },
                        { description: "Non, n'a pas de soutien social.", score: 0 },
                    ]
                }
            ];

            // Remplit le formulaire dynamiquement
            lachsData.forEach(item => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'lachs-criterion-section';
                sectionDiv.id = `section-${item.nameAttr}`;

                // Container pour titre et explication
                const contentDiv = document.createElement('div');
                contentDiv.className = 'lachs-criterion-content'; 

                const titleH3 = document.createElement('h3');
                titleH3.className = 'lachs-criterion-title';
                titleH3.innerHTML = item.category;
                contentDiv.appendChild(titleH3);

                const explainP = document.createElement('p');
                explainP.className = 'lachs-criterion-explain';
                explainP.innerHTML = item.explain;
                contentDiv.appendChild(explainP);

                sectionDiv.appendChild(contentDiv); // Ajoute le contenu groupé

                // Container pour le select
                const selectContainer = document.createElement('div');
                selectContainer.className = 'lachs-criterion-select-container';

                const selectElement = document.createElement('select');
                selectElement.id = item.nameAttr;
                selectElement.className = 'lachs-criterion-select';
                
                const defaultOption = document.createElement('option');
                defaultOption.value = "";
                defaultOption.text = "Sélectionnez..."; // Traduzido
                defaultOption.disabled = true; // Empêche la sélection
                defaultOption.selected = true; // Sélectionné par défaut
                selectElement.appendChild(defaultOption);

                item.options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option.score;
                    // Texte traduit : description + score
                    optionElement.text = `${option.description} (points : ${option.score})`; 
                    selectElement.appendChild(optionElement);
                });
                
                selectContainer.appendChild(selectElement); // Ajoute le select au container
                sectionDiv.appendChild(selectContainer); // Ajoute le container à la section
                conteudoDiv.appendChild(sectionDiv); // Ajoute la section au contenu principal
            });

            function calculerLachs() {
                const selects = document.querySelectorAll('#conteudo select');
                let allSelected = true;
                let total = 0;

                selects.forEach(select => {
                     const card = select.closest('.lachs-criterion-section');
                    if (select.value === "") {
                        allSelected = false;
                        select.classList.add('incomplete');
                        card?.classList.add('incomplete'); // Marque la carte aussi
                    } else {
                        select.classList.remove('incomplete');
                         card?.classList.remove('incomplete');
                        total += Number(select.value);
                    }
                });

                resultadoDiv.style.display = "block"; // Affiche la div
                if (!allSelected) {
                    resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">Veuillez sélectionner une option pour tous les items avant de calculer.</strong>'; // Traduzido
                     resultadoDiv.className = 'resultado bg-red-100'; // Classe rouge pour erreur
                    delete resultadoDiv.dataset.score; // Efface les données
                    return;
                }

                // Interprétation traduite
                let recommandation = '';
                
                if (total <= 5) {
                    recommandation = `Le score de ${total} suggère un risque élevé de perte de capacité fonctionnelle et de dépendance. Une évaluation gériatrique complète et un plan de soins individualisé sont recommandés pour maximiser l'autonomie et la sécurité du patient.`;
                } else if (total >= 6 && total <= 9) {
                    recommandation = `Le score de ${total} indique un risque modéré de perte de capacité fonctionnelle. Le patient pourrait avoir besoin de soutien dans certains domaines.`;
                } else { // total >= 10
                    recommandation = `Le score de ${total} suggère que le patient possède une bonne capacité fonctionnelle et un faible risque de perte d'autonomie.`;
                }

                resultadoDiv.innerHTML = `
                    <p>Score total : <strong class="font-bold">${total}</strong></p>
                    <p class="mt-4"><strong>Recommandation :</strong> ${recommandation}</p>
                `;
                 resultadoDiv.className = `resultado bg-blue-50`; // Classe bleue pour résultat standard
                 resultadoDiv.style.display = "block";

                // Stocke les données
                resultadoDiv.dataset.score = total;
                resultadoDiv.dataset.scaleName = "Échelle de Lachs"; // Nom pour NANDA
            }

            function limparCampos() {
                const selects = document.querySelectorAll('#conteudo select');
                selects.forEach(select => {
                    const card = select.closest('.lachs-criterion-section');
                    select.selectedIndex = 0; // Réinitialise à "Sélectionnez..."
                    select.classList.remove('incomplete');
                    card?.classList.remove('incomplete');
                });
                resultadoDiv.innerHTML = '';
                resultadoDiv.className = 'resultado hidden'; // Cache et reset
                // Efface les données stockées
                delete resultadoDiv.dataset.score;
                delete resultadoDiv.dataset.scaleName;
            }

            // Ajoute les event listeners aux boutons
            btnCalcular?.addEventListener('click', calculerLachs);
            btnLimpar?.addEventListener('click', limparCampos);

            // Funcionalidade PDF
            btnGerarPDF?.addEventListener('click', () => {
                if (!resultadoDiv.dataset.score) {
                    alert('Veuillez cliquer sur "Calculer le Score" d\'abord pour générer le PDF.'); // Traduzido
                    return;
                }
                if (typeof gerarPDFGlobal === 'function') {
                    gerarPDFGlobal({
                        titulo: 'Échelle de Lachs', // Traduzido
                        subtitulo: 'Rapport d\'Évaluation Fonctionnelle Gériatrique', // Traduzido
                        nomeArquivo: 'rapport_echelle_lachs.pdf', // Traduzido
                        seletorConteudo: '.main-content-wrapper'
                    });
                } else {
                    console.error('Fonction gerarPDFGlobal non définie.');
                }
            });

            // Funcionalidade NANDA/NIC/NOC
            btnNandaNicNoc?.addEventListener('click', () => {
                const score = resultadoDiv.dataset.score;
                const scaleName = resultadoDiv.dataset.scaleName;
                if (!score) {
                    alert('Calculez le résultat pour rechercher la conduite à tenir.'); // Traduzido
                    return;
                }
                 // Recherche traduite
                const searchQuery = encodeURIComponent(`soins infirmiers pour l'indépendance de la personne âgée ${scaleName} score ${score} NANDA NIC NOC`);
                window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
            });
        });
    </script>



<script type="text/javascript">
	atOptions = {
		'key' : '1e009bba81deb2bc366b3c4ac030f6be',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>

<!-- CHEMIN DU SCRIPT CORRIGÉ -->
<script src="../lang-selector.js" defer></script>
</body>
</html>
