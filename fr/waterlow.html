<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Chargement des fichiers structurels depuis le dossier /fr/ -->
    <link rel="preload" href="/fr/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/fr/global-body-elements.html" as="fetch" crossorigin>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Échelle de Waterlow - Risque d'Escarres - Calculatrices de Soins Infirmiers</title>

    <!-- Bloc Hreflang MIS À JOUR comme demandé -->
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/fr/waterlow.html" />
    <link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/waterlow.html" />
    <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/waterlow.html" />
    <link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/waterlow.html" />
    <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/waterlow.html" />
    <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/waterlow.html" />
    <link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/waterlow.html" />
    <link rel="alternate" hreflang="hi" href="https://www.calculadorasdeenfermagem.com.br/hi/waterlow.html" />
    <link rel="alternate" hreflang="cn" href="https://www.calculadorasdeenfermagem.com.br/cn/waterlow.html" />
    <link rel="alternate" hreflang="ar" href="https://www.calculadorasdeenfermagem.com.br/ar/waterlow.html" />
    <link rel="alternate" hreflang="jp" href="https://www.calculadorasdeenfermagem.com.br/jp/waterlow.html" />

    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <meta name="description" content="Calculez l'Échelle de Waterlow pour évaluer le risque de développement de Lésions de Pression (escarres) chez les patients. Outil essentiel pour la prévention et les soins infirmiers." />
    <meta property="og:title" content="Échelle de Waterlow - Risque d'Escarres - Calculatrices de Soins Infirmiers" />
    <meta property="og:description" content="Calculatrice de l'Échelle de Waterlow pour l'évaluation du risque de lésions de pression." />
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/fr/waterlow.html" />
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Échelle de Waterlow - Risque d'Escarres - Calculatrices de Soins Infirmiers" />
    <meta name="twitter:description" content="Calculatrice de l'Échelle de Waterlow pour l'évaluation du risque de lésions de pression." />
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />

    <script src="https://cdn.tailwindcss.com" defer></script>
    <script async src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <!-- Chemin absolu vers le CSS global -->
    <link rel="stylesheet" href="/global-styles.css" media="print" onload="this.media='all'">
    
    <link rel="preconnect" href="https://fonts.googleapis.com&display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/opendyslexic/web/opendyslexic.css" media="print" onload="this.media='all'" />

    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'wait_for_update': 500
        });
        gtag('config', 'AW-952633102');
        gtag('config', 'G-8FLJ59XXDK');
    </script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalEntity",
      "name": "Échelle de Waterlow", // TRADUIT
      "url": "https://www.calculadorasdeenfermagem.com.br/fr/waterlow.html",
      "description": "Calculatrice de l'Échelle de Waterlow pour l'évaluation du risque de lésions de pression.", // TRADUIT
      "alternateName": ["Waterlow Scale", "Évaluation risque escarres Waterlow"] // Ajout version française
    }
    </script>
    
    <style>
         /* Styles du résultat */
         .resultado {
             padding: 1.5rem;
             margin-top: 1.5rem;
             border-radius: 12px;
             font-size: 1.1rem;
             border: 1px solid transparent;
             display: none; /* Caché par défaut */
             text-align: left;
             box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
         .resultado p { margin-bottom: 0.5rem; }
         .resultado strong { font-weight: bold; }
        /* Classes de couleur pour le résultat */
         .resultado.bg-low-risk { background-color: #D4EDDA; color: #155724; border-color: #c3e6cb;} /* Vert */
         .resultado.bg-medium-risk { background-color: #FFF3CD; color: #856404; border-color: #ffeeba;} /* Jaune */
         .resultado.bg-high-risk { background-color: #F8D7DA; color: #721C24; border-color: #f5c6cb;} /* Rouge clair */
         .resultado.bg-very-high-risk { background-color: #f8d7da; color: #721c24; border-color: #f5c6cb; } /* Rouge plus foncé pour très haut risque */
         .bg-info-orange-light { background-color: #ffeeba; border-color: #ffb366; color: #856404; } /* Orange pour erreur */

        /* Styles pour les cartes de critères */
        .waterlow-criteria-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .waterlow-criterion-card {
            background-color: #fff;
            border: 1px solid #d1d5db;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
        }
        .waterlow-criterion-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
        }
        .waterlow-criterion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
            text-align: left;
        }
        .waterlow-criterion-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1A3E74;
        }
        .waterlow-score-display { /* Pour afficher le score à côté du titre (pour les radios) */
            font-size: 1.1rem; /* Légèrement plus petit */
            font-weight: 700;
            color: #1FA4E5; /* Bleu */
        }
        /* Style pour les selects (utilisé pour les radios) */
        .waterlow-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.375rem;
            font-size: 1rem;
            color: #333;
            background-color: #fff;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
        }
        .waterlow-select:focus {
            outline: none;
            border-color: #1FA4E5;
            box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
        }
        /* Style pour les labels des checkboxes */
        .waterlow-option-label {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            border-radius: 6px;
            border: 1px solid #e5e7eb; /* Bordure légère */
            cursor: pointer;
             margin-bottom: 0.5rem; /* Espace entre checkboxes */
            background-color: #f9fafb; /* Fond très léger */
            transition: background-color 0.2s, border-color 0.2s;
        }
        .waterlow-option-label:hover {
            background-color: #f3f4f6;
            border-color: #d1d5db;
        }
        .waterlow-option-label input[type="checkbox"] {
            flex-shrink: 0;
            transform: scale(1.1);
            accent-color: #1A3E74; /* Couleur de la coche */
        }
        .waterlow-option-label span {
            flex-grow: 1; /* Le texte prend la place restante */
        }
        /* Style pour les titres des sous-catégories (checkboxes) */
        .waterlow-sub-category {
            font-weight: 600;
            color: #111827; /* Noir léger */
            margin-top: 1.25rem; /* Plus d'espace au-dessus */
            margin-bottom: 0.75rem;
            padding-bottom: 0.25rem;
            border-bottom: 1px solid #e5e7eb; /* Ligne de séparation légère */
            text-align: left;
            font-size: 1rem;
        }
        /* Classe pour indiquer un champ obligatoire manquant */
         .incomplete {
            border-color: #ef4444 !important; /* Rouge vif */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <div class="w-full flex justify-center py-2 bg-gray-100" aria-label="Espace pour la publicité supérieure"> 
        <script type="text/javascript">
            atOptions = {
                'key' : '1e009bba81deb2bc366b3c4ac030f6be',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        
    </div>
    
    <nav aria-label="Raccourcis d'accessibilité" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="/fr/" accesskey="I" class="block mb-2">Aller à l'accueil [Alt + Shift + I]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">Passer au contenu principal [Alt + Shift + C]</a>
        <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Activer la barre d'accessibilité [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">Retour en haut de la page [Alt + Shift + T]</a>
    </nav>

    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <div id="global-header-container"></div>
    <div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-right:2rem;">
        <div class="relative inline-block text-left z-50">
            <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
                <img id="langFlag" width="20" height="16" src="/bandeira-franca.webp" alt="FR" class="w-5 h-4 rounded-sm">
                <span id="langText" class="text-gray-700 font-medium">Français</span>
                <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
            </button>

            <div id="langMenu" class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="/bandeira-brasil.webp">
                    <img src="/bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="BR"><span>Português</span>
                </div>
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="/bandeira-eua.webp">
                    <img src="/bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN"><span>English</span>
                </div>
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="/bandeira-espanha.webp">
                    <img src="/bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES"><span>Español</span>
                </div>
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="/bandeira-alemanha.webp">
                    <img src="/bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE"><span>Deutsch</span>
                </div>
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="/bandeira-italia.webp">
                    <img src="/bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT"><span>Italiano</span>
                </div>
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="/bandeira-franca.webp">
                    <img src="/bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR"><span>Français</span>
                </div>
                 <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="hi" data-flag="/bandeira-india.webp">
                    <img src="/bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="IN"><span>भारत</span>
                </div>
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="zh" data-flag="/bandeira-china.webp">
                    <img src="/bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="CN"><span>中国</span>
                </div>
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ar" data-flag="/bandeira-arabia.webp">
                    <img src="/bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR"><span>اللغة العربية</span>
                </div>
                <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ja" data-flag="/bandeira-japao.webp">
                    <img src="/bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JP"><span>日本語</span>
                </div>
            </div>
        </div>
    </div>
    <main id="main-content" class="flex-grow p-4 sm:p-8">
        <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
            <nav class="breadcrumb" aria-label="fil d'Ariane"><ol><li><a href="/fr/index.html">Accueil</a></li><li><a href="#">Calculatrices</a></li><li>Échelle de Waterlow</li></ol></nav>

            <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
                <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    Échelle de Waterlow
                </h1>
            </div>
            <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

            <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
                Évaluation du Risque de Lésions de Pression (Escarres)
            </h2>
            <p id="description-text" class="text-gray-700 mb-6 text-left">
                L'Échelle de Waterlow est un outil utilisé pour identifier les patients présentant un risque de développer des Lésions de Pression (escarres), permettant la mise en œuvre de mesures préventives appropriées dans le cadre du processus de soins infirmiers par l'infirmier(ère).
            </p>
             <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Année de création :</strong> 1985 
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Auteur(e) :</strong> Infirmière Judy Waterlow.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Domaine d'application :</strong> Hôpitaux, maisons de soins, soins à domicile.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Critères évalués (principaux) :</strong> IMC, Type de peau, Mobilité, Continence, Sexe/Âge, Appétit, Risques Spéciaux (Malnutrition tissulaire, Déficit neurologique, Chirurgie majeure/traumatisme, Médicaments).
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Qui l'utilise ? :</strong> Infirmiers/infirmières, aides-soignant(e)s (sous supervision infirmière).
            </p>
            <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-left">
                Sélectionnez l'option appropriée pour chaque critère :
            </p>

            <form id="waterlow-form"> <!-- Ajout du formulaire -->
                <div id="conteudo" class="waterlow-criteria-container">
                    <!-- Les critères seront remplis dynamiquement par JavaScript -->
                </div>
            </form>

            <div id="resultado" class="resultado hidden" aria-live="polite"></div>

            <div class="flex flex-wrap justify-start gap-4 mt-8"> <!-- Augmenté l'espace -->
                <button id="btnCalcular" class="btn-primary" aria-label="Calculer le score Waterlow">
                    Calculer
                </button>
                <button id="btnLimpar" class="btn-primary" aria-label="Effacer les champs">
                    Effacer
                </button>
                <button id="btnGerarPDF" class="btn-secondary" aria-label="Générer PDF">
                    Générer PDF
                </button>
                <button id="btnNandaNicNoc" class="btn-primary" aria-label="Rechercher NANDA, NIC, NOC">
                    NANDA, NIC, NOC
                </button>
            </div>

            <div id="bibliografia" class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
                <strong>Références Bibliographiques :</strong>
                 <!-- Références MISES À JOUR -->
                 <p class="mt-2">
                    Waterlow J. Pressure sores: a risk assessment card. *Nurs Times*. 1985;81(48):49-55. (Article original) <a href="https://pubmed.ncbi.nlm.nih.gov/3853176/" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">Voir PubMed</a>
                </p>
                <p class="mt-2">
                    Haute Autorité de Santé (HAS). Prévention et traitement des escarres de l’adulte et du sujet âgé. (Consulter les recommandations de la HAS pour le contexte français). <a href="https://www.has-sante.fr/" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">Site HAS</a>
                </p>
                 <p class="mt-2">
                    Coleman S, Gorecki C, Nelson EA, et al. Patient risk factors for pressure ulcer development: systematic review. *Int J Nurs Stud*. 2013;50(7):974-1003. (Revue sur les facteurs de risque, mentionne Waterlow). <a href="https://pubmed.ncbi.nlm.nih.gov/23200057/" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">Voir PubMed</a>
                 </p>
            </div>
        </div>
    </main>

    <!-- Pied de page REMPLACÉ par le placeholder pour la modularisation -->
    <div id="footer-placeholder"></div>
    
    
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <!-- Chemins absolus vers les scripts globaux -->
    <script src="/global-scripts.js" defer></script>
    <script src="/lang-selector.js" defer></script>

     <!-- Script de modularisation du pied de page (charge 'footer.html' depuis le dossier 'fr/') -->
    <script>
        fetch('footer.html') 
            .then(response => response.text()) 
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const resultadoDiv = document.getElementById('resultado');
            const btnCalcular = document.getElementById('btnCalcular');
            const btnLimpar = document.getElementById('btnLimpar');
            const btnGerarPDF = document.getElementById('btnGerarPDF');
            const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
            const conteudoDiv = document.getElementById('conteudo');
            const statusMessageDiv = document.getElementById('statusMessage'); // Pour lecteur d'écran

            // Données TRADUITES de l'échelle de Waterlow
            const waterlowData = [
                // Catégories avec sélection unique (radio/select)
                 {
                    category: "IMC (Corpulence/Poids pour Taille)", // Ajout IMC comme critère principal
                    nameAttr: "imc",
                     options: [
                        { description: "Moyen (IMC 20-24.9)", score: 0 },
                        { description: "Au-dessus de la moyenne (IMC 25-29.9)", score: 1 },
                        { description: "Obèse (IMC >= 30)", score: 2 },
                        { description: "En dessous de la moyenne (IMC < 20)", score: 3 }
                    ],
                    type: 'radio'
                },
                 {
                    category: "Type de Peau / Zones à Risque Visuel",
                    nameAttr: "typePeau",
                    options: [
                        { description: "Saine", score: 0 },
                        { description: "Fine ('papier à cigarette')", score: 1 },
                        { description: "Sèche", score: 1 },
                        { description: "Œdémateuse", score: 1 },
                        { description: "Moite (température élevée)", score: 1 },
                        { description: "Décolorée", score: 2 },
                        { description: "Brisée / Tâches", score: 3 }
                    ],
                    type: 'radio'
                },
                 {
                    category: "Sexe / Âge", // Ajout Sexe/Âge
                    nameAttr: "sexeAge",
                     options: [
                        { description: "Homme", score: 1 },
                        { description: "Femme", score: 2 },
                        { description: "Âge 14-49", score: 1 },
                        { description: "Âge 50-64", score: 2 },
                        { description: "Âge 65-74", score: 3 },
                        { description: "Âge 75-80", score: 4 },
                        { description: "Âge 81+", score: 5 }
                    ],
                    type: 'radio' // On choisit une seule option (la plus pertinente)
                },
                {
                    category: "Continence",
                    nameAttr: "continence",
                    options: [
                        { description: "Continence complète / Cathétérisé", score: 0 },
                        { description: "Incontinence urinaire occasionnelle", score: 1 },
                        { description: "Cathétérisé / Incontinence fécale", score: 2 },
                        { description: "Double incontinence (urine et fèces)", score: 3 }
                    ],
                    type: 'radio'
                },
                {
                    category: "Mobilité",
                    nameAttr: "mobilite",
                    options: [
                        { description: "Complète", score: 0 },
                        { description: "Agité / Crispé", score: 1 },
                        { description: "Apathique", score: 2 },
                        { description: "Limitée", score: 3 },
                        { description: "Inerte / Traction", score: 4 },
                        { description: "Confiné au fauteuil", score: 5 }
                    ],
                    type: 'radio'
                },
                {
                    category: "Appétit", // Ajout Appétit
                    nameAttr: "appetit",
                    options: [
                        { description: "Moyen", score: 0 },
                        { description: "Faible", score: 1 },
                        { description: "Sonde Naso-Gastrique / Liquides Seulement", score: 2 },
                        { description: "À jeun / Anorexique", score: 3 }
                    ],
                    type: 'radio'
                },
                // Catégorie avec sélections multiples (checkbox)
                {
                    category: "Risques Spéciaux",
                    subCategories: [
                        {
                            name: "Malnutrition Tissulaire",
                            nameAttr: "malnutrition",
                            options: [
                                { description: "Cachexie terminale", score: 8 },
                                { description: "Insuffisance cardiaque", score: 5 },
                                { description: "Maladie vasculaire périphérique", score: 5 },
                                { description: "Anémie", score: 2 },
                                { description: "Tabagisme", score: 1 }
                            ]
                        },
                        {
                            name: "Déficit Neurologique", // Modifié
                            nameAttr: "neuro",
                             options: [
                                { description: "Diabète, Sclérose en plaques, AVC, Atteinte motrice/sensorielle, Paraplégie", score: 4-6 } // Score variable
                            ]
                        },
                        {
                            name: "Chirurgie Majeure / Traumatisme",
                            nameAttr: "chirurgie",
                            options: [
                                { description: "Orthopédique (sous la taille, colonne)", score: 5 },
                                { description: "Au bloc opératoire > 2 heures", score: 5 }
                            ]
                        },
                        {
                            name: "Médicaments",
                            nameAttr: "medicaments", // 'medicacao' -> 'medicaments'
                            options: [
                                { description: "Stéroïdes (corticoïdes)", score: 4 },
                                { description: "Cytotoxiques", score: 4 },
                                { description: "Anti-inflammatoires (fortes doses)", score: 4 }
                            ]
                        }
                    ],
                    type: 'checkbox'
                }
            ];

            // --- Fonctions de la Calculatrice Waterlow ---
            function updateScoreDisplay(selectId) {
                const selectElement = document.getElementById(selectId);
                const scoreDisplayElement = document.getElementById(`${selectId}_score_display`);
                if (selectElement && scoreDisplayElement) {
                     // Met à jour l'affichage avec le score de l'option sélectionnée, ou 0 si "Sélectionnez..."
                    scoreDisplayElement.innerText = selectElement.value === "" ? "0" : selectElement.value;
                }
            }

            function calculerPontuacao() {
                let total = 0;
                let allRequiredSelected = true;
                const requiredFields = ["imc", "typePeau", "sexeAge", "continence", "mobilite", "appetit"]; // Champs obligatoires (radios/selects)
                
                // Vérification et calcul des champs obligatoires (radios/selects)
                requiredFields.forEach(nameAttr => {
                    const selectElement = document.getElementById(nameAttr);
                     selectElement.classList.remove('incomplete'); // Réinitialise
                    if (selectElement.value === "") {
                        allRequiredSelected = false;
                        selectElement.classList.add('incomplete'); // Met en évidence
                    } else {
                        total += parseInt(selectElement.value, 10);
                    }
                });
                
                // Calcul pour les checkboxes (Risques Spéciaux)
                const checkboxSections = waterlowData.find(item => item.type === 'checkbox').subCategories;
                checkboxSections.forEach(subCat => {
                    const checkboxes = document.querySelectorAll(`input[name="${subCat.nameAttr}"]:checked`);
                    checkboxes.forEach(checkbox => {
                         // Gère le score variable pour 'neuro'
                         if (subCat.nameAttr === 'neuro' && checkbox.value === '4-6') {
                            // Ici, on pourrait demander à l'utilisateur de préciser (4, 5 ou 6)
                            // Pour simplifier, on prend une moyenne ou la valeur la plus courante, par ex. 5
                             total += 5; 
                             console.warn("Score variable 4-6 pour Déficit Neurologique, utilisé 5. Ajuster si nécessaire.");
                        } else {
                            total += parseInt(checkbox.value, 10);
                        }
                    });
                });

                resultadoDiv.style.display = 'block'; // Assure la visibilité
                resultadoDiv.classList.remove('hidden');

                if (!allRequiredSelected) {
                    resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">Veuillez sélectionner une option pour tous les critères obligatoires</strong> (IMC, Peau, Sexe/Âge, Continence, Mobilité, Appétit) avant de calculer. Les champs manquants sont surlignés.'; // TRADUIT
                    resultadoDiv.className = 'resultado bg-info-orange-light'; // Style d'erreur
                    resultadoDiv.setAttribute('tabindex', '-1');
                    resultadoDiv.focus();
                    // Nettoie le dataset en cas d'erreur
                    delete resultadoDiv.dataset.score;
                    delete resultadoDiv.dataset.classification;
                    return;
                }

                let classification = ""; // Renommé de 'classificacao'
                let resultadoClasse = '';

                // Classification TRADUITE basée sur les seuils standards
                if (total >= 20) {
                    classification = "Risque Très Élevé";
                    resultadoClasse = 'bg-very-high-risk'; // Rouge foncé
                } else if (total >= 15) {
                    classification = "Risque Élevé";
                    resultadoClasse = 'bg-high-risk'; // Rouge clair
                } else if (total >= 10) {
                    classification = "Risque Moyen ('À risque')";
                    resultadoClasse = 'bg-medium-risk'; // Jaune
                } else { // total < 10
                    classification = "Risque Faible";
                    resultadoClasse = 'bg-low-risk'; // Vert
                }

                // Affichage TRADUIT
                resultadoDiv.innerHTML = `<p>Score total Waterlow : <strong class="font-bold">${total}</strong></p><p>Classification du Risque : <strong class="font-bold">${classification}</strong></p>`;
                resultadoDiv.className = `resultado ${resultadoClasse}`;
                resultadoDiv.setAttribute('tabindex', '-1');
                resultadoDiv.focus();
                
                // Stocke les données TRADUITES
                resultadoDiv.dataset.score = total;
                resultadoDiv.dataset.classification = classification;
                resultadoDiv.dataset.scaleName = "Échelle de Waterlow"; // TRADUIT
            }

            function limparCampos() {
                // Réinitialise les selects
                document.querySelectorAll('#waterlow-form select').forEach(select => {
                    select.selectedIndex = 0;
                    select.classList.remove('incomplete');
                    // Réinitialise l'affichage du score à côté du titre (si applicable)
                     const scoreDisplayId = `${select.id}_score_display`;
                     const scoreDisplayElement = document.getElementById(scoreDisplayId);
                     if (scoreDisplayElement) {
                        scoreDisplayElement.innerText = '0';
                    }
                });
                // Décoche toutes les checkboxes
                document.querySelectorAll('#waterlow-form input[type="checkbox"]').forEach(checkbox => checkbox.checked = false);
                
                resultadoDiv.innerHTML = '';
                resultadoDiv.className = 'resultado hidden'; // Cache la div
                 // Nettoie tout le dataset
                delete resultadoDiv.dataset.score;
                delete resultadoDiv.dataset.classification;
                delete resultadoDiv.dataset.scaleName;
                 // Annonce pour lecteur d'écran
                statusMessageDiv.textContent = "Champs effacés."; 
            }

            // Remplit le formulaire dynamiquement
            waterlowData.forEach((item, index) => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'waterlow-criterion-card';
                
                const headerDiv = document.createElement('div');
                headerDiv.className = 'waterlow-criterion-header';

                const titleH3 = document.createElement('h3');
                titleH3.className = 'waterlow-criterion-title';
                titleH3.innerText = item.category; // TRADUIT (dans waterlowData)
                headerDiv.appendChild(titleH3);

                // Ajoute l'affichage du score uniquement pour les radios/selects
                if (item.type === 'radio') {
                    const scoreSpan = document.createElement('span');
                    scoreSpan.className = 'waterlow-score-display';
                    scoreSpan.id = `${item.nameAttr}_score_display`; // ID unique
                    scoreSpan.innerText = '0'; // Initialise à 0
                    headerDiv.appendChild(scoreSpan);
                }
                
                sectionDiv.appendChild(headerDiv);

                const optionsGroupDiv = document.createElement('div');
                optionsGroupDiv.className = 'options-group mt-2'; // Ajouté mt-2

                // Crée un select pour les items de type 'radio'
                if (item.type === "radio") {
                    const selectElement = document.createElement('select');
                    selectElement.id = item.nameAttr; // ID unique
                    selectElement.className = 'waterlow-select';
                    selectElement.setAttribute('aria-label', item.category); // Pour accessibilité
                    selectElement.onchange = () => updateScoreDisplay(item.nameAttr); // Met à jour l'affichage

                    const defaultOption = document.createElement('option');
                    defaultOption.value = "";
                    defaultOption.text = "Sélectionnez..."; // TRADUIT
                    defaultOption.disabled = true;
                    defaultOption.selected = true;
                    selectElement.appendChild(defaultOption);

                    item.options.forEach(option => {
                        const optionElement = document.createElement('option');
                        optionElement.value = option.score;
                         // Affichage : Description (Score: X)
                        optionElement.text = `${option.description} (${option.score})`; // TRADUIT (dans waterlowData)
                        selectElement.appendChild(optionElement);
                    });
                    optionsGroupDiv.appendChild(selectElement);
                } 
                // Crée des checkboxes pour les items de type 'checkbox'
                else if (item.type === "checkbox" && item.subCategories) {
                    item.subCategories.forEach(subCat => {
                        const subCatTitle = document.createElement('p');
                        subCatTitle.className = 'waterlow-sub-category';
                        subCatTitle.innerText = subCat.name + ":"; // TRADUIT (dans waterlowData)
                        optionsGroupDiv.appendChild(subCatTitle);

                        subCat.options.forEach((option, idx) => {
                            const label = document.createElement('label');
                            label.className = 'waterlow-option-label';
                            const input = document.createElement('input');
                            input.type = 'checkbox';
                            input.name = subCat.nameAttr; // Utilise le nameAttr de la sous-catégorie
                            input.value = option.score;
                             input.id = `${subCat.nameAttr}-${idx}`; // ID unique
                            
                            const span = document.createElement('span');
                             // Gère le score variable pour 'neuro'
                             if (subCat.nameAttr === 'neuro' && option.score === '4-6') {
                                span.innerText = `${option.description} (4-6)`; // Affiche la plage
                            } else {
                                span.innerText = `${option.description} (${option.score})`; // TRADUIT (dans waterlowData)
                            }
                            
                            label.appendChild(input);
                            label.appendChild(span);
                            label.htmlFor = input.id; // Lie le label à l'input
                            optionsGroupDiv.appendChild(label);
                        });
                    });
                }
                sectionDiv.appendChild(optionsGroupDiv);
                conteudoDiv.appendChild(sectionDiv);
            });

            // Ajoute les écouteurs aux boutons (labels TRADUITS)
            btnCalcular?.addEventListener('click', calculerPontuacao);
            btnLimpar?.addEventListener('click', limparCampos);

            btnGerarPDF?.addEventListener('click', () => {
                 // Vérifie si un score a été calculé et stocké
                if (!resultadoDiv.dataset.score) {
                    alert('Veuillez cliquer sur "Calculer" d\'abord pour générer le PDF.'); // TRADUIT
                    return;
                }
                if (typeof gerarPDFGlobal === 'function') {
                     // Récupère les données
                    const score = resultadoDiv.dataset.score;
                    const classification = resultadoDiv.dataset.classification;
                    const selectedOptions = {}; // Pour stocker les sélections détaillées
                    
                     // Récupère les sélections des selects
                     document.querySelectorAll('#waterlow-form select').forEach(select => {
                        const selected = select.options[select.selectedIndex];
                        if (selected.value !== "") {
                            const itemData = waterlowData.find(item => item.nameAttr === select.id);
                            const category = itemData ? itemData.category : select.id;
                             // Enlève le score entre parenthèses pour l'affichage
                            selectedOptions[category] = selected.text.replace(/ \(\d+(-?(\d+)?)?\)$/, ''); 
                        }
                    });

                     // Récupère les sélections des checkboxes
                    document.querySelectorAll('#waterlow-form input[type="checkbox"]:checked').forEach(checkbox => {
                        const subCatNameAttr = checkbox.name;
                        const mainCategory = waterlowData.find(item => item.subCategories?.some(sub => sub.nameAttr === subCatNameAttr));
                        const subCategory = mainCategory?.subCategories.find(sub => sub.nameAttr === subCatNameAttr);
                        const option = subCategory?.options.find(opt => opt.score.toString() === checkbox.value || (opt.score === '4-6' && checkbox.value === '4-6'));
                        
                        if (mainCategory && subCategory && option) {
                            const categoryKey = `${mainCategory.category} - ${subCategory.name}`;
                            if (!selectedOptions[categoryKey]) {
                                selectedOptions[categoryKey] = [];
                            }
                             // Enlève le score entre parenthèses pour l'affichage
                             selectedOptions[categoryKey].push(option.description.replace(/ \(\d+(-?(\d+)?)?\)$/, '')); 
                        }
                    });

                    // Construit la section des détails pour le PDF
                    let detailsHtml = '<h3 style="color: #1A3E74; margin-top: 15px; margin-bottom: 10px;">Détails de l\'évaluation :</h3>';
                    for (const [category, value] of Object.entries(selectedOptions)) {
                         // Si c'est un array (checkboxes), joindre les valeurs
                         const displayValue = Array.isArray(value) ? value.join(', ') : value;
                        detailsHtml += `<p style="margin-bottom: 5px;"><strong>${category}:</strong> ${displayValue}</p>`;
                    }

                    // Crée un contenu HTML simple pour le PDF
                    const pdfContentHtml = `
                        <div style="font-family: Inter, sans-serif; padding: 20px;">
                            <h1 style="color: #1A3E74; border-bottom: 2px solid #1A3E74; padding-bottom: 5px;">Échelle de Waterlow</h1>
                            <h2 style="color: #1FA4E5; margin-top: 15px;">Rapport d'Évaluation du Risque de Lésions de Pression</h2>
                            
                            ${detailsHtml}

                            <div style="margin-top: 20px; background-color: #f3f4f6; border-radius: 8px; padding: 15px; border: 1px solid #e5e7eb;">
                                <p style="font-size: 1.2em; color: #1A3E74; margin-bottom: 10px;"><strong>Score Total Waterlow : ${score}</strong></p>
                                <p><strong>Classification du Risque :</strong> ${classification}</p>
                            </div>
                            <p style="margin-top: 20px; font-size: 0.9em; color: #6b7280;">Généré par Calculatrices de Soins Infirmiers</p>
                        </div>
                    `;

                    gerarPDFGlobal({
                        // Titres et nom de fichier TRADUITS
                        titulo: 'Échelle de Waterlow', 
                        subtitulo: 'Rapport d\'Évaluation du Risque de Lésions de Pression',
                        nomeArquivo: 'rapport_echelle_waterlow.pdf',
                        htmlConteudo: pdfContentHtml, // Utilise le HTML généré
                    });
                } else {
                     alert('Erreur : La fonction pour générer le PDF n\'a pas été trouvée.'); // TRADUIT
                    console.error('Fonction gerarPDFGlobal non définie.'); // TRADUIT
                }
            });
            
            btnNandaNicNoc?.addEventListener('click', () => {
                 // Vérifie si les données sont là
                if (!resultadoDiv.dataset.score || !resultadoDiv.dataset.classification) {
                    alert('Calculez le résultat pour rechercher la conduite à tenir.'); // TRADUIT
                    return;
                }
                const score = resultadoDiv.dataset.score;
                const scaleName = "Échelle de Waterlow"; // TRADUIT
                const classification = resultadoDiv.dataset.classification; // Classification du risque
                
                // TRADUIT la query de recherche
                const searchQuery = encodeURIComponent(`plan de soins infirmiers pour patient avec ${classification} de lésion de pression selon ${scaleName} NANDA NIC NOC`);
                window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
            });
        });
    </script>
    
    

    <script type="text/javascript">
        atOptions = {
            'key' : '1e009bba81deb2bc366b3c4ac030f6be',
            'format' : 'iframe',
            'height' : 90,
            'width' : 728,
            'params' : {}
        };
    </script>
    
<div id="adterra-banner-container" style="min-height: 90px; width: 100%; text-align: center; margin: 10px 0;">
    <script type='text/javascript' async src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>
</div>
</body>
</html>
