<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- CHEMINS MIS À JOUR POUR POINTER VERS LE DOSSIER /fr/ -->
    <link rel="preload" href="/fr/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/fr/global-body-elements.html" as="fetch" crossorigin>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Échelle LANSS (Leeds Assessment of Neuropathic Symptoms and Signs) - Calculatrices de Soins Infirmiers</title>
    
    <!-- Metatags et SEO Traduits -->
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/fr/lanss.html" />
    <!-- BLOC HREFLANG MIS À JOUR SELON VOTRE DEMANDE -->
    <link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/lanss.html" />
    <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/lanss.html" />
    <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/lanss.html" />
    <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/lanss.html" />
    <link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/lanss.html" />
    <link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/lanss.html" />
    <link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/lanss.html" />
    
    <!-- CHEMIN DU FAVICON CORRIGÉ -->
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <meta name="description" content="Calculez l'échelle LANSS pour évaluer la douleur neuropathique basée sur les symptômes sensoriels et les signes cliniques. Un outil crucial pour le diagnostic et le traitement de la douleur." />
    <meta property="og:title" content="Échelle LANSS (Leeds Assessment of Neuropathic Symptoms and Signs) - Calculatrices de Soins Infirmiers" />
    <meta property="og:description" content="Calculez l'échelle LANSS pour évaluer la douleur neuropathique basée sur les symptômes sensoriels et les signes cliniques. Un outil crucial pour le diagnostic et le traitement de la douleur." />
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/fr/lanss.html" />
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Échelle LANSS (Leeds Assessment of Neuropathic Symptoms and Signs) - Calculatrices de Soins Infirmiers" />
    <meta name="twitter:description" content="Calculez l'échelle LANSS pour évaluer la douleur neuropathique basée sur les symptômes sensoriels et les signes cliniques. Un outil crucial pour le diagnostic et le traitement de la douleur." />
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />

    <!-- Scripts et Styles Globaux (Chemins corrigés) -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script async src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../global-styles.css" media="print" onload="this.media='all'">
    
    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com&display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/opendyslexic/web/opendyslexic.css" media="print" onload="this.media='all'" />

     <!-- Google Analytics & Consent Mode -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'wait_for_update': 500
        });
        gtag('config', 'AW-952633102');
        gtag('config', 'G-8FLJ59XXDK');
    </script>
    
    <!-- Schema.org Structured Data Traduit -->
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"MedicalTest",
      "name":"Échelle LANSS (Leeds Assessment of Neuropathic Symptoms and Signs)",
      "alternateName":["LANSS Scale", "Évaluation de Leeds des Symptômes et Signes Neuropathiques"],
      "description":"Un outil de dépistage clinique pour identifier les patients susceptibles d'avoir une douleur neuropathique, basé sur l'interrogatoire des symptômes et l'examen sensoriel.",
      "url":"https://www.calculadorasdeenfermagem.com.br/fr/lanss.html",
      "relevantSpecialty": {
        "@type": "MedicalSpecialty",
        "name": "Neurologie, Médecine de la douleur, Soins infirmiers"
      }
    }
    </script>
    
    <!-- Estilos Específicos da Página (Maintenus, classes traduites) -->
    <style>
        .resultado.bg-lanss-positive { background-color: #fee2e2; color: #dc2626; border-color: #fca5a5;} /* Rouge pour positive */
        .resultado.bg-lanss-negative { background-color: #dcfce7; color: #16a34a; border-color: #bbf7d0;} /* Vert pour négative */
        .bg-info-orange-light { background-color: #fffbeb; color: #d97706; border-color: #fde68a;} /* Avertissement */

        .resultado { /* Style de base */
             padding: 1.5rem;
             border-radius: 12px;
             box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
             margin-top: 1.5rem;
             border: 1px solid transparent;
        }

        .lanss-criteria-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .lanss-criterion-card {
            background-color: #fff;
            border: 1px solid #d1d5db; /* Gris */
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
             display: flex;
             flex-direction: column; /* Empile par défaut */
             gap: 0.75rem;
        }
        .lanss-criterion-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
        }
        .lanss-criterion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
             width: 100%;
             margin-bottom: 0;
            text-align: left;
        }
        .lanss-criterion-title {
            font-size: 1.15rem; /* Légèrement réduit pour questions longues */
            font-weight: 600; /* Normal */
            color: #1A3E74; /* Bleu foncé */
            flex-grow: 1;
            padding-right: 1rem;
        }
        .lanss-score-display {
            font-size: 1.25rem; /* Taille */
            font-weight: 700; /* Gras */
            color: #1FA4E5; /* Bleu clair */
            min-width: 3rem; /* Espace minimum */
            text-align: right; /* Alignement à droite */
        }
         .lanss-criterion-options { /* Container pour le select */
             width: 100%;
         }
        .lanss-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.375rem;
            font-size: 1rem;
            color: #333;
            background-color: #fff;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
        }
        .lanss-select:focus {
            outline: none;
            border-color: #1FA4E5; /* Bleu clair */
            box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2);
        }
        .incomplete { /* Classe pour mise en évidence */
             border: 2px solid #ef4444 !important;
             box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
         }

         /* Ajustements pour écrans larges */
         @media (min-width: 640px) {
            .lanss-criterion-card {
                flex-direction: row; /* Met en ligne */
                align-items: center; /* Centre verticalement */
                justify-content: space-between; /* Espace */
            }
             .lanss-criterion-header {
                 width: auto;
                 flex-basis: 65%; /* Plus d'espace pour le texte */
             }
             .lanss-criterion-options {
                 width: auto;
                 flex-basis: 30%; /* Moins d'espace pour le sélecteur */
             }
         }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <div class="w-full flex justify-center py-2 bg-gray-100" aria-label="Espace publicitaire supérieur"> 
        <script type="text/javascript">
            atOptions = {
                'key' : '1e009bba81deb2bc366b3c4ac030f6be',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        
    </div>
    
    <!-- Skip Links Traduzidos -->
    <nav aria-label="Raccourcis d'accessibilité" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="../index.html" accesskey="I" class="block mb-2">Aller à l'accueil [Alt + Shift + I]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">Passer au contenu principal [Alt + Shift + C]</a>
        <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Activer la barre d'accessibilité [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">Retour en haut de page [Alt + Shift + T]</a>
    </nav>

    <!-- ARIA Live Region -->
    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- Container para o Menu Global (carregado via JS da pasta /fr/) -->
    <div id="global-header-container"></div>
    
    <!-- Seletor de Idioma (Caminhos das bandeiras corrigidos para ../) -->
    <div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-right:2rem;">
      <div class="relative inline-block text-left z-50">
        <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
          <img id="langFlag" width="20" height="16" src="../bandeira-franca.webp" alt="FR" class="w-5 h-4 rounded-sm">
          <span id="langText" class="text-gray-700 font-medium">Français</span>
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>

        <div id="langMenu" class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="../bandeira-brasil.webp">
            <img src="../bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="BR"><span>Português</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="../bandeira-eua.webp">
            <img src="../bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN"><span>English</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="../bandeira-espanha.webp">
            <img src="../bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES"><span>Español</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="../bandeira-alemanha.webp">
            <img src="../bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE"><span>Deutsch</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="../bandeira-italia.webp">
            <img src="../bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT"><span>Italiano</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="../bandeira-franca.webp">
            <img src="../bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR"><span>Français</span>
          </div>
           <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="in" data-flag="../bandeira-india.webp">
            <img src="../bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="IN"><span>भारत</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="cn" data-flag="../bandeira-china.webp">
            <img src="../bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="CN"><span>中国</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ar" data-flag="../bandeira-arabia.webp">
            <img src="../bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR"><span>اللغة العربية</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="jp" data-flag="../bandeira-japao.webp">
            <img src="../bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JP"><span>日本語</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Script do menu global (caminho corrigido) -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/fr/menu-global.html') // Chemin absolu vers le dossier FR
                .then(response => response.text())
                .then(html => {
                    document.getElementById('global-header-container').innerHTML = html;
                    ajusterEspacoSeletorIdioma();
                });
        });

        function ajustarEspacoSeletorIdioma() {
            var header = document.getElementById('global-header-container');
            var selector = document.getElementById('language-dropdown-wrapper');
            if (header && selector) {
                var headerHeight = header.offsetHeight;
                selector.style.marginTop = (headerHeight > 0 ? headerHeight + 12 : 70) + 'px';
            }
        }
        window.addEventListener('load', ajustarEspacoSeletorIdioma);
        window.addEventListener('resize', ajustarEspacoSeletorIdioma);
    </script>
    
    <!-- Conteúdo Principal da Página (Traduzido) -->
    <main id="main-content" class="flex-grow p-4 sm:p-8">
        <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
            <!-- Breadcrumb Traduzido et avec chemin corrigé -->
            <nav class="breadcrumb" aria-label="breadcrumb">
                <ol>
                    <li><a href="../index.html">Accueil</a></li>
                    <li><a href="#">Calculatrices</a></li>
                    <li>Échelle LANSS</li>
                </ol>
            </nav>

            <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
                <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    Échelle LANSS
                </h1>
            </div>
            <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

            <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
                Évaluation de la Douleur Neuropathique
            </h2>
            <p id="description-text" class="text-gray-700 mb-6 text-left">
                L'échelle LANSS (Leeds Assessment of Neuropathic Symptoms and Signs) est un outil de dépistage pour identifier la douleur avec une composante neuropathique. L'échelle évalue les symptômes du patient et les signes cliniques examinés par le professionnel, aboutissant à un score qui indique la probabilité de douleur neuropathique. Un score total de **12 ou plus** suggère une forte probabilité de douleur avec une composante neuropathique.
            </p>
             <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                 <strong>Année de Création :</strong> 2001
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Auteurs :</strong> Dr. Linda B. Bennett et collaborateurs.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Domaine d'application :</strong> Cabinets médicaux, consultations douleur, cliniques de réadaptation et unités de soins intensifs (USI).
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Critères évalués :</strong> Symptômes sensoriels (brûlure, picotements) et signes cliniques (hypersensibilité tactile, changements de couleur de la peau, absence de sensibilité au toucher).
            </p>
             <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                 <strong>Qui l'utilise ? :</strong> Médecins, infirmiers sous protocole et physiothérapeutes.
             </p>
            <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-left">
                Sélectionnez l'option qui décrit le mieux le patient pour chaque item :
            </p>

            <!-- Container pour les critères de la calculatrice -->
            <div id="conteudo" class="lanss-criteria-container">
                <!-- Les cartes de critères seront générées ici -->
            </div>

            <!-- Div pour afficher le résultat -->
            <div id="resultado" class="resultado hidden" aria-live="polite"></div>

            <!-- Boutons d'action -->
            <div class="flex flex-wrap justify-start gap-4 mt-6">
                <button id="btnCalcular" class="btn-primary" aria-label="Calculer l'échelle LANSS">
                    Calculer
                </button>
                <button id="btnLimpar" class="btn-primary" aria-label="Effacer les champs">
                    Effacer
                </button>
                <button id="btnGerarPDF" class="btn-secondary" aria-label="Générer PDF">
                    Générer PDF
                </button>
                <button id="btnNandaNicNoc" class="btn-primary" aria-label="Rechercher NANDA, NIC, NOC">
                    NANDA, NIC, NOC
                </button>
            </div>

            <!-- Références Bibliographiques (Source principale en français) -->
            <div class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
                <strong>Références Bibliographiques :</strong>
                <p class="mt-2">
                    Bennett, M. I., Smith, B. H., Torrance, N., & Potter, J. (2005). The S-LANSS score for identifying pain of predominantly neuropathic origin: validation for use in clinical and postal research. *The Journal of Pain*, 6(3), 149-158. <a href="https://doi.org/10.1016/j.jpain.2004.11.007" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">DOI: 10.1016/j.jpain.2004.11.007</a> (Validation de la version simplifiée S-LANSS)
                </p>
                <p class="mt-2">
                    Bouhassira, D., Attal, N., Alchaar, H., Boureau, F., Brochet, B., Bruxelle, J., ... & Vicaut, E. (2005). Comparison of pain syndromes associated with nervous or somatic lesions and development of a new neuropathic pain diagnostic questionnaire (DN4). *Pain*, 114(1-2), 29-36. <a href="https://doi.org/10.1016/j.pain.2004.12.010" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">DOI: 10.1016/j.pain.2004.12.010</a> (Bien que différent, le DN4 est un outil français clé pour la douleur neuropathique).
                </p>
            </div>
        </div>
    </main>

    <!-- Placeholder pour le Rodapé Carregado via JS -->
    <div id="footer-placeholder"></div>
    
    <!-- Elementos globais do corpo (como modal de cookies, botão 'voltar ao topo') -->
    <div id="global-body-elements-container"></div>
    
    <!-- Scripts Globais e de Bibliotecas (Chemins corrigés) -->
    
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script src="../global-scripts.js" defer></script>

    <!-- Script Específico da Página LANSS (Traduzido) -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Carrega le rodapé da pasta /fr/ via fetch
            fetch('footer.html') 
                .then(response => response.text()) 
                .then(data => {
                    document.getElementById('footer-placeholder').innerHTML = data;
                });

            // Carrega les éléments globaux da pasta /fr/
            fetch('/fr/global-body-elements.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('global-body-elements-container').innerHTML = html;
                    // Ativa o VLibras et autres scripts globaux APRÈS carregar le contenu
                    if (typeof initVLibras === 'function') {
                        initVLibras();
                    }
                    if (typeof setupGlobalElements === 'function') {
                        setupGlobalElements();
                    }
                });

            const resultadoDiv = document.getElementById('resultado');
            const btnCalcular = document.getElementById('btnCalcular');
            const btnLimpar = document.getElementById('btnLimpar');
            const btnGerarPDF = document.getElementById('btnGerarPDF');
            const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
            const conteudoDiv = document.getElementById('conteudo');
            
            // Données de l'échelle LANSS traduites
            const lanssData = [
                {
                    question: "1. La douleur a-t-elle un caractère de brûlure, comme de l'eau bouillante ?",
                    nameAttr: "brulure", // Modifié pour éviter conflits
                    options: [
                        { text: "Non", score: 0 },
                        { text: "Oui", score: 5 }
                    ]
                },
                {
                    question: "2. La douleur ressemble-t-elle à des piqûres d'épingles, d'aiguilles ou à des fourmillements ?",
                    nameAttr: "piqures", // Modifié
                    options: [
                        { text: "Non", score: 0 },
                        { text: "Oui", score: 5 }
                    ]
                },
                {
                    question: "3. La zone douloureuse est-elle associée à une hypersensibilité tactile ?",
                    nameAttr: "hypersensibilite",
                    options: [
                        { text: "Non", score: 0 },
                        { text: "Oui", score: 3 }
                    ]
                },
                {
                    question: "4. La peau de la zone douloureuse a-t-elle une couleur différente ou est-elle plus pâle ?",
                    nameAttr: "couleurPeau", // Modifié
                    options: [
                        { text: "Non", score: 0 },
                        { text: "Oui", score: 2 }
                    ]
                },
                {
                    question: "5. Y a-t-il une absence de sensibilité au toucher dans la zone douloureuse ?",
                    nameAttr: "absenceSensibilite", // Modifié
                    options: [
                        { text: "Non", score: 0 },
                        { text: "Oui", score: -4 } // Notez le score négatif
                    ]
                }
            ];

            // --- Fonctions de la Calculatrice LANSS ---
            function updateScoreDisplay(criterionId) {
                const selectElement = document.getElementById(criterionId);
                const scoreDisplayElement = document.getElementById(`${criterionId}_score_display`);
                if (selectElement && scoreDisplayElement) {
                    // Affiche le score sélectionné, ou 0 si rien n'est sélectionné
                    scoreDisplayElement.innerText = selectElement.value !== "" ? selectElement.options[selectElement.selectedIndex].text.match(/\((-?\d+)\)/)[1] : "0";
                }
            }


            function calculerPontuacao() {
                let totalScore = 0;
                let allItemsSelected = true;

                lanssData.forEach(item => {
                    const selectElement = document.getElementById(item.nameAttr);
                    const card = selectElement.closest('.lanss-criterion-card');
                    if (selectElement.value === "") {
                        allItemsSelected = false;
                        selectElement.classList.add('incomplete');
                        card?.classList.add('incomplete');
                    } else {
                         selectElement.classList.remove('incomplete');
                         card?.classList.remove('incomplete');
                        totalScore += parseInt(selectElement.value, 10);
                    }
                });

                resultadoDiv.style.display = "block"; // Affiche la div
                if (!allItemsSelected) {
                    resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">Veuillez sélectionner une option pour chaque item</strong> avant de calculer.'; // Traduzido
                    resultadoDiv.className = 'resultado bg-info-orange-light'; // Classe d'erreur
                    delete resultadoDiv.dataset.score; // Efface les données
                    return;
                }

                // Classification traduite
                let classification = "";
                let resultadoClasse = '';

                if (totalScore >= 12) {
                    classification = "Douleur neuropathique probable"; // Probable
                    resultadoClasse = 'bg-lanss-positive'; // Rouge
                } else {
                    classification = "Douleur neuropathique improbable"; // Improbable
                    resultadoClasse = 'bg-lanss-negative'; // Vert
                }

                resultadoDiv.innerHTML = `<p>Score Total de l'Échelle LANSS : <strong class="font-bold">${totalScore} / 20</strong></p><p>Classification : <strong class="font-bold">${classification}</strong></p>`;
                resultadoDiv.className = `resultado ${resultadoClasse}`; // Applique la classe de couleur
                
                // Stocke les données pour PDF et NANDA
                resultadoDiv.dataset.score = totalScore;
                resultadoDiv.dataset.classification = classification;
                resultadoDiv.dataset.scaleName = "Échelle LANSS"; // Nom pour NANDA
            }

            function limparCampos() {
                lanssData.forEach(item => {
                    const selectElement = document.getElementById(item.nameAttr);
                    const scoreDisplay = document.getElementById(`${item.nameAttr}_score_display`);
                     const card = selectElement.closest('.lanss-criterion-card');
                    selectElement.selectedIndex = 0; // Réinitialise à "Sélectionnez..."
                    scoreDisplay.innerText = '0'; // Réinitialise l'affichage du score
                    selectElement.classList.remove('incomplete');
                     card?.classList.remove('incomplete');
                });
                resultadoDiv.innerHTML = '';
                resultadoDiv.className = 'resultado hidden'; // Cache et reset
                // Efface les données stockées
                delete resultadoDiv.dataset.score;
                delete resultadoDiv.dataset.classification;
                delete resultadoDiv.dataset.scaleName;
            }
            
            // Remplit le formulaire dynamiquement
            lanssData.forEach((item, index) => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'lanss-criterion-card';
                
                const headerDiv = document.createElement('div');
                headerDiv.className = 'lanss-criterion-header';

                const titleH3 = document.createElement('h3');
                titleH3.className = 'lanss-criterion-title';
                titleH3.innerText = item.question; // Utilise 'question'
                headerDiv.appendChild(titleH3);

                const scoreSpan = document.createElement('span');
                scoreSpan.className = 'lanss-score-display';
                scoreSpan.id = `${item.nameAttr}_score_display`; // ID pour la mise à jour
                scoreSpan.innerText = '0'; // Initialise à 0
                headerDiv.appendChild(scoreSpan);
                
                sectionDiv.appendChild(headerDiv);

                // Crée le container pour le select
                const optionsDiv = document.createElement('div'); 
                optionsDiv.className = 'lanss-criterion-options';

                const selectElement = document.createElement('select');
                selectElement.id = item.nameAttr;
                selectElement.className = 'lanss-select';
                selectElement.onchange = () => updateScoreDisplay(item.nameAttr); // Met à jour l'affichage du score

                const defaultOption = document.createElement('option');
                defaultOption.value = "";
                defaultOption.text = "Sélectionnez..."; // Traduzido
                defaultOption.disabled = true;
                defaultOption.selected = true;
                selectElement.appendChild(defaultOption);

                item.options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option.score;
                     // Texte traduit : description + score entre parenthèses
                    optionElement.text = `${option.text} (${option.score > 0 ? '+' : ''}${option.score})`; 
                    selectElement.appendChild(optionElement);
                });

                optionsDiv.appendChild(selectElement); // Ajoute le select au container
                sectionDiv.appendChild(optionsDiv); // Ajoute le container à la carte
                conteudoDiv.appendChild(sectionDiv);
            });

            // Ajoute les event listeners aux boutons
            btnCalcular?.addEventListener('click', calculerPontuacao);
            btnLimpar?.addEventListener('click', limparCampos);

            // Funcionalidade PDF
            btnGerarPDF?.addEventListener('click', () => {
                if (!resultadoDiv.dataset.score) {
                    alert('Veuillez cliquer sur "Calculer" d\'abord pour générer le PDF.'); // Traduzido
                    return;
                }
                if (typeof gerarPDFGlobal === 'function') {
                    gerarPDFGlobal({
                        titulo: 'Échelle LANSS', // Traduzido
                        subtitulo: 'Rapport d\'Évaluation de la Douleur Neuropathique', // Traduzido
                        nomeArquivo: 'rapport_echelle_lanss.pdf', // Traduzido
                        seletorConteudo: '.main-content-wrapper'
                    });
                } else {
                    console.error('Fonction gerarPDFGlobal non définie.');
                }
            });
            
            // Funcionalidade NANDA/NIC/NOC
            btnNandaNicNoc?.addEventListener('click', () => {
                const score = resultadoDiv.dataset.score;
                const scaleName = resultadoDiv.dataset.scaleName;
                const classification = resultadoDiv.dataset.classification; // Utilise 'classification'
                if (!score || !classification) {
                    alert('Calculez le résultat pour rechercher la conduite à tenir.'); // Traduzido
                    return;
                }
                 // Recherche traduite
                const searchQuery = encodeURIComponent(`${scaleName} score ${score} classification ${classification} générer taxonomie NANDA générer taxonomie NIC générer taxonomie NOC`);
                window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
            });
        });
    </script>



<script type="text/javascript">
	atOptions = {
		'key' : '1e009bba81deb2bc366b3c4ac030f6be',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>

<!-- CHEMIN DU SCRIPT CORRIGÉ -->
<script src="../lang-selector.js" defer></script>
<div id="adterra-banner-container" style="min-height: 90px; width: 100%; text-align: center; margin: 10px 0;">
    <script type='text/javascript' async src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>
</div>
</body>
</html>
