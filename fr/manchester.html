<!DOCTYPE html>
<html lang="fr">
<head>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- CHEMINS MIS À JOUR POUR POINTER VERS LE DOSSIER /fr/ -->
    <link rel="preload" href="/fr/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/fr/global-body-elements.html" as="fetch" crossorigin>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Protocole de Manchester - Triage - Calculatrices de Soins Infirmiers</title>

    <!-- Metatags et SEO Traduits -->
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/fr/manchester.html" />
    <!-- BLOC HREFLANG MIS À JOUR SELON VOTRE DEMANDE -->
    <link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/manchester.html" />
    <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/manchester.html" />
    <link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/manchester.html" />
    <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/manchester.html" />
    <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/manchester.html" />
    <link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/manchester.html" />
    <link rel="alternate" hreflang="hi" href="https://www.calculadorasdeenfermagem.com.br/hi/manchester.html" />
    <link rel="alternate" hreflang="zh" href="https://www.calculadorasdeenfermagem.com.br/zh/manchester.html" />
    <link rel="alternate" hreflang="ar" href="https://www.calculadorasdeenfermagem.com.br/ar/manchester.html" />
    <link rel="alternate" hreflang="ja" href="https://www.calculadorasdeenfermagem.com.br/ja/manchester.html" />
    
    <!-- CHEMIN DU FAVICON CORRIGÉ -->
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <meta name="description" content="Calculatrice en ligne du Protocole de Manchester pour le triage aux urgences, aidant à prioriser les soins aux patients." />
    <meta property="og:title" content="Protocole de Manchester - Triage - Calculatrices de Soins Infirmiers" />
    <meta property="og:description" content="Calculatrice en ligne du Protocole de Manchester pour le triage aux urgences, aidant à prioriser les soins aux patients." />
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/fr/manchester.html" />
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Protocole de Manchester - Triage - Calculatrices de Soins Infirmiers" />
    <meta name="twitter:description" content="Calculatrice en ligne du Protocole de Manchester pour le triage aux urgences, aidant à prioriser les soins aux patients." />
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" />

    <!-- Scripts et Styles Globaux (Chemins corrigés) -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script async src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../global-styles.css" media="print" onload="this.media='all'">

    <!-- Fontes -->
    
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/opendyslexic/web/opendyslexic.css" media="print" onload="this.media='all'" />

     <!-- Google Analytics & Consent Mode -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'wait_for_update': 500
        });
        gtag('config', 'AW-952633102');
        gtag('config', 'G-8FLJ59XXDK');
    </script>

    <!-- Schema.org Structured Data Traduit -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalGuideline",
      "name": "Protocole de Manchester - Triage",
      "alternateName": ["Manchester Triage System", "MTS"],
      "description": "Un système clinique de triage utilisé dans les services d'urgence pour classer les patients en fonction de l'urgence de leur état.",
      "url": "https://www.calculadorasdeenfermagem.com.br/fr/manchester.html",
      "guidelineSubject": {
        "@type": "MedicalSpecialty",
        "name": "Médecine d'urgence, Soins infirmiers d'urgence"
      }
    }
    </script>

    <!-- Estilos Específicos da Página (Maintenus, classes traduites) -->
    <style>
        .resultado.bg-red { background-color: #fee2e2; color: #dc2626; border-color: #fca5a5;} /* Rouge */
        .resultado.bg-orange { background-color: #fff7ed; color: #ea580c; border-color: #fdba74;} /* Orange */
        .resultado.bg-yellow { background-color: #fefce8; color: #d97706; border-color: #fde047;} /* Jaune */
        .resultado.bg-green { background-color: #dcfce7; color: #16a34a; border-color: #bbf7d0;} /* Vert */
        .resultado.bg-blue { background-color: #eff6ff; color: #2563eb; border-color: #bfdbfe;} /* Bleu */
        .bg-info-orange-light { background-color: #fffbeb; color: #d97706; border-color: #fde68a;} /* Avertissement */
        
        .resultado { /* Style de base */
             padding: 1.5rem;
             border-radius: 12px;
             box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
             margin-top: 1.5rem;
             border: 1px solid transparent; /* Bordure transparente par défaut */
        }

        /* Styles pour le nouveau layout de cards avec checkboxes */
        .manchester-criteria-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        .manchester-criterion-card {
            background-color: #fff;
            border: 1px solid #d1d5db; /* Gris */
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
        }
        .manchester-criterion-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15);
        }
        .manchester-criterion-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            padding: 0.5rem 0;
        }
        .manchester-criterion-item input[type="checkbox"] {
            height: 1.25rem;
            width: 1.25rem;
            color: #1A3E74; /* Bleu foncé */
            border-color: #d1d5db; /* Gris */
            border-radius: 0.25rem;
            cursor: pointer;
            flex-shrink: 0; /* Empêche le rétrécissement */
             accent-color: #1A3E74; /* Couleur de la coche */
        }
        .manchester-criterion-item label {
            flex-grow: 1;
            font-size: 1rem;
            color: #374151; /* Gris foncé */
            font-weight: normal;
            cursor: pointer;
        }
        .manchester-criterion-item input[type="checkbox"]:checked + label { /* Style quand coché */
            font-weight: 600; /* Gras */
            color: #1A3E74; /* Bleu foncé */
        }
        .manchester-criterion-title {
            font-size: 1.25rem; /* Taille */
            font-weight: 700; /* Gras */
            color: #1A3E74; /* Bleu foncé */
            margin-bottom: 0.75rem;
            text-align: left;
        }
        .incomplete .manchester-criterion-title { /* Mise en évidence si non rempli */
             color: #dc2626; /* Rouge */
        }
    </style>
<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    </head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <div class="w-full flex justify-center py-2 bg-gray-100" aria-label="Espace publicitaire supérieur"> 
        <script type="text/javascript">
            atOptions = {
                'key' : '1e009bba81deb2bc366b3c4ac030f6be',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        
    </div>
    
    <!-- Skip Links Traduzidos -->
    <nav aria-label="Raccourcis d'accessibilité" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="../index.html" accesskey="I" class="block mb-2">Aller à l'accueil [Alt + Shift + I]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">Passer au contenu principal [Alt + Shift + C]</a>
        <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Activer la barre d'accessibilité [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">Retour en haut de page [Alt + Shift + T]</a>
    </nav>

    <!-- ARIA Live Region -->
    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- Container para o Menu Global (carregado via JS da pasta /fr/) -->
    <div id="global-header-container"></div>
    
    <!-- Seletor de Idioma (Caminhos das bandeiras corrigidos para ../) -->
    <div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-right:2rem;">
      <div class="relative inline-block text-left z-50">
        <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
          <img id="langFlag" width="20" height="16" src="../bandeira-franca.webp" alt="FR" class="w-5 h-4 rounded-sm">
          <span id="langText" class="text-gray-700 font-medium">Français</span>
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>

        <div id="langMenu" class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="../bandeira-brasil.webp">
            <img src="../bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="BR" width="20" height="16"><span>Português</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="../bandeira-eua.webp">
            <img src="../bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN" width="20" height="16"><span>English</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="../bandeira-espanha.webp">
            <img src="../bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES" width="20" height="16"><span>Español</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="../bandeira-alemanha.webp">
            <img src="../bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE" width="20" height="16"><span>Deutsch</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="../bandeira-italia.webp">
            <img src="../bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT" width="20" height="16"><span>Italiano</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="../bandeira-franca.webp">
            <img src="../bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR" width="20" height="16"><span>Français</span>
          </div>
           <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="in" data-flag="../bandeira-india.webp">
            <img src="../bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="IN" width="20" height="16"><span>भारत</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="cn" data-flag="../bandeira-china.webp">
            <img src="../bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="CN" width="20" height="16"><span>中国</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ar" data-flag="../bandeira-arabia.webp">
            <img src="../bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR" width="20" height="16"><span>اللغة العربية</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="jp" data-flag="../bandeira-japao.webp">
            <img src="../bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JP" width="20" height="16"><span>日本語</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Script do menu global (caminho corrigido) -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/fr/menu-global.html') // Chemin absolu vers le dossier FR
                .then(response => response.text())
                .then(html => {
                    document.getElementById('global-header-container').innerHTML = html;
                    ajusterEspacoSeletorIdioma();
                });
        });

        function ajustarEspacoSeletorIdioma() {
            var header = document.getElementById('global-header-container');
            var selector = document.getElementById('language-dropdown-wrapper');
            if (header && selector) {
                var headerHeight = header.offsetHeight;
                selector.style.marginTop = (headerHeight > 0 ? headerHeight + 12 : 70) + 'px';
            }
        }
        window.addEventListener('load', ajustarEspacoSeletorIdioma);
        window.addEventListener('resize', ajustarEspacoSeletorIdioma);
    </script>
    
    <!-- Conteúdo Principal da Página (Traduzido) -->
    <main id="main-content" class="flex-grow p-4 sm:p-8">
        <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
            <!-- Breadcrumb Traduzido et avec chemin corrigé -->
            <nav class="breadcrumb" aria-label="breadcrumb">
                <ol>
                    <li><a href="../index.html">Accueil</a></li>
                    <li><a href="#">Calculatrices</a></li>
                    <li>Protocole de Manchester</li>
                </ol>
            </nav>

            <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
                <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                  Protocole de Manchester
                </h1>
            </div>
            <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

            <p id="descricao-header" class="text-gray-700 mb-6 text-left">
              Classe la gravité et la priorité des soins du patient aux urgences sur la base de critères notés. Il est important de rappeler que le protocole de Manchester comporte des critères et des caractéristiques qui génèrent une somme de priorités de soins DIFFÉRENTE dans chaque réseau régional de santé (par exemple, au Brésil), où il peut y avoir plus ou moins de critères définissant la classification des soins. PAR CONSÉQUENT, UTILISEZ CE TABLEAU UNIQUEMENT À TITRE CONSULTATIF ET RESPECTEZ LES CRITÈRES DE TRIAGE ÉTABLIS PAR VOTRE MUNICIPALITÉ/RÉGION. Utilisez cette page uniquement à titre explicatif et non pour évaluer le triage des patients.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Année de Création :</strong> 1997
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Auteurs :</strong> Kevin Mackway-Jones et son équipe.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Domaine d'application :</strong> Unités d'urgence et services d'urgences.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Critères évalués :</strong> Les critères évalués sont appelés Discriminateurs, qui sont des questions ou des signes clés (généraux ou spécifiques) utilisés pour déterminer le niveau de risque et d'urgence.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Qui l'utilise ? :</strong> Infirmiers et médecins urgentistes.
            </p>
            <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-left">
              Sélectionnez les scores correspondants pour chaque symptôme/condition :
            </p>

            <!-- Container pour les critères de la calculatrice -->
            <div id="conteudo" class="manchester-criteria-container">
                <!-- Les cartes de critères seront générées ici par JS -->
            </div>

            <!-- Div pour afficher le résultat -->
            <div id="resultado" class="resultado hidden" aria-live="polite"></div>

            <!-- Boutons d'action -->
            <div class="flex flex-wrap justify-start gap-4 mt-6">
                <button id="btnCalcular" class="btn-primary" aria-label="Calculer la classification de risque">
                  Calculer
                </button>
                <button id="btnLimpar" class="btn-primary" aria-label="Effacer les sélections">
                  Effacer
                </button>
                <button id="btnGerarPDF" class="btn-secondary" aria-label="Générer PDF">
                  Générer PDF
                </button>
                <button id="btnNandaNicNoc" class="btn-primary" aria-label="Rechercher NANDA, NIC, NOC">
                    NANDA, NIC, NOC
                </button>
            </div>

            <!-- Références Bibliographiques (Source principale en français) -->
            <div id="bibliografia" class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
              <strong>Référence bibliographique :</strong>
              <p class="mt-2">
                  Mackway-Jones K, Marsden J, Windle J. Emergency Triage: Manchester Triage Group. 3rd ed. Wiley-Blackwell; 2014. (Référence clé du système) <br>
                   *Note : Les protocoles spécifiques peuvent varier selon les adaptations nationales ou régionales.*
              </p>
            </div>
        </div>
    </main>
  
    <!-- Placeholder pour le Rodapé Carregado via JS -->
    <div id="footer-placeholder"></div>
    
    <!-- Elementos globais do corpo (como modal de cookies, botão 'voltar ao topo') -->
    <div id="global-body-elements-container"></div>
    
    <!-- Scripts Globais e de Bibliotecas (Chemins corrigés) -->
    
    
    <script src="../global-scripts.js" defer></script>
  
    <!-- Script Específico da Página Manchester (Traduzido) -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Carrega le rodapé da pasta /fr/ via fetch
        fetch('footer.html') 
            .then(response => response.text()) 
            .then(data => {
                document.getElementById('footer-placeholder').innerHTML = data;
            });

        // Carrega les éléments globaux da pasta /fr/
        fetch('/fr/global-body-elements.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('global-body-elements-container').innerHTML = html;
                // Ativa o VLibras et autres scripts globaux APRÈS carregar le contenu
                if (typeof initVLibras === 'function') {
                    initVLibras();
                }
                if (typeof setupGlobalElements === 'function') {
                    setupGlobalElements();
                }
            });
            
        const resultadoDiv = document.getElementById('resultado');
        const btnCalcular = document.getElementById('btnCalcular');
        const btnLimpar = document.getElementById('btnLimpar');
        const btnGerarPDF = document.getElementById('btnGerarPDF');
        const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
        const conteudoDiv = document.getElementById('conteudo');
        
        // Données du Protocole de Manchester traduites (Exemple simplifié)
        // IMPORTANT : Ces scores sont ILLUSTRATIFS et peuvent ne pas correspondre
        // exactement au protocole officiel ou à ses adaptations locales.
        const manchesterData = [
            { question: "Obstruction des voies aériennes", score: 5 }, // Score ajusté pour représenter l'urgence maximale (Rouge)
            { question: "Difficulté respiratoire sévère", score: 5 }, // Rouge
            { question: "Confusion/agitation", score: 3 }, // Orange/Jaune selon contexte
            { question: "Somnolence/désorientation", score: 4 }, // Orange
            { question: "Inconscience", score: 5 }, // Rouge
            { question: "Douleur légère (EVA 1–3)", score: 1 }, // Bleu/Vert
            { question: "Douleur modérée (EVA 4–6)", score: 2 }, // Vert/Jaune
            { question: "Douleur intense (EVA 7–10)", score: 4 }, // Orange
            { question: "PA < 90 ou FC > 130", score: 4 }, // Orange
            { question: "Extrémités froides/sueurs", score: 3 }, // Jaune/Orange
            { question: "Saignement léger", score: 1 }, // Bleu/Vert
            { question: "Saignement modéré", score: 3 }, // Jaune
            { question: "Saignement sévère", score: 4 }, // Orange/Rouge
            { question: "Fièvre modérée (38–39℃)", score: 2 }, // Vert
            { question: "Fièvre élevée (>39℃)", score: 3 }, // Jaune
            { question: "Hypothermie (<36℃)", score: 3 }, // Jaune/Orange
            { question: "Faiblesse/paralysie focale", score: 4 }, // Orange
            { question: "Convulsion récente", score: 4 }, // Orange/Rouge
            { question: "Altération visuelle/auditive soudaine", score: 3 } // Jaune
        ];

        // Remplit le formulaire dynamiquement
        manchesterData.forEach((item, index) => {
            const sectionDiv = document.createElement('div');
            sectionDiv.className = 'manchester-criterion-card';
            
            const itemLabel = document.createElement('label');
            itemLabel.className = 'manchester-criterion-item';
            
            const inputCheckbox = document.createElement('input');
            inputCheckbox.type = 'checkbox';
            inputCheckbox.name = 'symptome'; // 'symptome' au lieu de 'sintoma'
            inputCheckbox.value = item.score;
            inputCheckbox.id = `symptome-${index}`; // ID unique
            
            const textSpan = document.createElement('span');
            // Texte traduit : question + score
            textSpan.innerText = `${item.question} (${item.score} points)`; 
            textSpan.htmlFor = inputCheckbox.id; // Associe le label à l'input
            
            itemLabel.appendChild(inputCheckbox);
            itemLabel.appendChild(textSpan);
            sectionDiv.appendChild(itemLabel);
            conteudoDiv.appendChild(sectionDiv);
        });

        function calculerManchester() {
            const checkboxes = document.querySelectorAll('#conteudo input[type="checkbox"]:checked');
            // Dans Manchester, c'est le score LE PLUS ÉLEVÉ qui détermine la priorité, pas la somme.
            let highestScore = 0;
            checkboxes.forEach(c => {
                const currentScore = parseInt(c.value);
                if (currentScore > highestScore) {
                    highestScore = currentScore;
                }
            });
            
            let classification = '';
            let couleurClasse = ''; // 'couleur' au lieu de 'cor'
            let tempsAttente = ''; // Temps d'attente cible

            // Classification basée sur le score le plus élevé (APPROXIMATIVE)
            // Les vrais discriminateurs sont plus complexes.
            if (highestScore >= 5) {
                classification = "Rouge – Immédiat";
                couleurClasse = "bg-red";
                tempsAttente = "0 min";
            } else if (highestScore >= 4) {
                classification = "Orange – Très Urgent";
                couleurClasse = "bg-orange";
                tempsAttente = "10 min";
            } else if (highestScore >= 3) {
                classification = "Jaune – Urgent";
                couleurClasse = "bg-yellow";
                tempsAttente = "60 min";
            } else if (highestScore >= 2) {
                classification = "Vert – Standard";
                couleurClasse = "bg-green";
                tempsAttente = "120 min";
            } else if (highestScore >= 1){ // Si au moins 1 est coché avec score 1
                 classification = "Bleu – Non Urgent";
                 couleurClasse = "bg-blue";
                 tempsAttente = "240 min";
            } else { // Si rien n'est coché
                 classification = "Aucun critère d'urgence sélectionné";
                 couleurClasse = "bg-blue"; // Ou une autre couleur par défaut
                 tempsAttente = "N/A";
                 highestScore = 0; // Réinitialise pour l'affichage
            }
            
            resultadoDiv.innerHTML = `<p><strong>${classification}</strong></p><p>Score maximum détecté : <strong class="font-bold">${highestScore}</strong></p><p>Délai d'attente cible : <strong>${tempsAttente}</strong></p>`; // Texte traduit
            resultadoDiv.className = `resultado ${couleurClasse}`; // Applique la classe de couleur
            resultadoDiv.style.display = 'block';

            // Stocke les données pour PDF et NANDA
            resultadoDiv.dataset.classification = classification;
            resultadoDiv.dataset.score = highestScore; // Stocke le score maximum
            resultadoDiv.dataset.scaleName = "Protocole de Manchester"; // Nom pour NANDA
        }

        function limparCampos() {
            const checkboxes = document.querySelectorAll('#conteudo input[type="checkbox"]');
            checkboxes.forEach(c => c.checked = false); // Décoche tout

            resultadoDiv.innerHTML = '';
            resultadoDiv.className = 'resultado hidden'; // Cache et reset
            // Efface les données stockées
            delete resultadoDiv.dataset.classification;
            delete resultadoDiv.dataset.score; // Utilise 'score'
            delete resultadoDiv.dataset.scaleName;
        }

        // Ajoute les event listeners aux boutons
        btnCalcular?.addEventListener('click', calculerManchester);
        btnLimpar?.addEventListener('click', limparCampos);

        // Funcionalidade PDF
        btnGerarPDF?.addEventListener('click', () => {
            if (resultadoDiv.dataset.score === undefined) { // Vérifie si 'score' existe
                alert('Veuillez cliquer sur "Calculer" d\'abord pour générer le PDF.'); // Traduzido
                return;
            }
            if (typeof gerarPDFGlobal === 'function') {
                gerarPDFGlobal({
                    titulo: 'Protocole de Manchester', // Traduzido
                    subtitulo: 'Rapport de Triage', // Traduzido
                    nomeArquivo: 'protocole_manchester.pdf', // Traduzido
                    seletorConteudo: '.main-content-wrapper'
                });
            } else {
                console.error('Fonction gerarPDFGlobal non définie.');
            }
        });
        
        // Funcionalidade NANDA/NIC/NOC
        btnNandaNicNoc?.addEventListener('click', () => {
            const score = resultadoDiv.dataset.score; // Utilise 'score'
            const classification = resultadoDiv.dataset.classification; // Utilise 'classification'
            const scaleName = resultadoDiv.dataset.scaleName;
            if (score === undefined || !classification) { // Vérifie si les données existent
                alert('Calculez le résultat pour rechercher la conduite à tenir.'); // Traduzido
                return;
            }
            // Recherche traduite et adaptée
            const searchQuery = encodeURIComponent(`${scaleName} score max ${score} classification ${classification} générer taxonomie NANDA générer taxonomie NIC générer taxonomie NOC`);
            window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
        });
    });
  </script>



<script type="text/javascript">
	atOptions = {
		'key' : '1e009bba81deb2bc366b3c4ac030f6be',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>

<!-- CHEMIN DU SCRIPT CORRIGÉ -->
<script src="../lang-selector.js" defer></script>
<div id="adterra-banner-container" style="min-height: 90px; width: 100%; text-align: center; margin: 10px 0;">
    <script type='text/javascript' async src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>
</div>
</body>
</html>
