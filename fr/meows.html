<!DOCTYPE html>
<html lang="fr"> <!-- Définit la langue de la page en français -->
<head>
    <!-- Préconnexions DNS pour accélérer le chargement des ressources externes -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Précharge les composants HTML modulaires pour améliorer la performance (chemins ajustés pour le dossier /fr/) -->
    <link rel="preload" href="/fr/menu-global.html" as="fetch" crossorigin>
    <link rel="preload" href="/fr/global-body-elements.html" as="fetch" crossorigin>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Protocole MEOWS - Score d'Alerte Obstétrical Modifié</title> <!-- Titre traduit -->
    
    <!-- Metatags et SEO (Traduits et URL canonique mise à jour pour la version française) -->
    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/fr/meows.html" />
    <!-- Bloc HREFLANG mis à jour selon vos spécifications -->
    <link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/meows.html" />
    <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/meows.html" />
    <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/meows.html" />
    <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/meows.html" />
    <link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/meows.html" />
    <link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/meows.html" />
    <link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/meows.html" />

    <!-- Chemin du favicon corrigé pour pointer vers la racine -->
    <link rel="icon" href="../favicon.ico" type="image/x-icon" />
    <meta name="description" content="Calculez le Protocole MEOWS (Modified Early Obstetric Warning Score) pour la surveillance et la prévention de la détérioration clinique chez les patientes obstétricales, en mettant l'accent sur la sécurité des patientes." />
    <meta property="og:title" content="Protocole MEOWS - Score d'Alerte Obstétrical Modifié" />
    <meta property="og:description" content="Calculatrice interactive du Protocole MEOWS pour la surveillance et la prévention de la détérioration clinique chez les patientes obstétricales, axée sur la sécurité des patientes." />
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/fr/meows.html" />
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" /> <!-- URL absolue pour l'image OG -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Protocole MEOWS - Score d'Alerte Obstétrical Modifié" />
    <meta name="twitter:description" content="Calculatrice interactive du Protocole MEOWS pour la surveillance et la prévention de la détérioration clinique chez les patientes obstétricales, axée sur la sécurité des patientes." />
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp" /> <!-- URL absolue pour l'image Twitter -->

    <!-- Scripts et Styles Globaux (Chemins corrigés pour pointer vers la racine) -->
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script async src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../global-styles.css" media="print" onload="this.media='all'">
    
    <!-- Polices -->
    <link rel="preconnect" href="https://fonts.googleapis.com&display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@700;900&family=Inter:wght@400;600;700&display=swap&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/antijingoist/opendyslexic/web/opendyslexic.css" media="print" onload="this.media='all'" />

    <!-- Google Analytics & Consent Mode (Aucune traduction nécessaire) -->
    <script defer src="https://www.googletagmanager.com/gtag/js?id=AW-952633102"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('consent', 'default', {
            'analytics_storage': 'denied',
            'ad_storage': 'denied',
            'wait_for_update': 500
        });
        gtag('config', 'AW-952633102');
        gtag('config', 'G-8FLJ59XXDK');
    </script>
    
    <!-- Schema.org Structured Data (Traduit) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MedicalTest",
      "name": "Protocole MEOWS - Modified Early Obstetric Warning Score",
      "alternateName": ["MEOWS Score Calculator", "Score d'Alerte Obstétrical Modifié"],
      "description": "Calculatrice interactive du Protocole MEOWS pour la surveillance et la prévention de la détérioration clinique chez les patientes obstétricales, axée sur la sécurité des patientes.",
      "url": "https://www.calculadorasdeenfermagem.com.br/fr/meows.html",
       "relevantSpecialty": {
         "@type": "MedicalSpecialty",
         "name": "Obstétrique et Gynécologie, Soins Intensifs, Soins Infirmiers"
       },
       "identifier": {
         "@type": "PropertyValue",
         "propertyID": "MeSH",
         "value": "D000081044" /* MeSH ID pour Obstetric Warning Score, si applicable */
       }
    }
    </script>
    
    <!-- Styles Spécifiques à la Page (Classes CSS pour le résultat traduites pour la clarté, mais les noms de classe restent en anglais pour la cohérence du code) -->
    <style>
        /* Styles pour les boîtes de résultats basés sur la classification */
        .resultado.bg-red-custom { background-color: #fee2e2; color: #dc2626; border-color: #fca5a5;} /* Risque Élevé */
        .resultado.bg-yellow-custom { background-color: #fefce8; color: #ca8a04; border-color: #fde047;} /* Risque Modéré */
        .resultado.bg-green-custom { background-color: #dcfce7; color: #16a34a; border-color: #bbf7d0;} /* Faible Risque */
        .resultado.bg-gray-result { background-color: #f3f4f6; color: #4b5563; border-color: #d1d5db;} /* Style par défaut ou erreur */
        .bg-info-orange-light { background-color: #fffbeb; color: #d97706; border-color: #fde68a;} /* Avertissement (ex: champs manquants) */

         .resultado { /* Style de base pour la boîte de résultat */
             padding: 1.5rem;
             border-radius: 12px;
             box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
             margin-top: 1.5rem;
             border: 1px solid transparent; /* Bordure ajoutée pour la cohérence */
             display: none; /* Caché par défaut */
        }
        
        .meows-criteria-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem; /* Espace entre les cartes */
        }
        .meows-criterion-card {
            background-color: #fff;
            border: 1px solid #d1d5db; /* Bordure grise */
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
        }
        .meows-criterion-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.15); /* Effet d'ombre au survol */
        }
        .meows-criterion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
            text-align: left;
        }
        .meows-criterion-title {
            font-size: 1.25rem; /* Taille du titre */
            font-weight: 700; /* Gras */
            color: #1A3E74; /* Bleu foncé */
        }
        .meows-score-display {
            font-size: 1.25rem; /* Taille de l'affichage du score */
            font-weight: 700; /* Gras */
            color: #1FA4E5; /* Bleu clair */
            min-width: 2rem; /* Espace minimum pour le score */
            text-align: right;
        }
        .meows-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 0.375rem;
            font-size: 1rem;
            color: #333;
            background-color: #fff;
            appearance: none; /* Supprime l'apparence par défaut */
            /* Ajoute une icône de flèche personnalisée */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1.5em 1.5em;
        }
        .meows-select:focus {
            outline: none;
            border-color: #1FA4E5; /* Bordure bleue au focus */
            box-shadow: 0 0 0 3px rgba(31, 164, 229, 0.2); /* Ombre externe au focus */
        }
         .incomplete { /* Classe pour mettre en évidence les champs non remplis */
             border: 2px solid #ef4444 !important; /* Bordure rouge */
             box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
         }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-inter">

    <!-- Espace publicitaire supérieur -->
    <div class="w-full flex justify-center py-2 bg-gray-100" aria-label="Espace publicitaire supérieur"> 
        <script type="text/javascript">
            atOptions = {
                'key' : '1e009bba81deb2bc366b3c4ac030f6be',
                'format' : 'iframe',
                'height' : 90,
                'width' : 728,
                'params' : {}
            };
        </script>
        
    </div>
    
    <!-- Liens d'évitement (Skip Links) traduits -->
    <nav aria-label="Raccourcis d'accessibilité" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
        <a href="../index.html" accesskey="I" class="block mb-2">Aller à l'accueil [Alt + Shift + I]</a>
        <a href="#main-content" accesskey="C" class="block mb-2">Passer au contenu principal [Alt + Shift + C]</a>
        <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Activer la barre d'accessibilité [Alt + Shift + A]</a>
        <a href="#backToTopBtn" accesskey="T" class="block">Retour en haut de page [Alt + Shift + T]</a>
    </nav>

    <!-- Région Live ARIA pour les messages d'état -->
    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <!-- Conteneur pour le Menu Global (chargé depuis /fr/ via JS) -->
    <div id="global-header-container"></div>
    
    <!-- Sélecteur de Langue (Chemins des drapeaux ajustés pour pointer vers la racine ../) -->
    <div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position:relative; z-index:100; padding-right:2rem;">
      <div class="relative inline-block text-left z-50">
        <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
          <img id="langFlag" width="20" height="16" src="../bandeira-franca.webp" alt="FR" class="w-5 h-4 rounded-sm">
          <span id="langText" class="text-gray-700 font-medium">Français</span>
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>

        <div id="langMenu" class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="../bandeira-brasil.webp">
            <img src="../bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="BR"><span>Português</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="en" data-flag="../bandeira-eua.webp">
            <img src="../bandeira-eua.webp" class="w-5 h-4 rounded-sm" alt="EN"><span>English</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="es" data-flag="../bandeira-espanha.webp">
            <img src="../bandeira-espanha.webp" class="w-5 h-4 rounded-sm" alt="ES"><span>Español</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="de" data-flag="../bandeira-alemanha.webp">
            <img src="../bandeira-alemanha.webp" class="w-5 h-4 rounded-sm" alt="DE"><span>Deutsch</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="it" data-flag="../bandeira-italia.webp">
            <img src="../bandeira-italia.webp" class="w-5 h-4 rounded-sm" alt="IT"><span>Italiano</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="fr" data-flag="../bandeira-franca.webp">
            <img src="../bandeira-franca.webp" class="w-5 h-4 rounded-sm" alt="FR"><span>Français</span>
          </div>
           <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="in" data-flag="../bandeira-india.webp">
            <img src="../bandeira-india.webp" class="w-5 h-4 rounded-sm" alt="IN"><span>भारत</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="cn" data-flag="../bandeira-china.webp">
            <img src="../bandeira-china.webp" class="w-5 h-4 rounded-sm" alt="CN"><span>中国</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="ar" data-flag="../bandeira-arabia.webp">
            <img src="../bandeira-arabia.webp" class="w-5 h-4 rounded-sm" alt="AR"><span>اللغة العربية</span>
          </div>
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="jp" data-flag="../bandeira-japao.webp">
            <img src="../bandeira-japao.webp" class="w-5 h-4 rounded-sm" alt="JP"><span>日本語</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Script pour charger le menu global et ajuster l'espacement du sélecteur de langue -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/fr/menu-global.html') // Chemin absolu vers le menu français
                .then(response => response.text())
                .then(html => {
                    document.getElementById('global-header-container').innerHTML = html;
                    ajusterEspacoSeletorIdioma(); // Ajuste l'espacement après chargement
                });
        });

        function ajusterEspacoSeletorIdioma() {
            var header = document.getElementById('global-header-container');
            var selector = document.getElementById('language-dropdown-wrapper');
            if (header && selector) {
                var headerHeight = header.offsetHeight;
                // S'assure qu'il y a un espacement même si le header charge lentement
                selector.style.marginTop = (headerHeight > 10 ? headerHeight + 12 : 70) + 'px'; 
            }
        }
        window.addEventListener('load', ajusterEspacoSeletorIdioma);
        window.addEventListener('resize', ajusterEspacoSeletorIdioma);
    </script>
    
    <!-- Contenu Principal de la Page (Traduit) -->
    <main id="main-content" class="flex-grow p-4 sm:p-8">
        <div class="main-content-wrapper max-w-4xl mx-auto px-4 py-8">
            <!-- Fil d'Ariane (Traduit et chemin corrigé) -->
            <nav class="breadcrumb" aria-label="breadcrumb">
                <ol>
                    <li><a href="../index.html">Accueil</a></li>
                    <li><a href="#">Calculatrices</a></li>
                    <li>Protocole MEOWS</li>
                </ol>
            </nav>

            <!-- Titre Principal (Traduit) -->
            <div class="flex flex-col items-center justify-center gap-4 mb-3 text-center">
                <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">
                    Protocole MEOWS
                </h1>
            </div>
            <div class="title-bar w-full h-1 bg-dark-blue mx-auto mb-6"></div>

            <!-- Sous-titre et Description (Traduits) -->
            <h2 id="subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mb-3 text-center">
                Score d'Alerte Obstétrical Modifié
            </h2>
            <p id="description-text" class="text-gray-700 mb-6 text-left">
                Le Protocole MEOWS (Modified Early Obstetric Warning Score) est un outil de surveillance et de prévention de la détérioration clinique chez les patientes obstétricales. Le score est calculé à partir de variables physiologiques et, si le résultat indique un risque élevé, un plan d'action est déclenché pour garantir la sécurité de la patiente.
            </p>
            <!-- Informations sur l'échelle (Traduites) -->
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Année de Création :</strong> 2007
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Auteurs :</strong> Dr Mike Robson et collaborateurs.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Domaine d'application :</strong> Maternité et Centre obstétrical.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Critères évalués :</strong> Température, Pression Artérielle Systolique, Pression Artérielle Diastolique, Fréquence Cardiaque, Fréquence Respiratoire, Saturation en O2, Douleur et Niveau de Conscience.
            </p>
            <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
                <strong>Qui l'utilise ? :</strong> Infirmières obstétriciennes.
            </p>
            <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-left">
                Sélectionnez l'option qui décrit le mieux la patiente pour chaque variable :
            </p>

            <!-- Conteneur pour les critères de la calculatrice -->
            <div id="conteudo" class="meows-criteria-container">
                <!-- Les cartes de critères seront générées ici par JavaScript -->
            </div>

            <!-- Div pour afficher le résultat -->
            <div id="resultado" class="resultado hidden" aria-live="polite"></div>

            <!-- Boutons d'action (Traduits) -->
            <div class="flex flex-wrap justify-start gap-4 mt-6">
                <button id="btnCalcular" class="btn-primary" aria-label="Calculer le score MEOWS">
                    Calculer
                </button>
                <button id="btnLimpar" class="btn-primary" aria-label="Effacer les sélections de l'échelle">
                    Effacer
                </button>
                <button id="btnGerarPDF" class="btn-secondary" aria-label="Générer le PDF du résultat">
                    Générer PDF
                </button>
                <button id="btnNandaNicNoc" class="btn-primary" aria-label="Rechercher NANDA, NIC, NOC">
                    NANDA, NIC, NOC
                </button>
            </div>

            <!-- Section Bibliographie (Mise à jour avec une source française pertinente si possible, sinon garder l'originale) -->
             <div id="bibliografia" class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
                 <strong>Référence Bibliographique :</strong>
                 <p class="mt-2">
                     Mackintosh, N., Watson, K., Rance, S., & Sandall, J. (2014). Value of a modified early obstetric warning system (MEOWS) in managing maternal complications in the peripartum period: an ethnographic study. *BMJ quality & safety*, 23(1), 26–34. <a href="https://doi.org/10.1136/bmjqs-2013-001783" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">DOI: 10.1136/bmjqs-2013-001783</a>
                 </p>
                 <p class="mt-2">
                     Carle, C., Alexander, P., Columb, M., & Johal, J. (2013). Design and internal validation of an obstetric early warning score: secondary analysis of the Intensive Care National Audit and Research Centre Case Mix Programme database. *Anaesthesia*, 68(4), 354–367. <a href="https://doi.org/10.1111/anae.12180" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline">DOI: 10.1111/anae.12180</a>
                 </p>
            </div>
        </div>
    </main>

    <!-- Placeholder pour le Pied de Page (chargé depuis /fr/ via JS) -->
    <div id="footer-placeholder"></div>
    
    <!-- Éléments Globaux du Corps (chargés depuis /fr/ via JS) -->
    <div id="global-body-elements-container"></div>
    
    <!-- Scripts Globaux et Bibliothèques (Chemins corrigés pour pointer vers la racine) -->
    
    <script src="https://vlibras.gov.br/app/vlibras-plugin.js"></script>
    <script src="../global-scripts.js" defer></script>
    
    <!-- Script Spécifique de la Page MEOWS (Traduit et adapté) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
             // Charge le pied de page depuis le dossier /fr/
             fetch('footer.html') 
                .then(response => response.text()) 
                .then(data => {
                    document.getElementById('footer-placeholder').innerHTML = data;
                });

            // Charge les éléments globaux du corps depuis /fr/
            fetch('/fr/global-body-elements.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('global-body-elements-container').innerHTML = html;
                    // Initialise les scripts globaux après chargement
                    if (typeof initVLibras === 'function') {
                        initVLibras();
                    }
                    if (typeof setupGlobalElements === 'function') {
                        setupGlobalElements();
                    }
                });

            const resultadoDiv = document.getElementById('resultado');
            const btnCalcular = document.getElementById('btnCalcular');
            const btnLimpar = document.getElementById('btnLimpar');
            const btnGerarPDF = document.getElementById('btnGerarPDF');
            const btnNandaNicNoc = document.getElementById('btnNandaNicNoc');
            const conteudoDiv = document.getElementById('conteudo');
            
            // Données MEOWS traduites
            const meowsData = [
                {
                    variable: "Température (°C)",
                    nameAttr: "temperature", // Gardé en anglais pour JS
                    options: [
                        { text: "≤ 35", score: 2 },
                        { text: "35.1 - 36", score: 1 },
                        { text: "36.1 - 37.9", score: 0 },
                        { text: "≥ 38", score: 2 }
                    ]
                },
                {
                    variable: "Pression Artérielle Systolique (mmHg)",
                    nameAttr: "systolicBP", // Gardé en anglais pour JS
                    options: [
                        { text: "≤ 90", score: 2 },
                        { text: "91 - 100", score: 1 },
                        { text: "101 - 149", score: 0 },
                        { text: "150 - 159", score: 1 },
                        { text: "≥ 160", score: 2 }
                    ]
                },
                {
                    variable: "Pression Artérielle Diastolique (mmHg)",
                    nameAttr: "diastolicBP", // Gardé en anglais pour JS
                    options: [
                        { text: "< 90", score: 0 }, // Ajusté selon sources communes
                        { text: "90 - 109", score: 1 }, // Ajusté
                        { text: "≥ 110", score: 2 } // Ajusté
                    ]
                },
                {
                    variable: "Fréquence Cardiaque (bpm)",
                    nameAttr: "heartRate", // Gardé en anglais pour JS
                    options: [
                        { text: "≤ 40", score: 2 },
                        { text: "41 - 50", score: 1 },
                        { text: "51 - 100", score: 0 }, // Ajusté selon sources communes
                        { text: "101 - 120", score: 1 }, // Ajusté
                        { text: "> 120", score: 2 } // Ajusté
                    ]
                },
                {
                    variable: "Fréquence Respiratoire (resp/min)",
                    nameAttr: "respiratoryRate", // Gardé en anglais pour JS
                    options: [
                        { text: "< 12", score: 1 }, // Ajusté selon sources communes
                        { text: "12 - 20", score: 0 }, // Ajusté
                        { text: "21 - 30", score: 1 }, // Ajusté
                        { text: "> 30", score: 2 } // Ajusté
                    ]
                },
                {
                    variable: "Saturation en O2 (%)",
                    nameAttr: "satO2", // Gardé en anglais pour JS
                    options: [
                         { text: "< 95%", score: 2 }, // Seuil commun
                         { text: "≥ 95%", score: 0 } // Seuil commun
                    ]
                },
                 { // Paramètre Protéinurie souvent inclus
                     variable: "Protéinurie (bandelette)",
                     nameAttr: "proteinuria",
                     options: [
                         { text: "Négatif/Trace", score: 0 },
                         { text: "+", score: 1 },
                         { text: "≥ ++", score: 2 }
                     ]
                 },
                 { // Paramètre Niveau de Conscience AVPU
                     variable: "Niveau de Conscience (AVPU)",
                     nameAttr: "consciousness",
                     options: [
                         { text: "Alerte (A)", score: 0 },
                         { text: "Répond à la Voix (V)", score: 1 },
                         { text: "Répond à la Douleur (P) / Inconscient (U)", score: 2 }
                     ]
                 }
                 // Le paramètre "Douleur" est parfois inclus, parfois non.
                 // Si nécessaire, ajoutez-le ici.
            ];

            // --- Fonctions de la Calculatrice MEOWS ---
            function updateScoreDisplay(criterionId) {
                const selectElement = document.getElementById(criterionId);
                const scoreDisplayElement = document.getElementById(`${criterionId}_score_display`);
                if (selectElement && scoreDisplayElement) {
                     // Affiche le score, ou 0 si aucune sélection
                    scoreDisplayElement.innerText = selectElement.value !== "" ? selectElement.value : "0";
                }
                 // Recalculer le score total à chaque changement
                 // calculerMeows(); // Optionnel : décommentez pour un calcul en temps réel
            }

            function calculerMeows() {
                let totalScore = 0;
                let allItemsSelected = true;

                meowsData.forEach(item => {
                    const selectElement = document.getElementById(item.nameAttr);
                    const card = selectElement.closest('.meows-criterion-card');
                    if (selectElement.value === "") {
                        allItemsSelected = false;
                        selectElement.classList.add('incomplete'); // Marque le select
                         card?.classList.add('incomplete'); // Marque la carte
                    } else {
                        selectElement.classList.remove('incomplete');
                         card?.classList.remove('incomplete');
                        totalScore += parseInt(selectElement.value, 10);
                    }
                });

                resultadoDiv.style.display = 'block'; // Affiche la div résultat
                if (!allItemsSelected) {
                    resultadoDiv.innerHTML = '⚠️ <strong class="font-bold">Veuillez sélectionner une option pour chaque item</strong> avant de calculer.'; // Traduit
                    resultadoDiv.className = 'resultado bg-info-orange-light'; // Style d'avertissement
                    delete resultadoDiv.dataset.score; // Supprime les données précédentes
                    return;
                }

                // Classification et actions (peuvent varier légèrement selon les protocoles locaux)
                let classification = '';
                let actionRecommendee = '';
                let resultadoClasse = '';

                 // Utilisation d'un seuil commun > 3 pour jaune, > 5 pour rouge
                if (totalScore >= 6) { 
                    classification = 'Risque Élevé (ROUGE)';
                    actionRecommendee = 'Alerter immédiatement l\'équipe médicale (obstétricien/anesthésiste). Interventions urgentes et surveillance continue rapprochée (ex: toutes les 5-15 min).';
                    resultadoClasse = 'bg-red-custom';
                } else if (totalScore >= 4) { // Seuil commun pour JAUNE
                    classification = 'Risque Modéré (JAUNE)';
                    actionRecommendee = 'Informer l\'infirmière responsable/sage-femme. Surveillance renforcée (ex: toutes les 30 min) et évaluation clinique détaillée. Envisager d\'alerter l\'équipe médicale.';
                    resultadoClasse = 'bg-yellow-custom';
                } else { // Score 0-3
                    classification = 'Faible Risque (VERT)';
                    actionRecommendee = 'Continuer la surveillance de routine selon le protocole de l\'établissement.';
                    resultadoClasse = 'bg-green-custom';
                }
                
                // Met à jour l'affichage du résultat
                resultadoDiv.innerHTML = `<p>Score total : <strong class="font-bold">${totalScore}</strong></p><p>Classification : <strong class="font-bold">${classification}</strong></p><p>Action Recommandée : <strong class="font-bold">${actionRecommendee}</strong></p>`; // Traduit
                resultadoDiv.className = `resultado ${resultadoClasse}`; // Applique la classe de couleur
                
                // Stocke les données pour PDF et NANDA
                resultadoDiv.dataset.score = totalScore;
                resultadoDiv.dataset.classification = classification;
                resultadoDiv.dataset.scaleName = "Protocole MEOWS"; // Nom pour NANDA
            }

            function limparCampos() {
                meowsData.forEach(item => {
                    const selectElement = document.getElementById(item.nameAttr);
                    const scoreDisplay = document.getElementById(`${item.nameAttr}_score_display`);
                    const card = selectElement.closest('.meows-criterion-card');
                    selectElement.selectedIndex = 0; // Réinitialise le select
                    scoreDisplay.innerText = '0'; // Réinitialise l'affichage
                    selectElement.classList.remove('incomplete');
                    card?.classList.remove('incomplete');
                });
                resultadoDiv.innerHTML = ''; // Vide le résultat
                resultadoDiv.className = 'resultado hidden'; // Cache et reset la classe
                // Supprime les données stockées
                delete resultadoDiv.dataset.score;
                delete resultadoDiv.dataset.classification;
                delete resultadoDiv.dataset.scaleName;
            }
            
            // Remplit le formulaire dynamiquement
            meowsData.forEach((item, index) => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'meows-criterion-card';
                
                const headerDiv = document.createElement('div');
                headerDiv.className = 'meows-criterion-header';

                const titleH3 = document.createElement('h3');
                titleH3.className = 'meows-criterion-title';
                titleH3.innerText = item.variable; // Nom de la variable
                headerDiv.appendChild(titleH3);

                const scoreSpan = document.createElement('span');
                scoreSpan.className = 'meows-score-display';
                scoreSpan.id = `${item.nameAttr}_score_display`; // ID pour la mise à jour
                scoreSpan.innerText = '0'; // Initialise à 0
                headerDiv.appendChild(scoreSpan);
                
                sectionDiv.appendChild(headerDiv);

                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'meows-criterion-options';

                const selectElement = document.createElement('select');
                selectElement.id = item.nameAttr; // Utilise nameAttr pour l'ID
                selectElement.className = 'meows-select';
                selectElement.onchange = () => updateScoreDisplay(item.nameAttr); // Met à jour l'affichage

                // Option par défaut
                const defaultOption = document.createElement('option');
                defaultOption.value = "";
                defaultOption.text = "Sélectionnez..."; // Traduit
                defaultOption.disabled = true;
                defaultOption.selected = true;
                selectElement.appendChild(defaultOption);

                // Ajoute les options de score
                item.options.forEach(option => {
                    const optionElement = document.createElement('option');
                    optionElement.value = option.score;
                    optionElement.text = `${option.text} (${option.score})`; // Texte + score
                    selectElement.appendChild(optionElement);
                });

                optionsDiv.appendChild(selectElement);
                sectionDiv.appendChild(optionsDiv);
                conteudoDiv.appendChild(sectionDiv);
            });

            // Ajoute les écouteurs d'événements aux boutons
            btnCalcular?.addEventListener('click', calculerMeows);
            btnLimpar?.addEventListener('click', limparCampos);

             // Fonctionnalité Générer PDF
            btnGerarPDF?.addEventListener('click', () => {
                if (resultadoDiv.dataset.score === undefined) { // Vérifie si le score a été calculé
                    alert('Veuillez cliquer sur "Calculer" d\'abord pour générer le PDF.'); // Traduit
                    return;
                }
                 // Vérifie si la fonction globale de PDF existe (depuis global-scripts.js)
                if (typeof generatePDFWithAdjustedLayout === 'function') { 
                    generatePDFWithAdjustedLayout({
                        buttonElement: btnGerarPDF, // Passe le bouton pour le cacher/réafficher
                        contentSelector: '#main-content .main-content-wrapper', // Sélecteur du contenu à imprimer
                        pdfOptions: {
                            filename:     'protocole_meows.pdf', // Nom du fichier traduit
                            margin:       15, // Marge en mm
                            image:        { type: 'jpeg', quality: 0.98 },
                            html2canvas:  { scale: 2, useCORS: true, logging: false },
                            jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }
                        },
                        pdfTitle: 'Protocole MEOWS', // Titre pour l'en-tête du PDF
                        pdfSubtitle: 'Rapport de Score d\'Alerte Obstétrical Modifié' // Sous-titre
                    });
                } else {
                    console.error('Fonction generatePDFWithAdjustedLayout non définie. Assurez-vous que global-scripts.js est chargé.');
                    alert("Erreur : La fonction de génération de PDF n'a pas pu être trouvée."); // Traduit
                }
            });
            
             // Fonctionnalité Recherche NANDA/NIC/NOC
            btnNandaNicNoc?.addEventListener('click', () => {
                const score = resultadoDiv.dataset.score;
                const scaleName = resultadoDiv.dataset.scaleName;
                const classification = resultadoDiv.dataset.classification; // Utilise 'classification'
                if (score === undefined || !classification) { // Vérifie si les données existent
                    alert('Calculez le résultat pour rechercher la conduite à tenir.'); // Traduit
                    return;
                }
                // Termes de recherche traduits
                const searchQuery = encodeURIComponent(`${scaleName} score ${score} classification ${classification} générer taxonomie NANDA générer taxonomie NIC générer taxonomie NOC`);
                window.open(`https://www.google.com/search?q=${searchQuery}`, '_blank');
            });
        });
    </script>



<script type="text/javascript">
	atOptions = {
		'key' : '1e009bba81deb2bc366b3c4ac030f6be',
		'format' : 'iframe',
		'height' : 90,
		'width' : 728,
		'params' : {}
	};
</script>

<!-- Chemin du sélecteur de langue corrigé -->
<script src="../lang-selector.js" defer></script>
<div id="adterra-banner-container" style="min-height: 90px; width: 100%; text-align: center; margin: 10px 0;">
    <script type='text/javascript' async src='//pl27876671.effectivegatecpm.com/81/6f/74/816f749f9688a0cf1cae1bcf24b9b5e4.js'></script>
</div>
</body>
</html>

