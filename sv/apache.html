<!DOCTYPE html><html lang="sv"><head>
    <link rel="dns-prefetch" href="//googleads.g.doubleclick.net">
    <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6472730056006847" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link rel="preload" href="/menu-global.html" as="fetch" crossorigin="">
    <link rel="preload" href="/global-body-elements.html" as="fetch" crossorigin="">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APACHE II - Bedömning av sjukdomens svårighetsgrad - Omvårdnadskalkylatorer</title>
    <meta name="google-adsense-account" content="ca-pub-6472730056006847">

    <link rel="canonical" href="https://www.calculadorasdeenfermagem.com.br/sv/apache.html">
    <link rel="alternate" hreflang="pt-br" href="https://www.calculadorasdeenfermagem.com.br/apache.html">
    <link rel="alternate" hreflang="en" href="https://www.calculadorasdeenfermagem.com.br/en/apache.html">
    <link rel="alternate" hreflang="es" href="https://www.calculadorasdeenfermagem.com.br/es/apache.html">
    <link rel="alternate" hreflang="fr" href="https://www.calculadorasdeenfermagem.com.br/fr/apache.html">
    <link rel="alternate" hreflang="de" href="https://www.calculadorasdeenfermagem.com.br/de/apache.html">
    <link rel="alternate" hreflang="it" href="https://www.calculadorasdeenfermagem.com.br/it/apache.html">
    <link rel="alternate" hreflang="ja" href="https://www.calculadorasdeenfermagem.com.br/ja/apache.html">
    <link rel="alternate" hreflang="zh" href="https://www.calculadorasdeenfermagem.com.br/zh/apache.html">
    <link rel="alternate" hreflang="hi" href="https://www.calculadorasdeenfermagem.com.br/hi/apache.html">
    <link rel="alternate" hreflang="ar" href="https://www.calculadorasdeenfermagem.com.br/ar/apache.html">
    <link rel="alternate" hreflang="ru" href="https://www.calculadorasdeenfermagem.com.br/ru/apache.html">
    <link rel="alternate" hreflang="tr" href="https://www.calculadorasdeenfermagem.com.br/tr/apache.html">
    <link rel="alternate" hreflang="ko" href="https://www.calculadorasdeenfermagem.com.br/ko/apache.html">
    <link rel="alternate" hreflang="nl" href="https://www.calculadorasdeenfermagem.com.br/nl/apache.html">
    <link rel="alternate" hreflang="pl" href="https://www.calculadorasdeenfermagem.com.br/pl/apache.html">
    <link rel="alternate" hreflang="sv" href="https://www.calculadorasdeenfermagem.com.br/sv/apache.html">
    <link rel="alternate" hreflang="id" href="https://www.calculadorasdeenfermagem.com.br/id/apache.html">
    <link rel="alternate" hreflang="vi" href="https://www.calculadorasdeenfermagem.com.br/vi/apache.html">
    <link rel="alternate" hreflang="uk" href="https://www.calculadorasdeenfermagem.com.br/uk/apache.html">
    <link rel="alternate" hreflang="x-default" href="https://www.calculadorasdeenfermagem.com.br/apache.html">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta name="description" content="Beräkna APACHE II-poängen för att bedöma sjukdomens svårighetsgrad och förutsäga dödlighet hos IVA-patienter.">
    <meta name="keywords" content="APACHE II, Akut fysiologi och kronisk hälsoutvärdering II, IVA, sjukdomens svårighetsgrad, dödlighet, prediktion, omvårdnad, intensivvårdsmedicin, riskpoäng">
    <meta property="og:title" content="APACHE II - Bedömning av sjukdomens svårighetsgrad - Omvårdnadskalkylatorer">
    <meta property="og:description" content="Beräkna APACHE II-poängen för att bedöma sjukdomens svårighetsgrad och förutsäga dödlighet hos IVA-patienter.">
    <meta property="og:url" content="https://www.calculadorasdeenfermagem.com.br/apache.html">
    <meta property="og:image" content="https://www.calculadorasdeenfermagem.com.br/iconpages.webp">
    <meta name="twitter:card" content="sammanfattning_stor_bild">
    <meta name="twitter:title" content="APACHE II - Bedömning av sjukdomens svårighetsgrad - Omvårdnadskalkylatorer">
    <meta name="twitter:description" content="Beräkna APACHE II-poängen för att bedöma sjukdomens svårighetsgrad och förutsäga dödlighet hos IVA-patienter.">
    <meta name="twitter:image" content="https://www.calculadorasdeenfermagem.com.br/assets/iconpages.webp">

    <link href="/public/output.css" rel="stylesheet">
    <script async="" src="https://kit.fontawesome.com/083bed182a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="global-styles.css" media="print" onload="this.media='all'">

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">

    <link rel="preload" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/open-dyslexic@1.0.3/open-dyslexic-regular.min.css"></noscript>

    <script src="https://www.googletagmanager.com/gtag/js?id=AW-952633102" defer="defer"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("consent", "default", {
        analytics_storage: "denied",
        ad_storage: "denied",
        wait_for_update: 500,
      });
      gtag("config", "AW-952633102");
      gtag("config", "G-8FLJ59XXDK");
    </script>

    <style>
      .resultado.bg-apache-low {
        background-color: #d4edda;
        color: #006400;
      }
      .resultado.bg-apache-medium {
        background-color: #fff3cd;
        color: #856404;
      }
      .resultado.bg-apache-high {
        background-color: #f8d7da;
        color: #8b0000;
      }
      .bg-info-orange-light {
        background-color: #ffeeba;
        color: #856404;
      }

      .modal-option-label {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        cursor: pointer;
        padding: 0.75rem;
        border-radius: 0.5rem;
        transition: background-color 0.2s;
      }
      .modal-option-label:hover {
        background-color: #f1f5f9;
      }

      .modal-option-label input[type="radio"] {
        accent-color: #1a3e74;
        width: 1.1rem;
        height: 1.1rem;
      }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com?display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;700&amp;family=Inter:wght@400;700&amp;display=swap" rel="stylesheet">
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9472305505608641" crossorigin="anonymous"></script>
    <meta name="author" content="Calculadoras de Enfermagem">
    <meta property="og:locale" content="sv_SE">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Omvårdnadskalkylatorer">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://www.calculadorasdeenfermagem.com.br/#organization",
          "name": "Omvårdnadskalkylatorer",
          "url": "https://www.calculadorasdeenfermagem.com.br",
          "logo": {
            "@type": "ImageObject",
            "url": "https://www.calculadorasdeenfermagem.com.br/assets/logo.png"
          }
        },
        {
          "@type": "MedicalWebPage",
          "@id": "https://www.calculadorasdeenfermagem.com.br/apache.html/#webpage",
          "url": "https://www.calculadorasdeenfermagem.com.br/apache.html",
          "name": "APACHE II - Bedömning av sjukdomens svårighetsgrad - Omvårdnadskalkylatorer",
          "description": "Beräkna APACHE II-poängen för att bedöma sjukdomens svårighetsgrad och förutsäga dödlighet hos IVA-patienter.",
          "isPartOf": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/#website"
          },
          "primaryImageOfPage": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/apache.html/#primaryimage"
          },
          "datePublished": "2025-12-19T07:59:47.100Z",
          "dateModified": "2025-12-19T10:29:04.418Z",
          "author": {
            "@id": "https://www.calculadorasdeenfermagem.com.br/#organization"
          },
          "audience": {
            "@type": "MedicalAudience",
            "audienceType": "Clinician"
          },
          "specialty": {
            "@type": "MedicalSpecialty",
            "name": "Nursing"
          }
        },
        {
          "@type": "BreadcrumbList",
          "itemListElement": [
            {
              "@type": "ListItem",
              "position": 1,
              "name": "Start",
              "item": "https://www.calculadorasdeenfermagem.com.br"
            },
            {
              "@type": "ListItem",
              "position": 2,
              "name": "APACHE II - Bedömning av sjukdomens svårighetsgrad",
              "item": "https://www.calculadorasdeenfermagem.com.br/apache.html"
            }
          ]
        }
      ]
    }
    </script>
  
<!-- OTIMIZADOR_MASTER_V2 -->
</head>
  <body class="bg-gray-50 text-gray-800 font-inter">
    <nav aria-label="Atalhos de Acessibilidade" class="sr-only focus-within:not-sr-only focus-within:absolute focus-within:top-0 focus-within:left-0 focus-within:z-50 focus-within:bg-white focus-within:text-blue-700 focus-within:p-4 focus-within:underline">
      <a href="/" accesskey="I" class="block mb-2">Gå till Start [Alt + Skift + I]</a>
      <a href="#main-content" accesskey="C" class="block mb-2">Hoppa till huvudinnehåll [Alt + Skift + C]</a>
      <a href="#barraAcessibilidade" accesskey="A" class="block mb-2">Aktivera tillgänglighetsverktygsfältet [Alt + Shift + A]</a>
      <a href="#backToTopBtn" accesskey="T" class="block">Återgå till toppen av sidan [Alt + Skift + T]</a>
    </nav>

    <div id="statusMessage" class="sr-only" aria-live="polite" aria-atomic="true"></div>

    <div id="global-header-container"></div>
    <div id="language-dropdown-wrapper" class="flex justify-end w-full" style="position: relative; z-index: 100; padding-right: 2rem">
      <div class="relative inline-block text-left z-50">
        <button id="langButton" class="flex items-center space-x-2 border px-3 py-1 rounded-lg shadow bg-gray-100">
          <img id="langFlag" width="20" height="16" src="bandeira-suecia.webp" alt="Svenska" class="w-5 h-4 rounded-sm" loading="lazy">
          <span id="langText" class="text-gray-700 font-medium">Svenska</span>
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>

        <div id="langMenu" class="hidden absolute right-0 mt-2 w-44 bg-white border rounded-lg shadow-lg">
          <!-- Opções de idiomas (mantidas conforme original) -->
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="pt" data-flag="bandeira-brasil.webp">
            <img src="bandeira-brasil.webp" class="w-5 h-4 rounded-sm" alt="Portugisiska" width="20" height="16" loading="lazy"><span>Portugisiska</span>
          </div>
           <!-- ... outros idiomas ... -->
          <div class="flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer space-x-2" data-value="sv" data-flag="bandeira-suecia.webp">
            <img src="bandeira-suecia.webp" class="w-5 h-4 rounded-sm" alt="Svenska" width="20" height="16" loading="lazy"><span>Svenska</span>
          </div>
          <!-- ... outros idiomas ... -->
        </div>
      </div>
    </div>
    <div class="main-container-with-sidebar"></div>

    <main id="main-content" class="flex-grow p-4 md:p-8">
      <div class="main-content-wrapper max-w-4xl mx-auto">
        <nav class="breadcrumb" aria-label="breadcrumb">
          <ol>
            <li><a href="index.html">Start</a></li>
            <li><a href="#">Kalkylatorer</a></li>
            <li>Apache II-skala</li>
          </ol>
        </nav>

        <div class="text-center mb-8">
          <h1 id="main-title" class="font-nunito font-extrabold text-dark-blue text-4xl lg:text-5xl">Apache II-skala</h1>
          <div class="title-bar mx-auto mt-2"></div>
          <h2 id="main-subtitle" class="font-inter font-semibold text-light-blue text-xl lg:text-2xl mt-4">Bedömning av akut fysiologi och kronisk hälsa</h2>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
          <p class="font-inter text-black-custom text-base lg:text-lg mb-6 text-center sm:text-left">Apache II-skalan (Acute Physiology and Chronic Health Evaluation II) är ett poängsystem som används för att bedöma svårighetsgraden av sjukdom hos kritiskt sjuka patienter, särskilt de som är inlagda på intensivvårdsavdelningar (IVA). Den kombinerar akuta fysiologiska data, ålder och kronisk hälsohistoria för att ge en uppskattning av risken för sjukhusdödlighet. Skalan tillämpas inom de första 24 timmarna efter patientens inläggning.</p>
          <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
            <strong>Skapelseår:</strong> 1985</p>
          <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
            <strong>Författare:</strong> Knaus WA, Draper EA, Wagner DP, Zimmerman JE</p>
          <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
            <strong>Användningsområde:</strong> Intensivvårdsavdelning (IVA)</p>
          <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
            <strong>Kriterier utvärderade:</strong> 12 fysiologiska parametrar, ålder och kroniska hälsotillstånd</p>

          <p class="font-inter text-black-custom text-base lg:text-lg text-center sm:text-left">
            <strong>Vem använder det?:</strong> Intensivvårdsläkare och sjuksköterskor</p>
          <p class="font-inter font-normal text-light-blue text-base lg:text-lg mb-6 text-center sm:text-left">Klicka på varje kriterium för att välja motsvarande alternativ:</p>

          <div id="conteudo" role="form" aria-labelledby="main-title" class="space-y-3"></div>

          <div id="resultado" class="resultado hidden mt-6 p-4 rounded-md font-medium" aria-live="polite"></div>

          <div class="flex flex-wrap justify-start gap-4 mt-6">
            <button id="btnCalcular" class="btn-primary">Beräkna</button>
            <button id="btnLimpar" class="btn-primary">Rensa</button>
            <button id="btnGerarPDF" class="btn-secondary">Generera PDF</button>
            <button id="btnNandaNicNoc" class="btn-primary">NANDA, NIC, NOC</button>
          </div>

          <div class="ref font-inter text-gray-custom text-left mt-8 border-t pt-4">
            <strong>Bibliografisk referens:</strong>
            <ul class="list-disc list-inside space-y-1 mt-2">
              <li>COREN-SP. (2018). Orientação Fundamentada 077/2018 - APACHE II.<a href="https://portal.coren-sp.gov.br/wp-content/uploads/2018/04/Orienta%C3%A7%C3%A3o-Fundamentada-077_2.pdf" target="_blank" rel="noopener noreferrer" class="text-light-blue hover:underline"> Dokumentåtkomst</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </main>

    <div id="selection-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50">
      <div class="bg-white rounded-lg shadow-xl w-full max-w-lg max-h-full overflow-y-auto">
        <div class="flex justify-between items-center p-4 border-b">
          <h3 id="modal-title" class="text-xl font-bold text-dark-blue">Välj alternativ</h3>
          <button id="modal-close-btn" class="text-gray-500 hover:text-gray-800">
            <i class="fas fa-times fa-lg"></i>
          </button>
        </div>
        <div id="modal-content" class="p-4 space-y-2"></div>
      </div>
    </div>

    <!-- Seção Newsletter -->
    <form id="newsletters-section" action="https://formspree.io/f/movlvvzp" method="POST" role="form" aria-label="Prenumerera på nyhetsbrev">
      <h2 class="newsletter-heading">Prenumerera på vårt nyhetsbrev</h2>
      <p class="newsletter-description">Få de senaste nyheterna, artiklarna och uppdateringarna direkt i din inkorg!</p>
      <div class="newsletter-form-container">
        <label for="email">E-post</label>
        <input type="email" id="email" name="email" placeholder="Din e-postadress" class="newsletter-email-input" aria-label="E-post" required="" aria-describedby="erro-email ajuda-email">
        <div id="ajuda-email" class="sr-only">Ange en giltig e-postadress för att få uppdateringar.</div>

        <div class="newsletter-consent-checkbox-group">
          <input type="checkbox" id="newsletterConsent" name="consent" class="newsletter-consent-checkbox" required="">
          <label for="newsletterConsent" class="newsletter-consent-label">Jag samtycker till att ta emot information och uppdateringar.</label>
        </div>

        <button type="submit" id="subscribeNewsletterBtn" class="newsletter-subscribe-button" aria-label="Prenumerera på nyhetsbrev" disabled="">Prenumerera</button>
      </div>
      <span id="erro-email" class="newsletter-error-message" aria-live="assertive"></span>
    </form>

    <script src="global-scripts.js" defer=""></script>

    <script>
document.addEventListener("DOMContentLoaded", function () {
  // Elementos da página
  const resultadoDiv = document.getElementById("resultado");
  const conteudoDiv = document.getElementById("conteudo");
  const btnCalcular = document.getElementById("btnCalcular");
  const btnLimpar = document.getElementById("btnLimpar");
  const btnGerarPDF = document.getElementById("btnGerarPDF");
  const btnNandaNicNoc = document.getElementById("btnNandaNicNoc");

  // Elementos do Modal
  const modal = document.getElementById("selection-modal");
  const modalTitle = document.getElementById("modal-title");
  const modalContent = document.getElementById("modal-content");
  const modalCloseBtn = document.getElementById("modal-close-btn");

  // Dados da escala
  const apacheData = [
  {
    category: "Rektal temperatur (°C)",
    nameAttr: "tempRetal",
    options: [
    { description: "≥ 40,9", score: 4 },
    { description: "39 - 40,9", score: 3 },
    { description: "38,5 – 38,9", score: 1 },
    { description: "36 - 38,4", score: 0 },
    { description: "34 - 35,9", score: 1 },
    { description: "32 - 33,9", score: 2 },
    { description: "30 - 31,9", score: 3 },
    { description: "≤ 29,9", score: 4 }]

  },
  {
    category: "Genomsnittligt artärtryck (MAP) (mmHg)",
    nameAttr: "pam",
    options: [
    { description: "≥ 160", score: 4 },
    { description: "130 - 159", score: 3 },
    { description: "110 - 129", score: 2 },
    { description: "70 - 109", score: 0 },
    { description: "55 - 69", score: 2 },
    { description: "40 - 54", score: 3 },
    { description: "≤ 39", score: 4 }]

  },
  {
    category: "Hjärtfrekvens (slag/min)",
    nameAttr: "fc",
    options: [
    { description: "≥ 180", score: 4 },
    { description: "140 - 179", score: 3 },
    { description: "110 - 139", score: 2 },
    { description: "70 - 109", score: 0 },
    { description: "55 - 69", score: 2 },
    { description: "40 - 54", score: 3 },
    { description: "≤ 39", score: 4 }]

  },
  {
    category: "Andningsfrekvens (rpm)",
    nameAttr: "fr",
    options: [
    { description: "≥ 50", score: 4 },
    { description: "35 - 49", score: 3 },
    { description: "25 - 34", score: 1 },
    { description: "12 - 24", score: 0 },
    { description: "10 - 11", score: 1 },
    { description: "6 - 9", score: 2 },
    { description: "≤ 5", score: 4 }]

  },
  {
    category: "Syresättning (PaO2/FiO2 eller A-aDO2)",
    nameAttr: "oxigenacao",
    options: [
    { description: "FiO2 ≥ 0,5 (A-aDO2) ≥ 500", score: 4 },
    { description: "FiO2 ≥ 0,5 (A-aDO2) 350–499", score: 3 },
    { description: "FiO2 ≥ 0,5 (A-aDO2) 200–349", score: 2 },
    { description: "FiO2 < 0,5 (PaO2) > 70", score: 0 },
    { description: "FiO2 < 0,5 (PaO2) 61-70", score: 1 },
    { description: "FiO2 < 0,5 (PaO2) 55-60", score: 3 },
    { description: "FiO2 < 0,5 (PaO2) < 55", score: 4 }]

  },
  {
    category: "Arteriellt pH",
    nameAttr: "phArterial",
    options: [
    { description: "≥ 7,7", score: 4 },
    { description: "7,60–7,69", score: 3 },
    { description: "7,50–7,59", score: 1 },
    { description: "7,33–7,49", score: 0 },
    { description: "7,25-7,32", score: 2 },
    { description: "7,15-7,24", score: 3 },
    { description: "< 7,15", score: 4 }]

  },
  {
    category: "Plasmanatrium (mmol/L)",
    nameAttr: "sodioPlasmatico",
    options: [
    { description: "≥ 180", score: 4 },
    { description: "160-179", score: 3 },
    { description: "155-159", score: 2 },
    { description: "150-154", score: 1 },
    { description: "130-149", score: 0 },
    { description: "120-129", score: 2 },
    { description: "111-119", score: 3 },
    { description: "≤ 110", score: 4 }]

  },
  {
    category: "Plasmakalium (mmol/L)",
    nameAttr: "potassioPlasmatico",
    options: [
    { description: "≥ 7,0", score: 4 },
    { description: "6,0–6,9", score: 3 },
    { description: "5,5–5,9", score: 1 },
    { description: "3,5–5,4", score: 0 },
    { description: "3,0–3,4", score: 1 },
    { description: "2,5–2,9", score: 2 },
    { description: "< 2,5", score: 4 }]

  },
  {
    category: "Kreatinin (mg/dL)",
    nameAttr: "creatinina",
    options: [
    { description: "≥ 3,5", score: 4 },
    { description: "2,0–3,4", score: 3 },
    { description: "1,5–1,9", score: 2 },
    { description: "0,6–1,4", score: 0 },
    { description: "< 0,6", score: 2 }]

  },
  {
    category: "Hematokrit (%)",
    nameAttr: "hematocrito",
    options: [
    { description: "≥ 60", score: 4 },
    { description: "50-59,9", score: 2 },
    { description: "46-49,9", score: 1 },
    { description: "30-45,9", score: 0 },
    { description: "20-29,9", score: 2 },
    { description: "< 20", score: 4 }]

  },
  {
    category: "Vita blodkroppar (x1000)",
    nameAttr: "globulosBrancos",
    options: [
    { description: "≥ 40", score: 4 },
    { description: "20-39,9", score: 2 },
    { description: "15-19,9", score: 1 },
    { description: "3-14,9", score: 0 },
    { description: "1-2,9", score: 2 },
    { description: "< 1", score: 4 }]

  },
  {
    category: "Glasgow Coma Scale (GCS)",
    nameAttr: "gcs",
    options: [
    { description: "GCS 15", score: 0 },
    { description: "GCS 14", score: 1 },
    { description: "GCS 13", score: 2 },
    { description: "GCS 12", score: 3 },
    { description: "GCS 11", score: 4 },
    { description: "GCS 10", score: 5 },
    { description: "GCS 9", score: 6 },
    { description: "GCS 8", score: 7 },
    { description: "GCS 7", score: 8 },
    { description: "GCS 6", score: 9 },
    { description: "GCS 5", score: 10 },
    { description: "GCS 4", score: 11 },
    { description: "GCS 3", score: 12 }]

  },
  {
    category: "Patientens ålder",
    nameAttr: "ålderPatient",
    options: [
    { description: "≤ 44 år gammal", score: 0 },
    { description: "45-54 år gammal", score: 2 },
    { description: "55–64 år gammal", score: 3 },
    { description: "65–74 år gamla", score: 5 },
    { description: "≥ 75 år gammal", score: 6 }]

  },
  {
    category: "Kroniska tillstånd",
    nameAttr: "condicoesCronicas",
    options: [
    { description: "Ingen historia av kroniska tillstånd.", score: 0 },
    {
      description:
      "Med historia av kroniska tillstånd (patient inlagd efter planerad kirurgi).",
      score: 2
    },
    {
      description:
      "Med historia av kroniska tillstånd (patient inlagd för akut kirurgi eller icke-kirurgisk).",
      score: 5
    }]

  }];


  // Armazena as seleções do usuário
  let userSelections = {};

  function openModalForCriterion(paramGroup) {
    modalTitle.textContent = paramGroup.category;
    modalContent.innerHTML = ""; // Limpa opções anteriores

    paramGroup.options.forEach((option) => {
      const label = document.createElement("label");
      label.className = "modal-option-label";

      const radio = document.createElement("input");
      radio.type = "radio";
      radio.name = "modal-option";
      radio.value = option.score;

      // Marca a opção previamente selecionada, se houver
      if (
      userSelections[paramGroup.nameAttr] &&
      userSelections[paramGroup.nameAttr].score === option.score)
      {
        radio.checked = true;
      }

      radio.addEventListener("click", () =>
      handleSelection(
        paramGroup.nameAttr,
        option.score,
        option.description
      )
      );

      const descriptionSpan = document.createElement("span");
      descriptionSpan.textContent = `${option.description} (${option.score} poäng)`;

      label.appendChild(radio);
      label.appendChild(descriptionSpan);
      modalContent.appendChild(label);
    });

    modal.classList.remove("hidden");
  }

  function handleSelection(nameAttr, score, description) {
    userSelections[nameAttr] = {
      score: parseInt(score, 10),
      description: description
    };

    // Atualiza o texto na lista principal
    const listItem = document.querySelector(
      `[data-name="${nameAttr}"] .selected-value`
    );
    if (listItem) {
      listItem.textContent = description;
      listItem.classList.remove("text-gray-400");
      listItem.classList.add("text-blue-600", "font-semibold");
    }

    modal.classList.add("hidden");
  }

  function createCriteriaList() {
    conteudoDiv.innerHTML = ""; // Limpa o conteúdo
    apacheData.forEach((paramGroup, index) => {
      const itemDiv = document.createElement("div");
      itemDiv.className =
      "flex justify-between items-center p-3 bg-gray-50 border rounded-lg shadow-sm cursor-pointer hover:bg-gray-100";
      itemDiv.dataset.name = paramGroup.nameAttr;

      itemDiv.innerHTML = `
                    <span class="font-medium text-gray-700">${index + 1}. ${paramGroup.category}</span>
                    <span class="selected-value text-gray-400 text-sm text-right">Klicka för att välja</span>
                `;

      itemDiv.addEventListener("click", () =>
      openModalForCriterion(paramGroup)
      );
      conteudoDiv.appendChild(itemDiv);
    });
  }

  function calcular() {
    let totalScore = 0;
    const totalCriteria = apacheData.length;
    const selectedCriteriaCount = Object.keys(userSelections).length;

    if (selectedCriteriaCount < totalCriteria) {
      resultadoDiv.innerHTML =
      '⚠️ <strong class="font-bold">Vänligen välj ett alternativ för varje kriterium.</strong>';
      resultadoDiv.className =
      "resultat p-4 rundad-md font-medium bg-info-orange-ljus";
      resultadoDiv.style.display = "block";
      delete resultadoDiv.dataset.score;
      return;
    }

    for (const key in userSelections) {
      totalScore += userSelections[key].score;
    }

    let interpretacao = "";
    let probabilidadeMorte = "";
    let resultadoClasse = "";

    if (totalScore <= 9) {
      interpretacao = "Låg risk för sjukhusdödlighet.";
      probabilidadeMorte = "Ungefär 5-10%";
      resultadoClasse = "bg-apache-low";
    } else if (totalScore <= 19) {
      interpretacao = "Måttlig risk för sjukhusdödlighet.";
      probabilidadeMorte = "Ungefär 10-30%";
      resultadoClasse = "bg-apache-medium";
    } else {
      interpretacao = "Hög risk för sjukhusdödlighet.";
      probabilidadeMorte = "Ungefär >30%";
      resultadoClasse = "bg-apache-high";
    }

    resultadoDiv.innerHTML = `
                <p>Total APACHE II-poäng: <strong class="font-bold">${totalScore}</strong></p>
                <p>Beräknad dödlighetssannolikhet: <strong class="font-bold">${probabilidadeMorte}</strong></p>
                <p>Tolkning: <strong class="font-bold">${interpretacao}</strong></p>
            `;
    resultadoDiv.className = `resultat p-4 rundad-md typsnitt-medium ${resultadoClasse}`;
    resultadoDiv.style.display = "block";
    resultadoDiv.dataset.score = totalScore;
    resultadoDiv.dataset.interpretacao = interpretacao;
  }

  function limpar() {
    userSelections = {};
    createCriteriaList(); // Recria a lista com os valores padrão
    resultadoDiv.innerHTML = "";
    resultadoDiv.className = "dolt resultat";
    delete resultadoDiv.dataset.score;
    delete resultadoDiv.dataset.interpretacao;
  }

  // Event Listeners dos Botões e Modal
  btnCalcular?.addEventListener("click", calcular);
  btnLimpar?.addEventListener("click", limpar);
  modalCloseBtn?.addEventListener("click", () =>
  modal.classList.add("hidden")
  );
  modal?.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.classList.add("hidden");
    }
  });

  btnGerarPDF?.addEventListener("click", () => {
    if (!resultadoDiv.dataset.score) {
      alert('Klicka först på "Beräkna" för att generera PDF-filen.');
      return;
    }
    if (typeof gerarPDFGlobal === "function") {
      gerarPDFGlobal({
        titulo: "Apache II-skala",
        subtitulo:
        "Akut fysiologi och kronisk hälsobedömningsrapport",
        nomeArquivo: "apache_ii_rapport.pdf",
        seletorConteudo: ".main-content-wrapper"
      });
    } else {
      console.error("Funktionen GeneratePDFGlobal är inte definierad.");
    }
  });

  btnNandaNicNoc?.addEventListener("click", () => {
    const interpretacao = resultadoDiv.dataset.interpretacao;
    if (!interpretacao) {
      alert("Beräkna resultatet för att undersöka åtgärder.");
      return;
    }
    const searchQuery = encodeURIComponent(
      `${interpretacao} NANDA, NIC och NOC taxonomi`
    );
    window.open(
      `https://www.google.com/search?q=${searchQuery}`,
      "_blank"
    );
  });

  // Inicializa a calculadora
  createCriteriaList();
});</script>

    <script src="/lang-selector.js" defer=""></script>

    <div id="footer-placeholder"></div>
    <script>
      fetch("footer.html") // 1. Busca o arquivo
        .then((response) => response.text()) // 2. Converte a resposta para texto (HTML)
        .then((data) => {
          // 3. Insere o HTML dentro do seu placeholder
          document.getElementById("footer-placeholder").innerHTML = data;
        });
    </script>
  
</body></html>